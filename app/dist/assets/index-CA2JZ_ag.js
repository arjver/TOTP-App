(function(){const ee=document.createElement("link").relList;if(ee&&ee.supports&&ee.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))ne(ie);new MutationObserver(ie=>{for(const se of ie)if(se.type==="childList")for(const oe of se.addedNodes)oe.tagName==="LINK"&&oe.rel==="modulepreload"&&ne(oe)}).observe(document,{childList:!0,subtree:!0});function te(ie){const se={};return ie.integrity&&(se.integrity=ie.integrity),ie.referrerPolicy&&(se.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?se.credentials="include":ie.crossOrigin==="anonymous"?se.credentials="omit":se.credentials="same-origin",se}function ne(ie){if(ie.ep)return;ie.ep=!0;const se=te(ie);fetch(ie.href,se)}})();const DEV=!1;var is_array=Array.isArray,index_of=Array.prototype.indexOf,array_from=Array.from,define_property=Object.defineProperty,get_descriptor=Object.getOwnPropertyDescriptor,get_descriptors=Object.getOwnPropertyDescriptors,object_prototype=Object.prototype,array_prototype=Array.prototype,get_prototype_of=Object.getPrototypeOf;const noop=()=>{};function is_promise(re){return typeof(re==null?void 0:re.then)=="function"}function run(re){return re()}function run_all(re){for(var ee=0;ee<re.length;ee++)re[ee]()}const DERIVED=2,EFFECT=4,RENDER_EFFECT=8,BLOCK_EFFECT=16,BRANCH_EFFECT=32,ROOT_EFFECT=64,BOUNDARY_EFFECT=128,UNOWNED=256,DISCONNECTED=512,CLEAN=1024,DIRTY=2048,MAYBE_DIRTY=4096,INERT=8192,DESTROYED=16384,EFFECT_RAN=32768,EFFECT_TRANSPARENT=65536,LEGACY_DERIVED_PROP=1<<17,HEAD_EFFECT=1<<19,EFFECT_HAS_DERIVED=1<<20,STATE_SYMBOL=Symbol("$state"),LEGACY_PROPS=Symbol("legacy props"),LOADING_ATTR_SYMBOL=Symbol("");function equals(re){return re===this.v}function safe_not_equal(re,ee){return re!=re?ee==ee:re!==ee||re!==null&&typeof re=="object"||typeof re=="function"}function safe_equals(re){return!safe_not_equal(re,this.v)}function effect_in_teardown(re){throw new Error("https://svelte.dev/e/effect_in_teardown")}function effect_in_unowned_derived(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function effect_orphan(re){throw new Error("https://svelte.dev/e/effect_orphan")}function effect_update_depth_exceeded(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function props_invalid_value(re){throw new Error("https://svelte.dev/e/props_invalid_value")}function state_descriptors_fixed(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function state_prototype_fixed(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function state_unsafe_local_read(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function state_unsafe_mutation(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let legacy_mode_flag=!1,tracing_mode_flag=!1;function enable_legacy_mode_flag(){legacy_mode_flag=!0}const EACH_ITEM_REACTIVE=1,EACH_INDEX_REACTIVE=2,EACH_ITEM_IMMUTABLE=16,PROPS_IS_IMMUTABLE=1,PROPS_IS_RUNES=2,TEMPLATE_FRAGMENT=1,TEMPLATE_USE_IMPORT_NODE=2,UNINITIALIZED=Symbol();function source(re,ee){var te={f:0,v:re,reactions:null,equals,rv:0,wv:0};return te}function state(re){return push_derived_source(source(re))}function mutable_source(re,ee=!1){var ne;const te=source(re);return ee||(te.equals=safe_equals),legacy_mode_flag&&component_context!==null&&component_context.l!==null&&((ne=component_context.l).s??(ne.s=[])).push(te),te}function mutable_state(re,ee=!1){return push_derived_source(mutable_source(re,ee))}function push_derived_source(re){return active_reaction!==null&&active_reaction.f&DERIVED&&(derived_sources===null?set_derived_sources([re]):derived_sources.push(re)),re}function set(re,ee){return active_reaction!==null&&is_runes()&&active_reaction.f&(DERIVED|BLOCK_EFFECT)&&(derived_sources===null||!derived_sources.includes(re))&&state_unsafe_mutation(),internal_set(re,ee)}function internal_set(re,ee){return re.equals(ee)||(re.v,re.v=ee,re.wv=increment_write_version(),mark_reactions(re,DIRTY),is_runes()&&active_effect!==null&&active_effect.f&CLEAN&&!(active_effect.f&BRANCH_EFFECT)&&(new_deps!==null&&new_deps.includes(re)?(set_signal_status(active_effect,DIRTY),schedule_effect(active_effect)):untracked_writes===null?set_untracked_writes([re]):untracked_writes.push(re))),ee}function mark_reactions(re,ee){var te=re.reactions;if(te!==null)for(var ne=is_runes(),ie=te.length,se=0;se<ie;se++){var oe=te[se],ue=oe.f;ue&DIRTY||!ne&&oe===active_effect||(set_signal_status(oe,ee),ue&(CLEAN|UNOWNED)&&(ue&DERIVED?mark_reactions(oe,MAYBE_DIRTY):schedule_effect(oe)))}}let hydrating=!1;function proxy(re,ee=null,te){if(typeof re!="object"||re===null||STATE_SYMBOL in re)return re;const ne=get_prototype_of(re);if(ne!==object_prototype&&ne!==array_prototype)return re;var ie=new Map,se=is_array(re),oe=source(0);se&&ie.set("length",source(re.length));var ue;return new Proxy(re,{defineProperty(ae,ce,he){(!("value"in he)||he.configurable===!1||he.enumerable===!1||he.writable===!1)&&state_descriptors_fixed();var fe=ie.get(ce);return fe===void 0?(fe=source(he.value),ie.set(ce,fe)):set(fe,proxy(he.value,ue)),!0},deleteProperty(ae,ce){var he=ie.get(ce);if(he===void 0)ce in ae&&ie.set(ce,source(UNINITIALIZED));else{if(se&&typeof ce=="string"){var fe=ie.get("length"),le=Number(ce);Number.isInteger(le)&&le<fe.v&&set(fe,le)}set(he,UNINITIALIZED),update_version(oe)}return!0},get(ae,ce,he){var _e;if(ce===STATE_SYMBOL)return re;var fe=ie.get(ce),le=ce in ae;if(fe===void 0&&(!le||(_e=get_descriptor(ae,ce))!=null&&_e.writable)&&(fe=source(proxy(le?ae[ce]:UNINITIALIZED,ue)),ie.set(ce,fe)),fe!==void 0){var de=get(fe);return de===UNINITIALIZED?void 0:de}return Reflect.get(ae,ce,he)},getOwnPropertyDescriptor(ae,ce){var he=Reflect.getOwnPropertyDescriptor(ae,ce);if(he&&"value"in he){var fe=ie.get(ce);fe&&(he.value=get(fe))}else if(he===void 0){var le=ie.get(ce),de=le==null?void 0:le.v;if(le!==void 0&&de!==UNINITIALIZED)return{enumerable:!0,configurable:!0,value:de,writable:!0}}return he},has(ae,ce){var de;if(ce===STATE_SYMBOL)return!0;var he=ie.get(ce),fe=he!==void 0&&he.v!==UNINITIALIZED||Reflect.has(ae,ce);if(he!==void 0||active_effect!==null&&(!fe||(de=get_descriptor(ae,ce))!=null&&de.writable)){he===void 0&&(he=source(fe?proxy(ae[ce],ue):UNINITIALIZED),ie.set(ce,he));var le=get(he);if(le===UNINITIALIZED)return!1}return fe},set(ae,ce,he,fe){var me;var le=ie.get(ce),de=ce in ae;if(se&&ce==="length")for(var _e=he;_e<le.v;_e+=1){var pe=ie.get(_e+"");pe!==void 0?set(pe,UNINITIALIZED):_e in ae&&(pe=source(UNINITIALIZED),ie.set(_e+"",pe))}le===void 0?(!de||(me=get_descriptor(ae,ce))!=null&&me.writable)&&(le=source(void 0),set(le,proxy(he,ue)),ie.set(ce,le)):(de=le.v!==UNINITIALIZED,set(le,proxy(he,ue)));var ve=Reflect.getOwnPropertyDescriptor(ae,ce);if(ve!=null&&ve.set&&ve.set.call(fe,he),!de){if(se&&typeof ce=="string"){var ge=ie.get("length"),we=Number(ce);Number.isInteger(we)&&we>=ge.v&&set(ge,we+1)}update_version(oe)}return!0},ownKeys(ae){get(oe);var ce=Reflect.ownKeys(ae).filter(le=>{var de=ie.get(le);return de===void 0||de.v!==UNINITIALIZED});for(var[he,fe]of ie)fe.v!==UNINITIALIZED&&!(he in ae)&&ce.push(he);return ce},setPrototypeOf(){state_prototype_fixed()}})}function update_version(re,ee=1){set(re,re.v+ee)}var $window,first_child_getter,next_sibling_getter;function init_operations(){if($window===void 0){$window=window;var re=Element.prototype,ee=Node.prototype;first_child_getter=get_descriptor(ee,"firstChild").get,next_sibling_getter=get_descriptor(ee,"nextSibling").get,re.__click=void 0,re.__className="",re.__attributes=null,re.__styles=null,re.__e=void 0,Text.prototype.__t=void 0}}function create_text(re=""){return document.createTextNode(re)}function get_first_child(re){return first_child_getter.call(re)}function get_next_sibling(re){return next_sibling_getter.call(re)}function child(re,ee){return get_first_child(re)}function first_child(re,ee){{var te=get_first_child(re);return te instanceof Comment&&te.data===""?get_next_sibling(te):te}}function sibling(re,ee=1,te=!1){let ne=re;for(;ee--;)ne=get_next_sibling(ne);return ne}function clear_text_content(re){re.textContent=""}function derived(re){var ee=DERIVED|DIRTY;active_effect===null?ee|=UNOWNED:active_effect.f|=EFFECT_HAS_DERIVED;var te=active_reaction!==null&&active_reaction.f&DERIVED?active_reaction:null;const ne={children:null,ctx:component_context,deps:null,equals,f:ee,fn:re,reactions:null,rv:0,v:null,wv:0,parent:te??active_effect};return te!==null&&(te.children??(te.children=[])).push(ne),ne}function derived_safe_equal(re){const ee=derived(re);return ee.equals=safe_equals,ee}function destroy_derived_children(re){var ee=re.children;if(ee!==null){re.children=null;for(var te=0;te<ee.length;te+=1){var ne=ee[te];ne.f&DERIVED?destroy_derived(ne):destroy_effect(ne)}}}function get_derived_parent_effect(re){for(var ee=re.parent;ee!==null;){if(!(ee.f&DERIVED))return ee;ee=ee.parent}return null}function execute_derived(re){var ee,te=active_effect;set_active_effect(get_derived_parent_effect(re));try{destroy_derived_children(re),ee=update_reaction(re)}finally{set_active_effect(te)}return ee}function update_derived(re){var ee=execute_derived(re),te=(skip_reaction||re.f&UNOWNED)&&re.deps!==null?MAYBE_DIRTY:CLEAN;set_signal_status(re,te),re.equals(ee)||(re.v=ee,re.wv=increment_write_version())}function destroy_derived(re){destroy_derived_children(re),remove_reactions(re,0),set_signal_status(re,DESTROYED),re.v=re.children=re.deps=re.ctx=re.reactions=null}function validate_effect(re){active_effect===null&&active_reaction===null&&effect_orphan(),active_reaction!==null&&active_reaction.f&UNOWNED&&effect_in_unowned_derived(),is_destroying_effect&&effect_in_teardown()}function push_effect(re,ee){var te=ee.last;te===null?ee.last=ee.first=re:(te.next=re,re.prev=te,ee.last=re)}function create_effect(re,ee,te,ne=!0){var ie=(re&ROOT_EFFECT)!==0,se=active_effect,oe={ctx:component_context,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:re|DIRTY,first:null,fn:ee,last:null,next:null,parent:ie?null:se,prev:null,teardown:null,transitions:null,wv:0};if(te){var ue=is_flushing_effect;try{set_is_flushing_effect(!0),update_effect(oe),oe.f|=EFFECT_RAN}catch(he){throw destroy_effect(oe),he}finally{set_is_flushing_effect(ue)}}else ee!==null&&schedule_effect(oe);var ae=te&&oe.deps===null&&oe.first===null&&oe.nodes_start===null&&oe.teardown===null&&(oe.f&EFFECT_HAS_DERIVED)===0;if(!ae&&!ie&&ne&&(se!==null&&push_effect(oe,se),active_reaction!==null&&active_reaction.f&DERIVED)){var ce=active_reaction;(ce.children??(ce.children=[])).push(oe)}return oe}function teardown(re){const ee=create_effect(RENDER_EFFECT,null,!1);return set_signal_status(ee,CLEAN),ee.teardown=re,ee}function user_effect(re){validate_effect();var ee=active_effect!==null&&(active_effect.f&BRANCH_EFFECT)!==0&&component_context!==null&&!component_context.m;if(ee){var te=component_context;(te.e??(te.e=[])).push({fn:re,effect:active_effect,reaction:active_reaction})}else{var ne=effect(re);return ne}}function user_pre_effect(re){return validate_effect(),render_effect(re)}function component_root(re){const ee=create_effect(ROOT_EFFECT,re,!0);return(te={})=>new Promise(ne=>{te.outro?pause_effect(ee,()=>{destroy_effect(ee),ne(void 0)}):(destroy_effect(ee),ne(void 0))})}function effect(re){return create_effect(EFFECT,re,!1)}function render_effect(re){return create_effect(RENDER_EFFECT,re,!0)}function template_effect(re){return block(re)}function block(re,ee=0){return create_effect(RENDER_EFFECT|BLOCK_EFFECT|ee,re,!0)}function branch(re,ee=!0){return create_effect(RENDER_EFFECT|BRANCH_EFFECT,re,!0,ee)}function execute_effect_teardown(re){var ee=re.teardown;if(ee!==null){const te=is_destroying_effect,ne=active_reaction;set_is_destroying_effect(!0),set_active_reaction(null);try{ee.call(null)}finally{set_is_destroying_effect(te),set_active_reaction(ne)}}}function destroy_effect_deriveds(re){var ee=re.deriveds;if(ee!==null){re.deriveds=null;for(var te=0;te<ee.length;te+=1)destroy_derived(ee[te])}}function destroy_effect_children(re,ee=!1){var te=re.first;for(re.first=re.last=null;te!==null;){var ne=te.next;destroy_effect(te,ee),te=ne}}function destroy_block_effect_children(re){for(var ee=re.first;ee!==null;){var te=ee.next;ee.f&BRANCH_EFFECT||destroy_effect(ee),ee=te}}function destroy_effect(re,ee=!0){var te=!1;if((ee||re.f&HEAD_EFFECT)&&re.nodes_start!==null){for(var ne=re.nodes_start,ie=re.nodes_end;ne!==null;){var se=ne===ie?null:get_next_sibling(ne);ne.remove(),ne=se}te=!0}destroy_effect_children(re,ee&&!te),destroy_effect_deriveds(re),remove_reactions(re,0),set_signal_status(re,DESTROYED);var oe=re.transitions;if(oe!==null)for(const ae of oe)ae.stop();execute_effect_teardown(re);var ue=re.parent;ue!==null&&ue.first!==null&&unlink_effect(re),re.next=re.prev=re.teardown=re.ctx=re.deps=re.fn=re.nodes_start=re.nodes_end=null}function unlink_effect(re){var ee=re.parent,te=re.prev,ne=re.next;te!==null&&(te.next=ne),ne!==null&&(ne.prev=te),ee!==null&&(ee.first===re&&(ee.first=ne),ee.last===re&&(ee.last=te))}function pause_effect(re,ee){var te=[];pause_children(re,te,!0),run_out_transitions(te,()=>{destroy_effect(re),ee&&ee()})}function run_out_transitions(re,ee){var te=re.length;if(te>0){var ne=()=>--te||ee();for(var ie of re)ie.out(ne)}else ee()}function pause_children(re,ee,te){if(!(re.f&INERT)){if(re.f^=INERT,re.transitions!==null)for(const oe of re.transitions)(oe.is_global||te)&&ee.push(oe);for(var ne=re.first;ne!==null;){var ie=ne.next,se=(ne.f&EFFECT_TRANSPARENT)!==0||(ne.f&BRANCH_EFFECT)!==0;pause_children(ne,ee,se?te:!1),ne=ie}}}function resume_effect(re){resume_children(re,!0)}function resume_children(re,ee){if(re.f&INERT){check_dirtiness(re)&&update_effect(re),re.f^=INERT;for(var te=re.first;te!==null;){var ne=te.next,ie=(te.f&EFFECT_TRANSPARENT)!==0||(te.f&BRANCH_EFFECT)!==0;resume_children(te,ie?ee:!1),te=ne}if(re.transitions!==null)for(const se of re.transitions)(se.is_global||ee)&&se.in()}}let is_micro_task_queued$1=!1,current_queued_micro_tasks=[];function process_micro_tasks(){is_micro_task_queued$1=!1;const re=current_queued_micro_tasks.slice();current_queued_micro_tasks=[],run_all(re)}function queue_micro_task(re){is_micro_task_queued$1||(is_micro_task_queued$1=!0,queueMicrotask(process_micro_tasks)),current_queued_micro_tasks.push(re)}function flush_tasks(){is_micro_task_queued$1&&process_micro_tasks()}function lifecycle_outside_component(re){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const FLUSH_MICROTASK=0,FLUSH_SYNC=1;let is_throwing_error=!1,scheduler_mode=FLUSH_MICROTASK,is_micro_task_queued=!1,last_scheduled_effect=null,is_flushing_effect=!1,is_destroying_effect=!1;function set_is_flushing_effect(re){is_flushing_effect=re}function set_is_destroying_effect(re){is_destroying_effect=re}let queued_root_effects=[],flush_count=0,dev_effect_stack=[],active_reaction=null;function set_active_reaction(re){active_reaction=re}let active_effect=null;function set_active_effect(re){active_effect=re}let derived_sources=null;function set_derived_sources(re){derived_sources=re}let new_deps=null,skipped_deps=0,untracked_writes=null;function set_untracked_writes(re){untracked_writes=re}let write_version=1,read_version=0,skip_reaction=!1,component_context=null;function set_component_context(re){component_context=re}function increment_write_version(){return++write_version}function is_runes(){return!legacy_mode_flag||component_context!==null&&component_context.l===null}function check_dirtiness(re){var ce;var ee=re.f;if(ee&DIRTY)return!0;if(ee&MAYBE_DIRTY){var te=re.deps,ne=(ee&UNOWNED)!==0;if(te!==null){var ie,se,oe=(ee&DISCONNECTED)!==0,ue=ne&&active_effect!==null&&!skip_reaction,ae=te.length;if(oe||ue){for(ie=0;ie<ae;ie++)se=te[ie],(oe||!((ce=se==null?void 0:se.reactions)!=null&&ce.includes(re)))&&(se.reactions??(se.reactions=[])).push(re);oe&&(re.f^=DISCONNECTED)}for(ie=0;ie<ae;ie++)if(se=te[ie],check_dirtiness(se)&&update_derived(se),se.wv>re.wv)return!0}(!ne||active_effect!==null&&!skip_reaction)&&set_signal_status(re,CLEAN)}return!1}function propagate_error(re,ee){for(var te=ee;te!==null;){if(te.f&BOUNDARY_EFFECT)try{te.fn(re);return}catch{te.f^=BOUNDARY_EFFECT}te=te.parent}throw is_throwing_error=!1,re}function should_rethrow_error(re){return(re.f&DESTROYED)===0&&(re.parent===null||(re.parent.f&BOUNDARY_EFFECT)===0)}function handle_error(re,ee,te,ne){if(is_throwing_error){if(te===null&&(is_throwing_error=!1),should_rethrow_error(ee))throw re;return}te!==null&&(is_throwing_error=!0);{propagate_error(re,ee);return}}function update_reaction(re){var le;var ee=new_deps,te=skipped_deps,ne=untracked_writes,ie=active_reaction,se=skip_reaction,oe=derived_sources,ue=component_context,ae=re.f;new_deps=null,skipped_deps=0,untracked_writes=null,active_reaction=ae&(BRANCH_EFFECT|ROOT_EFFECT)?null:re,skip_reaction=!is_flushing_effect&&(ae&UNOWNED)!==0,derived_sources=null,component_context=re.ctx,read_version++;try{var ce=(0,re.fn)(),he=re.deps;if(new_deps!==null){var fe;if(remove_reactions(re,skipped_deps),he!==null&&skipped_deps>0)for(he.length=skipped_deps+new_deps.length,fe=0;fe<new_deps.length;fe++)he[skipped_deps+fe]=new_deps[fe];else re.deps=he=new_deps;if(!skip_reaction)for(fe=skipped_deps;fe<he.length;fe++)((le=he[fe]).reactions??(le.reactions=[])).push(re)}else he!==null&&skipped_deps<he.length&&(remove_reactions(re,skipped_deps),he.length=skipped_deps);return ie!==null&&read_version++,ce}finally{new_deps=ee,skipped_deps=te,untracked_writes=ne,active_reaction=ie,skip_reaction=se,derived_sources=oe,component_context=ue}}function remove_reaction(re,ee){let te=ee.reactions;if(te!==null){var ne=index_of.call(te,re);if(ne!==-1){var ie=te.length-1;ie===0?te=ee.reactions=null:(te[ne]=te[ie],te.pop())}}te===null&&ee.f&DERIVED&&(new_deps===null||!new_deps.includes(ee))&&(set_signal_status(ee,MAYBE_DIRTY),ee.f&(UNOWNED|DISCONNECTED)||(ee.f^=DISCONNECTED),remove_reactions(ee,0))}function remove_reactions(re,ee){var te=re.deps;if(te!==null)for(var ne=ee;ne<te.length;ne++)remove_reaction(re,te[ne])}function update_effect(re){var ee=re.f;if(!(ee&DESTROYED)){set_signal_status(re,CLEAN);var te=active_effect,ne=component_context;active_effect=re;try{ee&BLOCK_EFFECT?destroy_block_effect_children(re):destroy_effect_children(re),destroy_effect_deriveds(re),execute_effect_teardown(re);var ie=update_reaction(re);re.teardown=typeof ie=="function"?ie:null,re.wv=write_version;var se=re.deps,oe;DEV&&tracing_mode_flag&&re.f&DIRTY}catch(ue){handle_error(ue,re,te,ne||re.ctx)}finally{active_effect=te}}}function infinite_loop_guard(){if(flush_count>1e3){flush_count=0;try{effect_update_depth_exceeded()}catch(re){if(last_scheduled_effect!==null)handle_error(re,last_scheduled_effect,null);else throw re}}flush_count++}function flush_queued_root_effects(re){var ee=re.length;if(ee!==0){infinite_loop_guard();var te=is_flushing_effect;is_flushing_effect=!0;try{for(var ne=0;ne<ee;ne++){var ie=re[ne];ie.f&CLEAN||(ie.f^=CLEAN);var se=[];process_effects(ie,se),flush_queued_effects(se)}}finally{is_flushing_effect=te}}}function flush_queued_effects(re){var ee=re.length;if(ee!==0)for(var te=0;te<ee;te++){var ne=re[te];if(!(ne.f&(DESTROYED|INERT)))try{check_dirtiness(ne)&&(update_effect(ne),ne.deps===null&&ne.first===null&&ne.nodes_start===null&&(ne.teardown===null?unlink_effect(ne):ne.fn=null))}catch(ie){handle_error(ie,ne,null,ne.ctx)}}}function process_deferred(){if(is_micro_task_queued=!1,flush_count>1001)return;const re=queued_root_effects;queued_root_effects=[],flush_queued_root_effects(re),is_micro_task_queued||(flush_count=0,last_scheduled_effect=null)}function schedule_effect(re){scheduler_mode===FLUSH_MICROTASK&&(is_micro_task_queued||(is_micro_task_queued=!0,queueMicrotask(process_deferred))),last_scheduled_effect=re;for(var ee=re;ee.parent!==null;){ee=ee.parent;var te=ee.f;if(te&(ROOT_EFFECT|BRANCH_EFFECT)){if(!(te&CLEAN))return;ee.f^=CLEAN}}queued_root_effects.push(ee)}function process_effects(re,ee){var te=re.first,ne=[];e:for(;te!==null;){var ie=te.f,se=(ie&BRANCH_EFFECT)!==0,oe=se&&(ie&CLEAN)!==0,ue=te.next;if(!oe&&!(ie&INERT))if(ie&RENDER_EFFECT){if(se)te.f^=CLEAN;else try{check_dirtiness(te)&&update_effect(te)}catch(fe){handle_error(fe,te,null,te.ctx)}var ae=te.first;if(ae!==null){te=ae;continue}}else ie&EFFECT&&ne.push(te);if(ue===null){let fe=te.parent;for(;fe!==null;){if(re===fe)break e;var ce=fe.next;if(ce!==null){te=ce;continue e}fe=fe.parent}}te=ue}for(var he=0;he<ne.length;he++)ae=ne[he],ee.push(ae),process_effects(ae,ee)}function flush_sync(re){var ee=scheduler_mode,te=queued_root_effects;try{infinite_loop_guard();const ie=[];scheduler_mode=FLUSH_SYNC,queued_root_effects=ie,is_micro_task_queued=!1,flush_queued_root_effects(te);var ne=re==null?void 0:re();return flush_tasks(),(queued_root_effects.length>0||ie.length>0)&&flush_sync(),flush_count=0,last_scheduled_effect=null,ne}finally{scheduler_mode=ee,queued_root_effects=te}}function get(re){var he;var ee=re.f,te=(ee&DERIVED)!==0;if(te&&ee&DESTROYED){var ne=execute_derived(re);return destroy_derived(re),ne}if(active_reaction!==null){derived_sources!==null&&derived_sources.includes(re)&&state_unsafe_local_read();var ie=active_reaction.deps;re.rv<read_version&&(re.rv=read_version,new_deps===null&&ie!==null&&ie[skipped_deps]===re?skipped_deps++:new_deps===null?new_deps=[re]:new_deps.push(re),untracked_writes!==null&&active_effect!==null&&active_effect.f&CLEAN&&!(active_effect.f&BRANCH_EFFECT)&&untracked_writes.includes(re)&&(set_signal_status(active_effect,DIRTY),schedule_effect(active_effect)))}else if(te&&re.deps===null)for(var se=re,oe=se.parent,ue=se;oe!==null;)if(oe.f&DERIVED){var ae=oe;ue=ae,oe=ae.parent}else{var ce=oe;(he=ce.deriveds)!=null&&he.includes(ue)||(ce.deriveds??(ce.deriveds=[])).push(ue);break}return te&&(se=re,check_dirtiness(se)&&update_derived(se)),re.v}function untrack(re){const ee=active_reaction;try{return active_reaction=null,re()}finally{active_reaction=ee}}const STATUS_MASK=-7169;function set_signal_status(re,ee){re.f=re.f&STATUS_MASK|ee}function push(re,ee=!1,te){component_context={p:component_context,c:null,e:null,m:!1,s:re,x:null,l:null},legacy_mode_flag&&!ee&&(component_context.l={s:null,u:null,r1:[],r2:source(!1)})}function pop(re){const ee=component_context;if(ee!==null){re!==void 0&&(ee.x=re);const oe=ee.e;if(oe!==null){var te=active_effect,ne=active_reaction;ee.e=null;try{for(var ie=0;ie<oe.length;ie++){var se=oe[ie];set_active_effect(se.effect),set_active_reaction(se.reaction),effect(se.fn)}}finally{set_active_effect(te),set_active_reaction(ne)}}component_context=ee.p,ee.m=!0}return re||{}}function deep_read_state(re){if(!(typeof re!="object"||!re||re instanceof EventTarget)){if(STATE_SYMBOL in re)deep_read(re);else if(!Array.isArray(re))for(let ee in re){const te=re[ee];typeof te=="object"&&te&&STATE_SYMBOL in te&&deep_read(te)}}}function deep_read(re,ee=new Set){if(typeof re=="object"&&re!==null&&!(re instanceof EventTarget)&&!ee.has(re)){ee.add(re),re instanceof Date&&re.getTime();for(let ne in re)try{deep_read(re[ne],ee)}catch{}const te=get_prototype_of(re);if(te!==Object.prototype&&te!==Array.prototype&&te!==Map.prototype&&te!==Set.prototype&&te!==Date.prototype){const ne=get_descriptors(te);for(let ie in ne){const se=ne[ie].get;if(se)try{se.call(re)}catch{}}}}}const PASSIVE_EVENTS=["touchstart","touchmove"];function is_passive_event(re){return PASSIVE_EVENTS.includes(re)}function without_reactive_context(re){var ee=active_reaction,te=active_effect;set_active_reaction(null),set_active_effect(null);try{return re()}finally{set_active_reaction(ee),set_active_effect(te)}}const all_registered_events=new Set,root_event_handles=new Set;function create_event(re,ee,te,ne){function ie(se){if(ne.capture||handle_event_propagation.call(ee,se),!se.cancelBubble)return without_reactive_context(()=>te.call(this,se))}return re.startsWith("pointer")||re.startsWith("touch")||re==="wheel"?queue_micro_task(()=>{ee.addEventListener(re,ie,ne)}):ee.addEventListener(re,ie,ne),ie}function event(re,ee,te,ne,ie){var se={capture:ne,passive:ie},oe=create_event(re,ee,te,se);(ee===document.body||ee===window||ee===document)&&teardown(()=>{ee.removeEventListener(re,oe,se)})}function handle_event_propagation(re){var we;var ee=this,te=ee.ownerDocument,ne=re.type,ie=((we=re.composedPath)==null?void 0:we.call(re))||[],se=ie[0]||re.target,oe=0,ue=re.__root;if(ue){var ae=ie.indexOf(ue);if(ae!==-1&&(ee===document||ee===window)){re.__root=ee;return}var ce=ie.indexOf(ee);if(ce===-1)return;ae<=ce&&(oe=ae)}if(se=ie[oe]||re.target,se!==ee){define_property(re,"currentTarget",{configurable:!0,get(){return se||te}});var he=active_reaction,fe=active_effect;set_active_reaction(null),set_active_effect(null);try{for(var le,de=[];se!==null;){var _e=se.assignedSlot||se.parentNode||se.host||null;try{var pe=se["__"+ne];if(pe!==void 0&&!se.disabled)if(is_array(pe)){var[ve,...ge]=pe;ve.apply(se,[re,...ge])}else pe.call(se,re)}catch(me){le?de.push(me):le=me}if(re.cancelBubble||_e===ee||_e===null)break;se=_e}if(le){for(let me of de)queueMicrotask(()=>{throw me});throw le}}finally{re.__root=ee,delete re.currentTarget,set_active_reaction(he),set_active_effect(fe)}}}function create_fragment_from_html(re){var ee=document.createElement("template");return ee.innerHTML=re,ee.content}function assign_nodes(re,ee){var te=active_effect;te.nodes_start===null&&(te.nodes_start=re,te.nodes_end=ee)}function template(re,ee){var te=(ee&TEMPLATE_FRAGMENT)!==0,ne=(ee&TEMPLATE_USE_IMPORT_NODE)!==0,ie,se=!re.startsWith("<!>");return()=>{ie===void 0&&(ie=create_fragment_from_html(se?re:"<!>"+re),te||(ie=get_first_child(ie)));var oe=ne?document.importNode(ie,!0):ie.cloneNode(!0);if(te){var ue=get_first_child(oe),ae=oe.lastChild;assign_nodes(ue,ae)}else assign_nodes(oe,oe);return oe}}function comment(){var re=document.createDocumentFragment(),ee=document.createComment(""),te=create_text();return re.append(ee,te),assign_nodes(ee,te),re}function append(re,ee){re!==null&&re.before(ee)}function set_text(re,ee){var te=ee==null?"":typeof ee=="object"?ee+"":ee;te!==(re.__t??(re.__t=re.nodeValue))&&(re.__t=te,re.nodeValue=te==null?"":te+"")}function mount(re,ee){return _mount(re,ee)}const document_listeners=new Map;function _mount(re,{target:ee,anchor:te,props:ne={},events:ie,context:se,intro:oe=!0}){init_operations();var ue=new Set,ae=fe=>{for(var le=0;le<fe.length;le++){var de=fe[le];if(!ue.has(de)){ue.add(de);var _e=is_passive_event(de);ee.addEventListener(de,handle_event_propagation,{passive:_e});var pe=document_listeners.get(de);pe===void 0?(document.addEventListener(de,handle_event_propagation,{passive:_e}),document_listeners.set(de,1)):document_listeners.set(de,pe+1)}}};ae(array_from(all_registered_events)),root_event_handles.add(ae);var ce=void 0,he=component_root(()=>{var fe=te??ee.appendChild(create_text());return branch(()=>{if(se){push({});var le=component_context;le.c=se}ie&&(ne.$$events=ie),ce=re(fe,ne)||{},se&&pop()}),()=>{var _e;for(var le of ue){ee.removeEventListener(le,handle_event_propagation);var de=document_listeners.get(le);--de===0?(document.removeEventListener(le,handle_event_propagation),document_listeners.delete(le)):document_listeners.set(le,de)}root_event_handles.delete(ae),fe!==te&&((_e=fe.parentNode)==null||_e.removeChild(fe))}});return mounted_components.set(ce,he),ce}let mounted_components=new WeakMap;const PENDING=0,THEN=1,CATCH=2;function await_block(re,ee,te,ne,ie){var se=re,oe=is_runes(),ue=component_context,ae=UNINITIALIZED,ce,he,fe,le=(oe?source:mutable_source)(void 0),de=(oe?source:mutable_source)(void 0),_e=!1;function pe(ge,we){_e=!0,we&&(set_active_effect(ve),set_active_reaction(ve),set_component_context(ue));try{ge===THEN&&ne&&(he?resume_effect(he):he=branch(()=>ne(se,le))),ge!==PENDING&&ce&&pause_effect(ce,()=>ce=null),ge!==THEN&&he&&pause_effect(he,()=>he=null),ge!==CATCH&&fe&&pause_effect(fe,()=>fe=null)}finally{we&&(set_component_context(null),set_active_reaction(null),set_active_effect(null),flush_sync())}}var ve=block(()=>{if(ae!==(ae=ee())){if(is_promise(ae)){var ge=ae;_e=!1,ge.then(we=>{ge===ae&&(internal_set(le,we),pe(THEN,!0))},we=>{if(ge===ae)throw internal_set(de,we),pe(CATCH,!0),de.v}),queue_micro_task(()=>{_e||pe(PENDING,!0)})}else internal_set(le,ae),pe(THEN,!1);return()=>ae=UNINITIALIZED}})}function if_block(re,ee,te=!1){var ne=re,ie=null,se=null,oe=UNINITIALIZED,ue=te?EFFECT_TRANSPARENT:0,ae=!1;const ce=(fe,le=!0)=>{ae=!0,he(le,fe)},he=(fe,le)=>{oe!==(oe=fe)&&(oe?(ie?resume_effect(ie):le&&(ie=branch(()=>le(ne))),se&&pause_effect(se,()=>{se=null})):(se?resume_effect(se):le&&(se=branch(()=>le(ne))),ie&&pause_effect(ie,()=>{ie=null})))};block(()=>{ae=!1,ee(ce),ae||he(null,null)},ue)}function index(re,ee){return ee}function pause_effects(re,ee,te,ne){for(var ie=[],se=ee.length,oe=0;oe<se;oe++)pause_children(ee[oe].e,ie,!0);var ue=se>0&&ie.length===0&&te!==null;if(ue){var ae=te.parentNode;clear_text_content(ae),ae.append(te),ne.clear(),link(re,ee[0].prev,ee[se-1].next)}run_out_transitions(ie,()=>{for(var ce=0;ce<se;ce++){var he=ee[ce];ue||(ne.delete(he.k),link(re,he.prev,he.next)),destroy_effect(he.e,!ue)}})}function each(re,ee,te,ne,ie,se=null){var oe=re,ue={flags:ee,items:new Map,first:null},ae=null,ce=!1;block(()=>{var he=te(),fe=is_array(he)?he:he==null?[]:array_from(he),le=fe.length;if(!(ce&&le===0)){ce=le===0;{var de=active_reaction;reconcile(fe,ue,oe,ie,ee,(de.f&INERT)!==0,ne)}se!==null&&(le===0?ae?resume_effect(ae):ae=branch(()=>se(oe)):ae!==null&&pause_effect(ae,()=>{ae=null})),te()}})}function reconcile(re,ee,te,ne,ie,se,oe,ue){var ae=re.length,ce=ee.items,he=ee.first,fe=he,le,de=null,_e=[],pe=[],ve,ge,we,me;for(me=0;me<ae;me+=1){if(ve=re[me],ge=oe(ve,me),we=ce.get(ge),we===void 0){var ye=fe?fe.e.nodes_start:te;de=create_item(ye,ee,de,de===null?ee.first:de.next,ve,ge,me,ne,ie),ce.set(ge,de),_e=[],pe=[],fe=de.next;continue}if(update_item(we,ve,me),we.e.f&INERT&&resume_effect(we.e),we!==fe){if(le!==void 0&&le.has(we)){if(_e.length<pe.length){var Ee=pe[0],Be;de=Ee.prev;var Ae=_e[0],Se=_e[_e.length-1];for(Be=0;Be<_e.length;Be+=1)move(_e[Be],Ee,te);for(Be=0;Be<pe.length;Be+=1)le.delete(pe[Be]);link(ee,Ae.prev,Se.next),link(ee,de,Ae),link(ee,Se,Ee),fe=Ee,de=Se,me-=1,_e=[],pe=[]}else le.delete(we),move(we,fe,te),link(ee,we.prev,we.next),link(ee,we,de===null?ee.first:de.next),link(ee,de,we),de=we;continue}for(_e=[],pe=[];fe!==null&&fe.k!==ge;)(se||!(fe.e.f&INERT))&&(le??(le=new Set)).add(fe),pe.push(fe),fe=fe.next;if(fe===null)continue;we=fe}_e.push(we),de=we,fe=we.next}if(fe!==null||le!==void 0){for(var Te=le===void 0?[]:array_from(le);fe!==null;)(se||!(fe.e.f&INERT))&&Te.push(fe),fe=fe.next;var be=Te.length;if(be>0){var Ie=null;pause_effects(ee,Te,Ie,ce)}}active_effect.first=ee.first&&ee.first.e,active_effect.last=de&&de.e}function update_item(re,ee,te,ne){internal_set(re.v,ee),re.i=te}function create_item(re,ee,te,ne,ie,se,oe,ue,ae,ce){var he=(ae&EACH_ITEM_REACTIVE)!==0,fe=(ae&EACH_ITEM_IMMUTABLE)===0,le=he?fe?mutable_source(ie):source(ie):ie,de=ae&EACH_INDEX_REACTIVE?source(oe):oe,_e={i:de,v:le,k:se,a:null,e:null,prev:te,next:ne};try{return _e.e=branch(()=>ue(re,le,de),hydrating),_e.e.prev=te&&te.e,_e.e.next=ne&&ne.e,te===null?ee.first=_e:(te.next=_e,te.e.next=_e.e),ne!==null&&(ne.prev=_e,ne.e.prev=_e.e),_e}finally{}}function move(re,ee,te){for(var ne=re.next?re.next.e.nodes_start:te,ie=ee?ee.e.nodes_start:te,se=re.e.nodes_start;se!==ne;){var oe=get_next_sibling(se);ie.before(se),se=oe}}function link(re,ee,te){ee===null?re.first=te:(ee.next=te,ee.e.next=te&&te.e),te!==null&&(te.prev=ee,te.e.prev=ee&&ee.e)}function r$1(re){var ee,te,ne="";if(typeof re=="string"||typeof re=="number")ne+=re;else if(typeof re=="object")if(Array.isArray(re)){var ie=re.length;for(ee=0;ee<ie;ee++)re[ee]&&(te=r$1(re[ee]))&&(ne&&(ne+=" "),ne+=te)}else for(te in re)re[te]&&(ne&&(ne+=" "),ne+=te);return ne}function clsx$1(){for(var re,ee,te=0,ne="",ie=arguments.length;te<ie;te++)(re=arguments[te])&&(ee=r$1(re))&&(ne&&(ne+=" "),ne+=ee);return ne}function clsx(re){return typeof re=="object"?clsx$1(re):re??""}function set_attribute(re,ee,te,ne){var ie=re.__attributes??(re.__attributes={});ie[ee]!==(ie[ee]=te)&&(ee==="style"&&"__styles"in re&&(re.__styles={}),ee==="loading"&&(re[LOADING_ATTR_SYMBOL]=te),te==null?re.removeAttribute(ee):typeof te!="string"&&get_setters(re).includes(ee)?re[ee]=te:re.setAttribute(ee,te))}var setters_cache=new Map;function get_setters(re){var ee=setters_cache.get(re.nodeName);if(ee)return ee;setters_cache.set(re.nodeName,ee=[]);for(var te,ne=re,ie=Element.prototype;ie!==ne;){te=get_descriptors(ne);for(var se in te)te[se].set&&ee.push(se);ne=get_prototype_of(ne)}return ee}function set_class(re,ee,te){var ne=re.__className,ie=to_class(ee,te);(ne!==ie||hydrating)&&(re.className=ie,re.__className=ie)}function to_class(re,ee){return(re??"")+(" "+ee)}function bind_prop(re,ee,te){var ne=get_descriptor(re,ee);ne&&ne.set&&(re[ee]=te,teardown(()=>{re[ee]=null}))}function init$1(re=!1){const ee=component_context,te=ee.l.u;if(!te)return;let ne=()=>deep_read_state(ee.s);if(re){let ie=0,se={};const oe=derived(()=>{let ue=!1;const ae=ee.s;for(const ce in ae)ae[ce]!==se[ce]&&(se[ce]=ae[ce],ue=!0);return ue&&ie++,ie});ne=()=>get(oe)}te.b.length&&user_pre_effect(()=>{observe_all(ee,ne),run_all(te.b)}),user_effect(()=>{const ie=untrack(()=>te.m.map(run));return()=>{for(const se of ie)typeof se=="function"&&se()}}),te.a.length&&user_effect(()=>{observe_all(ee,ne),run_all(te.a)})}function observe_all(re,ee){if(re.l.s)for(const te of re.l.s)get(te);ee()}function subscribe_to_store(re,ee,te){if(re==null)return ee(void 0),noop;const ne=untrack(()=>re.subscribe(ee,te));return ne.unsubscribe?()=>ne.unsubscribe():ne}let is_store_binding=!1;function store_get(re,ee,te){const ne=te[ee]??(te[ee]={store:null,source:mutable_source(void 0),unsubscribe:noop});if(ne.store!==re)if(ne.unsubscribe(),ne.store=re??null,re==null)ne.source.v=void 0,ne.unsubscribe=noop;else{var ie=!0;ne.unsubscribe=subscribe_to_store(re,se=>{ie?ne.source.v=se:set(ne.source,se)}),ie=!1}return get(ne.source)}function store_set(re,ee){return re.set(ee),ee}function setup_stores(){const re={};return teardown(()=>{for(var ee in re)re[ee].unsubscribe()}),re}function capture_store_binding(re){var ee=is_store_binding;try{return is_store_binding=!1,[re(),is_store_binding]}finally{is_store_binding=ee}}function with_parent_branch(re){for(var ee=active_effect,te=active_effect;ee!==null&&!(ee.f&(BRANCH_EFFECT|ROOT_EFFECT));)ee=ee.parent;try{return set_active_effect(ee),re()}finally{set_active_effect(te)}}function prop(re,ee,te,ne){var pe;var ie=(te&PROPS_IS_IMMUTABLE)!==0,se=!legacy_mode_flag||(te&PROPS_IS_RUNES)!==0,oe=!1,ue;[ue,oe]=capture_store_binding(()=>re[ee]);var ae=STATE_SYMBOL in re||LEGACY_PROPS in re,ce=(((pe=get_descriptor(re,ee))==null?void 0:pe.set)??(ae&&ee in re&&(ve=>re[ee]=ve)))||void 0,he=ne,fe=!0,le=()=>(fe&&(fe=!1,he=ne),he);ue===void 0&&ne!==void 0&&(ce&&se&&props_invalid_value(),ue=le(),ce&&ce(ue));var de;if(se)de=()=>{var ve=re[ee];return ve===void 0?le():(fe=!0,ve)};else{var _e=with_parent_branch(()=>(ie?derived:derived_safe_equal)(()=>re[ee]));_e.f|=LEGACY_DERIVED_PROP,de=()=>{var ve=get(_e);return ve!==void 0&&(he=void 0),ve===void 0?he:ve}}return de}function onMount(re){component_context===null&&lifecycle_outside_component(),legacy_mode_flag&&component_context.l!==null?init_update_callbacks(component_context).m.push(re):user_effect(()=>{const ee=untrack(re);if(typeof ee=="function")return ee})}function init_update_callbacks(re){var ee=re.l;return ee.u??(ee.u={a:[],b:[],m:[]})}const PUBLIC_VERSION="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);/*! otpauth v8.0.3 | (c) Héctor Molinero Fernández <hector@molinero.dev> | MIT | https://github.com/hectorm/otpauth *//*! jssha v3.2.0 | (c) Brian Turek <brian.turek@gmail.com> | BSD-3-Clause | https://github.com/Caligatio/jsSHA */const uintToBuf=re=>{const ee=new ArrayBuffer(8),te=new Uint8Array(ee);let ne=re;for(let ie=7;ie>=0&&ne!==0;ie--)te[ie]=ne&255,ne-=te[ie],ne/=256;return ee},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(re,ee,te,ne){let ie,se,oe;const ue=ee||[0],ae=(te=te||0)>>>3,ce=ne===-1?3:0;for(ie=0;ie<re.length;ie+=1)oe=ie+ae,se=oe>>>2,ue.length<=se&&ue.push(0),ue[se]|=re[ie]<<8*(ce+ne*(oe%4));return{value:ue,binLen:8*re.length+te}}function e$1(re,ee,te){switch(ee){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(re){case"HEX":return function(ne,ie,se){return function(oe,ue,ae,ce){let he,fe,le,de;if(oe.length%2!=0)throw new Error("String of HEX type must be in byte increments");const _e=ue||[0],pe=(ae=ae||0)>>>3,ve=ce===-1?3:0;for(he=0;he<oe.length;he+=2){if(fe=parseInt(oe.substr(he,2),16),isNaN(fe))throw new Error("String of HEX type contains invalid characters");for(de=(he>>>1)+pe,le=de>>>2;_e.length<=le;)_e.push(0);_e[le]|=fe<<8*(ve+ce*(de%4))}return{value:_e,binLen:4*oe.length+ae}}(ne,ie,se,te)};case"TEXT":return function(ne,ie,se){return function(oe,ue,ae,ce,he){let fe,le,de,_e,pe,ve,ge,we,me=0;const ye=ae||[0],Ee=(ce=ce||0)>>>3;if(ue==="UTF8")for(ge=he===-1?3:0,de=0;de<oe.length;de+=1)for(fe=oe.charCodeAt(de),le=[],128>fe?le.push(fe):2048>fe?(le.push(192|fe>>>6),le.push(128|63&fe)):55296>fe||57344<=fe?le.push(224|fe>>>12,128|fe>>>6&63,128|63&fe):(de+=1,fe=65536+((1023&fe)<<10|1023&oe.charCodeAt(de)),le.push(240|fe>>>18,128|fe>>>12&63,128|fe>>>6&63,128|63&fe)),_e=0;_e<le.length;_e+=1){for(ve=me+Ee,pe=ve>>>2;ye.length<=pe;)ye.push(0);ye[pe]|=le[_e]<<8*(ge+he*(ve%4)),me+=1}else for(ge=he===-1?2:0,we=ue==="UTF16LE"&&he!==1||ue!=="UTF16LE"&&he===1,de=0;de<oe.length;de+=1){for(fe=oe.charCodeAt(de),we===!0&&(_e=255&fe,fe=_e<<8|fe>>>8),ve=me+Ee,pe=ve>>>2;ye.length<=pe;)ye.push(0);ye[pe]|=fe<<8*(ge+he*(ve%4)),me+=2}return{value:ye,binLen:8*me+ce}}(ne,ee,ie,se,te)};case"B64":return function(ne,ie,se){return function(oe,ue,ae,ce){let he,fe,le,de,_e,pe,ve,ge=0;const we=ue||[0],me=(ae=ae||0)>>>3,ye=ce===-1?3:0,Ee=oe.indexOf("=");if(oe.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(oe=oe.replace(/=/g,""),Ee!==-1&&Ee<oe.length)throw new Error("Invalid '=' found in base-64 string");for(fe=0;fe<oe.length;fe+=4){for(_e=oe.substr(fe,4),de=0,le=0;le<_e.length;le+=1)he=t.indexOf(_e.charAt(le)),de|=he<<18-6*le;for(le=0;le<_e.length-1;le+=1){for(ve=ge+me,pe=ve>>>2;we.length<=pe;)we.push(0);we[pe]|=(de>>>16-8*le&255)<<8*(ye+ce*(ve%4)),ge+=1}}return{value:we,binLen:8*ge+ae}}(ne,ie,se,te)};case"BYTES":return function(ne,ie,se){return function(oe,ue,ae,ce){let he,fe,le,de;const _e=ue||[0],pe=(ae=ae||0)>>>3,ve=ce===-1?3:0;for(fe=0;fe<oe.length;fe+=1)he=oe.charCodeAt(fe),de=fe+pe,le=de>>>2,_e.length<=le&&_e.push(0),_e[le]|=he<<8*(ve+ce*(de%4));return{value:_e,binLen:8*oe.length+ae}}(ne,ie,se,te)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(ne,ie,se){return function(oe,ue,ae,ce){return n(new Uint8Array(oe),ue,ae,ce)}(ne,ie,se,te)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(ne,ie,se){return n(ne,ie,se,te)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(re,ee,te,ne){switch(re){case"HEX":return function(ie){return function(se,oe,ue,ae){let ce,he,fe="";const le=oe/8,de=ue===-1?3:0;for(ce=0;ce<le;ce+=1)he=se[ce>>>2]>>>8*(de+ue*(ce%4)),fe+="0123456789abcdef".charAt(he>>>4&15)+"0123456789abcdef".charAt(15&he);return ae.outputUpper?fe.toUpperCase():fe}(ie,ee,te,ne)};case"B64":return function(ie){return function(se,oe,ue,ae){let ce,he,fe,le,de,_e="";const pe=oe/8,ve=ue===-1?3:0;for(ce=0;ce<pe;ce+=3)for(le=ce+1<pe?se[ce+1>>>2]:0,de=ce+2<pe?se[ce+2>>>2]:0,fe=(se[ce>>>2]>>>8*(ve+ue*(ce%4))&255)<<16|(le>>>8*(ve+ue*((ce+1)%4))&255)<<8|de>>>8*(ve+ue*((ce+2)%4))&255,he=0;he<4;he+=1)_e+=8*ce+6*he<=oe?t.charAt(fe>>>6*(3-he)&63):ae.b64Pad;return _e}(ie,ee,te,ne)};case"BYTES":return function(ie){return function(se,oe,ue){let ae,ce,he="";const fe=oe/8,le=ue===-1?3:0;for(ae=0;ae<fe;ae+=1)ce=se[ae>>>2]>>>8*(le+ue*(ae%4))&255,he+=String.fromCharCode(ce);return he}(ie,ee,te)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(ie){return function(se,oe,ue){let ae;const ce=oe/8,he=new ArrayBuffer(ce),fe=new Uint8Array(he),le=ue===-1?3:0;for(ae=0;ae<ce;ae+=1)fe[ae]=se[ae>>>2]>>>8*(le+ue*(ae%4))&255;return he}(ie,ee,te)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(ie){return function(se,oe,ue){let ae;const ce=oe/8,he=ue===-1?3:0,fe=new Uint8Array(ce);for(ae=0;ae<ce;ae+=1)fe[ae]=se[ae>>>2]>>>8*(he+ue*(ae%4))&255;return fe}(ie,ee,te)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported";function u(re,ee){let te,ne;const ie=re.binLen>>>3,se=ee.binLen>>>3,oe=ie<<3,ue=4-ie<<3;if(ie%4!=0){for(te=0;te<se;te+=4)ne=ie+te>>>2,re.value[ne]|=ee.value[te>>>2]<<oe,re.value.push(0),re.value[ne+1]|=ee.value[te>>>2]>>>ue;return(re.value.length<<2)-4>=se+ie&&re.value.pop(),{value:re.value,binLen:re.binLen+ee.binLen}}return{value:re.value.concat(ee.value),binLen:re.binLen+ee.binLen}}function w(re){const ee={outputUpper:!1,b64Pad:"=",outputLen:-1},te=re||{},ne="Output length must be a multiple of 8";if(ee.outputUpper=te.outputUpper||!1,te.b64Pad&&(ee.b64Pad=te.b64Pad),te.outputLen){if(te.outputLen%8!=0)throw new Error(ne);ee.outputLen=te.outputLen}else if(te.shakeLen){if(te.shakeLen%8!=0)throw new Error(ne);ee.outputLen=te.shakeLen}if(typeof ee.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof ee.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return ee}function c(re,ee,te,ne){const ie=re+" must include a value and format";if(!ee){if(!ne)throw new Error(ie);return ne}if(ee.value===void 0||!ee.format)throw new Error(ie);return e$1(ee.format,ee.encoding||"UTF8",te)(ee.value)}class f{constructor(ee,te,ne){const ie=ne||{};if(this.t=te,this.i=ie.encoding||"UTF8",this.numRounds=ie.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=ee,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(ee){let te,ne=0;const ie=this.p>>>5,se=this.m(ee,this.o,this.h),oe=se.binLen,ue=se.value,ae=oe>>>5;for(te=0;te<ae;te+=ie)ne+this.p<=oe&&(this.C=this.R(ue.slice(te,te+ie),this.C),ne+=this.p);this.l+=ne,this.o=ue.slice(ne>>>5),this.h=oe%this.p,this.u=!0}getHash(ee,te){let ne,ie,se=this.U;const oe=w(te);if(this.v){if(oe.outputLen===-1)throw new Error("Output length must be specified in options");se=oe.outputLen}const ue=r(ee,se,this.K,oe);if(this.A&&this.T)return ue(this.T(oe));for(ie=this.F(this.o.slice(),this.h,this.l,this.g(this.C),se),ne=1;ne<this.numRounds;ne+=1)this.v&&se%32!=0&&(ie[ie.length-1]&=16777215>>>24-se%32),ie=this.F(ie,se,0,this.B(this.s),se);return ue(ie)}setHMACKey(ee,te,ne){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const ie=e$1(te,(ne||{}).encoding||"UTF8",this.K);this.M(ie(ee))}M(ee){const te=this.p>>>3,ne=te/4-1;let ie;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(te<ee.binLen/8&&(ee.value=this.F(ee.value,ee.binLen,0,this.B(this.s),this.U));ee.value.length<=ne;)ee.value.push(0);for(ie=0;ie<=ne;ie+=1)this.H[ie]=909522486^ee.value[ie],this.S[ie]=1549556828^ee.value[ie];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(ee,te){const ne=w(te);return r(ee,this.U,this.K,ne)(this.k())}k(){let ee;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const te=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return ee=this.R(this.S,this.B(this.s)),ee=this.F(te,this.U,this.p,ee,this.U),ee}}function a(re,ee){return re<<ee|re>>>32-ee}function l(re,ee){return re>>>ee|re<<32-ee}function A(re,ee){return re>>>ee}function E(re,ee,te){return re^ee^te}function H(re,ee,te){return re&ee^~re&te}function S(re,ee,te){return re&ee^re&te^ee&te}function b(re){return l(re,2)^l(re,13)^l(re,22)}function p(re,ee){const te=(65535&re)+(65535&ee);return(65535&(re>>>16)+(ee>>>16)+(te>>>16))<<16|65535&te}function d(re,ee,te,ne){const ie=(65535&re)+(65535&ee)+(65535&te)+(65535&ne);return(65535&(re>>>16)+(ee>>>16)+(te>>>16)+(ne>>>16)+(ie>>>16))<<16|65535&ie}function m(re,ee,te,ne,ie){const se=(65535&re)+(65535&ee)+(65535&te)+(65535&ne)+(65535&ie);return(65535&(re>>>16)+(ee>>>16)+(te>>>16)+(ne>>>16)+(ie>>>16)+(se>>>16))<<16|65535&se}function C(re){return l(re,7)^l(re,18)^A(re,3)}function y(re){return l(re,6)^l(re,11)^l(re,25)}function R(re){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(re,ee){let te,ne,ie,se,oe,ue,ae;const ce=[];for(te=ee[0],ne=ee[1],ie=ee[2],se=ee[3],oe=ee[4],ae=0;ae<80;ae+=1)ce[ae]=ae<16?re[ae]:a(ce[ae-3]^ce[ae-8]^ce[ae-14]^ce[ae-16],1),ue=ae<20?m(a(te,5),H(ne,ie,se),oe,1518500249,ce[ae]):ae<40?m(a(te,5),E(ne,ie,se),oe,1859775393,ce[ae]):ae<60?m(a(te,5),S(ne,ie,se),oe,2400959708,ce[ae]):m(a(te,5),E(ne,ie,se),oe,3395469782,ce[ae]),oe=se,se=ie,ie=a(ne,30),ne=te,te=ue;return ee[0]=p(te,ee[0]),ee[1]=p(ne,ee[1]),ee[2]=p(ie,ee[2]),ee[3]=p(se,ee[3]),ee[4]=p(oe,ee[4]),ee}function v(re,ee,te,ne){let ie;const se=15+(ee+65>>>9<<4),oe=ee+te;for(;re.length<=se;)re.push(0);for(re[ee>>>5]|=128<<24-ee%32,re[se]=4294967295&oe,re[se-1]=oe/4294967296|0,ie=0;ie<re.length;ie+=16)ne=U(re.slice(ie,ie+16),ne);return ne}class K extends f{constructor(ee,te,ne){if(ee!=="SHA-1")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.L=!0,this.T=this.k,this.K=-1,this.m=e$1(this.t,this.i,this.K),this.R=U,this.g=function(se){return se.slice()},this.B=R,this.F=v,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}function T(re){let ee;return ee=re=="SHA-224"?s.slice():o.slice(),ee}function F(re,ee){let te,ne,ie,se,oe,ue,ae,ce,he,fe,le;const de=[];for(te=ee[0],ne=ee[1],ie=ee[2],se=ee[3],oe=ee[4],ue=ee[5],ae=ee[6],ce=ee[7],le=0;le<64;le+=1)de[le]=le<16?re[le]:d(l(_e=de[le-2],17)^l(_e,19)^A(_e,10),de[le-7],C(de[le-15]),de[le-16]),he=m(ce,y(oe),H(oe,ue,ae),i[le],de[le]),fe=p(b(te),S(te,ne,ie)),ce=ae,ae=ue,ue=oe,oe=p(se,he),se=ie,ie=ne,ne=te,te=p(he,fe);var _e;return ee[0]=p(te,ee[0]),ee[1]=p(ne,ee[1]),ee[2]=p(ie,ee[2]),ee[3]=p(se,ee[3]),ee[4]=p(oe,ee[4]),ee[5]=p(ue,ee[5]),ee[6]=p(ae,ee[6]),ee[7]=p(ce,ee[7]),ee}class g extends f{constructor(ee,te,ne){if(ee!=="SHA-224"&&ee!=="SHA-256")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e$1(this.t,this.i,this.K),this.R=F,this.g=function(se){return se.slice()},this.B=T,this.F=function(se,oe,ue,ae){return function(ce,he,fe,le,de){let _e,pe;const ve=15+(he+65>>>9<<4),ge=he+fe;for(;ce.length<=ve;)ce.push(0);for(ce[he>>>5]|=128<<24-he%32,ce[ve]=4294967295&ge,ce[ve-1]=ge/4294967296|0,_e=0;_e<ce.length;_e+=16)le=F(ce.slice(_e,_e+16),le);return pe=de==="SHA-224"?[le[0],le[1],le[2],le[3],le[4],le[5],le[6]]:le,pe}(se,oe,ue,ae,ee)},this.C=T(ee),this.p=512,this.U=ee==="SHA-224"?224:256,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}class B{constructor(ee,te){this.Y=ee,this.N=te}}function L(re,ee){let te;return ee>32?(te=64-ee,new B(re.N<<ee|re.Y>>>te,re.Y<<ee|re.N>>>te)):ee!==0?(te=32-ee,new B(re.Y<<ee|re.N>>>te,re.N<<ee|re.Y>>>te)):re}function M(re,ee){let te;return ee<32?(te=32-ee,new B(re.Y>>>ee|re.N<<te,re.N>>>ee|re.Y<<te)):(te=64-ee,new B(re.N>>>ee|re.Y<<te,re.Y>>>ee|re.N<<te))}function k(re,ee){return new B(re.Y>>>ee,re.N>>>ee|re.Y<<32-ee)}function Y(re,ee,te){return new B(re.Y&ee.Y^re.Y&te.Y^ee.Y&te.Y,re.N&ee.N^re.N&te.N^ee.N&te.N)}function N(re){const ee=M(re,28),te=M(re,34),ne=M(re,39);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function I(re,ee){let te,ne;te=(65535&re.N)+(65535&ee.N),ne=(re.N>>>16)+(ee.N>>>16)+(te>>>16);const ie=(65535&ne)<<16|65535&te;return te=(65535&re.Y)+(65535&ee.Y)+(ne>>>16),ne=(re.Y>>>16)+(ee.Y>>>16)+(te>>>16),new B((65535&ne)<<16|65535&te,ie)}function X(re,ee,te,ne){let ie,se;ie=(65535&re.N)+(65535&ee.N)+(65535&te.N)+(65535&ne.N),se=(re.N>>>16)+(ee.N>>>16)+(te.N>>>16)+(ne.N>>>16)+(ie>>>16);const oe=(65535&se)<<16|65535&ie;return ie=(65535&re.Y)+(65535&ee.Y)+(65535&te.Y)+(65535&ne.Y)+(se>>>16),se=(re.Y>>>16)+(ee.Y>>>16)+(te.Y>>>16)+(ne.Y>>>16)+(ie>>>16),new B((65535&se)<<16|65535&ie,oe)}function z(re,ee,te,ne,ie){let se,oe;se=(65535&re.N)+(65535&ee.N)+(65535&te.N)+(65535&ne.N)+(65535&ie.N),oe=(re.N>>>16)+(ee.N>>>16)+(te.N>>>16)+(ne.N>>>16)+(ie.N>>>16)+(se>>>16);const ue=(65535&oe)<<16|65535&se;return se=(65535&re.Y)+(65535&ee.Y)+(65535&te.Y)+(65535&ne.Y)+(65535&ie.Y)+(oe>>>16),oe=(re.Y>>>16)+(ee.Y>>>16)+(te.Y>>>16)+(ne.Y>>>16)+(ie.Y>>>16)+(se>>>16),new B((65535&oe)<<16|65535&se,ue)}function x(re,ee){return new B(re.Y^ee.Y,re.N^ee.N)}function _(re){const ee=M(re,19),te=M(re,61),ne=k(re,6);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function O(re){const ee=M(re,1),te=M(re,8),ne=k(re,7);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function P(re){const ee=M(re,14),te=M(re,18),ne=M(re,41);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}const V=[new B(i[0],3609767458),new B(i[1],602891725),new B(i[2],3964484399),new B(i[3],2173295548),new B(i[4],4081628472),new B(i[5],3053834265),new B(i[6],2937671579),new B(i[7],3664609560),new B(i[8],2734883394),new B(i[9],1164996542),new B(i[10],1323610764),new B(i[11],3590304994),new B(i[12],4068182383),new B(i[13],991336113),new B(i[14],633803317),new B(i[15],3479774868),new B(i[16],2666613458),new B(i[17],944711139),new B(i[18],2341262773),new B(i[19],2007800933),new B(i[20],1495990901),new B(i[21],1856431235),new B(i[22],3175218132),new B(i[23],2198950837),new B(i[24],3999719339),new B(i[25],766784016),new B(i[26],2566594879),new B(i[27],3203337956),new B(i[28],1034457026),new B(i[29],2466948901),new B(i[30],3758326383),new B(i[31],168717936),new B(i[32],1188179964),new B(i[33],1546045734),new B(i[34],1522805485),new B(i[35],2643833823),new B(i[36],2343527390),new B(i[37],1014477480),new B(i[38],1206759142),new B(i[39],344077627),new B(i[40],1290863460),new B(i[41],3158454273),new B(i[42],3505952657),new B(i[43],106217008),new B(i[44],3606008344),new B(i[45],1432725776),new B(i[46],1467031594),new B(i[47],851169720),new B(i[48],3100823752),new B(i[49],1363258195),new B(i[50],3750685593),new B(i[51],3785050280),new B(i[52],3318307427),new B(i[53],3812723403),new B(i[54],2003034995),new B(i[55],3602036899),new B(i[56],1575990012),new B(i[57],1125592928),new B(i[58],2716904306),new B(i[59],442776044),new B(i[60],593698344),new B(i[61],3733110249),new B(i[62],2999351573),new B(i[63],3815920427),new B(3391569614,3928383900),new B(3515267271,566280711),new B(3940187606,3454069534),new B(4118630271,4000239992),new B(116418474,1914138554),new B(174292421,2731055270),new B(289380356,3203993006),new B(460393269,320620315),new B(685471733,587496836),new B(852142971,1086792851),new B(1017036298,365543100),new B(1126000580,2618297676),new B(1288033470,3409855158),new B(1501505948,4234509866),new B(1607167915,987167468),new B(1816402316,1246189591)];function Z(re){return re==="SHA-384"?[new B(3418070365,s[0]),new B(1654270250,s[1]),new B(2438529370,s[2]),new B(355462360,s[3]),new B(1731405415,s[4]),new B(41048885895,s[5]),new B(3675008525,s[6]),new B(1203062813,s[7])]:[new B(o[0],4089235720),new B(o[1],2227873595),new B(o[2],4271175723),new B(o[3],1595750129),new B(o[4],2917565137),new B(o[5],725511199),new B(o[6],4215389547),new B(o[7],327033209)]}function j(re,ee){let te,ne,ie,se,oe,ue,ae,ce,he,fe,le,de;const _e=[];for(te=ee[0],ne=ee[1],ie=ee[2],se=ee[3],oe=ee[4],ue=ee[5],ae=ee[6],ce=ee[7],le=0;le<80;le+=1)le<16?(de=2*le,_e[le]=new B(re[de],re[de+1])):_e[le]=X(_(_e[le-2]),_e[le-7],O(_e[le-15]),_e[le-16]),he=z(ce,P(oe),(ve=ue,ge=ae,new B((pe=oe).Y&ve.Y^~pe.Y&ge.Y,pe.N&ve.N^~pe.N&ge.N)),V[le],_e[le]),fe=I(N(te),Y(te,ne,ie)),ce=ae,ae=ue,ue=oe,oe=I(se,he),se=ie,ie=ne,ne=te,te=I(he,fe);var pe,ve,ge;return ee[0]=I(te,ee[0]),ee[1]=I(ne,ee[1]),ee[2]=I(ie,ee[2]),ee[3]=I(se,ee[3]),ee[4]=I(oe,ee[4]),ee[5]=I(ue,ee[5]),ee[6]=I(ae,ee[6]),ee[7]=I(ce,ee[7]),ee}class q extends f{constructor(ee,te,ne){if(ee!=="SHA-384"&&ee!=="SHA-512")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e$1(this.t,this.i,this.K),this.R=j,this.g=function(se){return se.slice()},this.B=Z,this.F=function(se,oe,ue,ae){return function(ce,he,fe,le,de){let _e,pe;const ve=31+(he+129>>>10<<5),ge=he+fe;for(;ce.length<=ve;)ce.push(0);for(ce[he>>>5]|=128<<24-he%32,ce[ve]=4294967295&ge,ce[ve-1]=ge/4294967296|0,_e=0;_e<ce.length;_e+=32)le=j(ce.slice(_e,_e+32),le);return pe=de==="SHA-384"?[(le=le)[0].Y,le[0].N,le[1].Y,le[1].N,le[2].Y,le[2].N,le[3].Y,le[3].N,le[4].Y,le[4].N,le[5].Y,le[5].N]:[le[0].Y,le[0].N,le[1].Y,le[1].N,le[2].Y,le[2].N,le[3].Y,le[3].N,le[4].Y,le[4].N,le[5].Y,le[5].N,le[6].Y,le[6].N,le[7].Y,le[7].N],pe}(se,oe,ue,ae,ee)},this.C=Z(ee),this.p=1024,this.U=ee==="SHA-384"?384:512,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}const D=[new B(0,1),new B(0,32898),new B(2147483648,32906),new B(2147483648,2147516416),new B(0,32907),new B(0,2147483649),new B(2147483648,2147516545),new B(2147483648,32777),new B(0,138),new B(0,136),new B(0,2147516425),new B(0,2147483658),new B(0,2147516555),new B(2147483648,139),new B(2147483648,32905),new B(2147483648,32771),new B(2147483648,32770),new B(2147483648,128),new B(0,32778),new B(2147483648,2147483658),new B(2147483648,2147516545),new B(2147483648,32896),new B(0,2147483649),new B(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function J(re){let ee;const te=[];for(ee=0;ee<5;ee+=1)te[ee]=[new B(0,0),new B(0,0),new B(0,0),new B(0,0),new B(0,0)];return te}function Q(re){let ee;const te=[];for(ee=0;ee<5;ee+=1)te[ee]=re[ee].slice();return te}function W(re,ee){let te,ne,ie,se;const oe=[],ue=[];if(re!==null)for(ne=0;ne<re.length;ne+=2)ee[(ne>>>1)%5][(ne>>>1)/5|0]=x(ee[(ne>>>1)%5][(ne>>>1)/5|0],new B(re[ne+1],re[ne]));for(te=0;te<24;te+=1){for(se=J(),ne=0;ne<5;ne+=1)oe[ne]=(ae=ee[ne][0],ce=ee[ne][1],he=ee[ne][2],fe=ee[ne][3],le=ee[ne][4],new B(ae.Y^ce.Y^he.Y^fe.Y^le.Y,ae.N^ce.N^he.N^fe.N^le.N));for(ne=0;ne<5;ne+=1)ue[ne]=x(oe[(ne+4)%5],L(oe[(ne+1)%5],1));for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)ee[ne][ie]=x(ee[ne][ie],ue[ne]);for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)se[ie][(2*ne+3*ie)%5]=L(ee[ne][ie],G[ne][ie]);for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)ee[ne][ie]=x(se[ne][ie],new B(~se[(ne+1)%5][ie].Y&se[(ne+2)%5][ie].Y,~se[(ne+1)%5][ie].N&se[(ne+2)%5][ie].N));ee[0][0]=x(ee[0][0],D[te])}var ae,ce,he,fe,le;return ee}function $(re){let ee,te,ne=0;const ie=[0,0],se=[4294967295&re,re/4294967296&2097151];for(ee=6;ee>=0;ee--)te=se[ee>>2]>>>8*ee&255,te===0&&ne===0||(ie[ne+1>>2]|=te<<8*(ne+1),ne+=1);return ne=ne!==0?ne:1,ie[0]|=ne,{value:ne+1>4?ie:[ie[0]],binLen:8+8*ne}}function tt(re){return u($(re.binLen),re)}function nt(re,ee){let te,ne=$(ee);ne=u(ne,re);const ie=ee>>>2,se=(ie-ne.value.length%ie)%ie;for(te=0;te<se;te++)ne.value.push(0);return ne.value}class et extends f{constructor(ee,te,ne){let ie=6,se=0;super(ee,te,ne);const oe=ne||{};if(this.numRounds!==1){if(oe.kmacKey||oe.hmacKey)throw new Error("Cannot set numRounds with MAC");if(this.s==="CSHAKE128"||this.s==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=e$1(this.t,this.i,this.K),this.R=W,this.g=Q,this.B=J,this.C=J(),this.v=!1,ee){case"SHA3-224":this.p=se=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=se=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=se=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=se=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":ie=31,this.p=se=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":ie=31,this.p=se=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":ie=4,this.p=se=1344,this.I(ne),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":ie=4,this.p=se=1088,this.I(ne),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=se=1344,ie=this._(ne),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=se=1088,ie=this._(ne),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(h)}this.F=function(ue,ae,ce,he,fe){return function(le,de,_e,pe,ve,ge,we){let me,ye,Ee=0;const Be=[],Ae=ve>>>5,Se=de>>>5;for(me=0;me<Se&&de>=ve;me+=Ae)pe=W(le.slice(me,me+Ae),pe),de-=ve;for(le=le.slice(me),de%=ve;le.length<Ae;)le.push(0);for(me=de>>>3,le[me>>2]^=ge<<me%4*8,le[Ae-1]^=2147483648,pe=W(le,pe);32*Be.length<we&&(ye=pe[Ee%5][Ee/5|0],Be.push(ye.N),!(32*Be.length>=we));)Be.push(ye.Y),Ee+=1,64*Ee%ve==0&&(W(null,pe),Ee=0);return Be}(ue,ae,0,he,se,ie,fe)},oe.hmacKey&&this.M(c("hmacKey",oe.hmacKey,this.K))}_(ee,te){const ne=function(se){const oe=se;return{funcName:c("funcName",oe.funcName,1,{value:[],binLen:0}),customization:c("Customization",oe.customization,1,{value:[],binLen:0})}}(ee||{});te&&(ne.funcName=te);const ie=u(tt(ne.funcName),tt(ne.customization));if(ne.customization.binLen!==0||ne.funcName.binLen!==0){const se=nt(ie,this.p>>>3);for(let oe=0;oe<se.length;oe+=this.p>>>5)this.C=this.R(se.slice(oe,oe+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(ee){const te=function(ie){const se=ie;return{kmacKey:c("kmacKey",se.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:c("Customization",se.customization,1,{value:[],binLen:0})}}(ee||{});this._(ee,te.funcName);const ne=nt(tt(te.kmacKey),this.p>>>3);for(let ie=0;ie<ne.length;ie+=this.p>>>5)this.C=this.R(ne.slice(ie,ie+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(ee){const te=u({value:this.o.slice(),binLen:this.h},function(ne){let ie,se,oe=0;const ue=[0,0],ae=[4294967295&ne,ne/4294967296&2097151];for(ie=6;ie>=0;ie--)se=ae[ie>>2]>>>8*ie&255,se===0&&oe===0||(ue[oe>>2]|=se<<8*oe,oe+=1);return oe=oe!==0?oe:1,ue[oe>>2]|=oe<<8*oe,{value:oe+1>4?ue:[ue[0]],binLen:8+8*oe}}(ee.outputLen));return this.F(te.value,te.binLen,this.l,this.g(this.C),ee.outputLen)}}class jsSHA{constructor(ee,te,ne){if(ee=="SHA-1")this.O=new K(ee,te,ne);else if(ee=="SHA-224"||ee=="SHA-256")this.O=new g(ee,te,ne);else if(ee=="SHA-384"||ee=="SHA-512")this.O=new q(ee,te,ne);else{if(ee!="SHA3-224"&&ee!="SHA3-256"&&ee!="SHA3-384"&&ee!="SHA3-512"&&ee!="SHAKE128"&&ee!="SHAKE256"&&ee!="CSHAKE128"&&ee!="CSHAKE256"&&ee!="KMAC128"&&ee!="KMAC256")throw new Error(h);this.O=new et(ee,te,ne)}}update(ee){this.O.update(ee)}getHash(ee,te){return this.O.getHash(ee,te)}setHMACKey(ee,te,ne){this.O.setHMACKey(ee,te,ne)}getHMAC(ee,te){return this.O.getHMAC(ee,te)}}const globalScope=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),isNode=Object.prototype.toString.call(globalScope.process)==="[object process]",nodeRequire=isNode?eval("require"):()=>{},NodeCrypto$2=isNode?nodeRequire("crypto"):void 0,OPENSSL_TO_JSSHA_ALGO={SHA1:"SHA-1",SHA224:"SHA-224",SHA256:"SHA-256",SHA384:"SHA-384",SHA512:"SHA-512","SHA3-224":"SHA3-224","SHA3-256":"SHA3-256","SHA3-384":"SHA3-384","SHA3-512":"SHA3-512"},hmacDigest=(re,ee,te)=>{if(isNode){const ne=NodeCrypto$2.createHmac(re,globalScope.Buffer.from(ee));return ne.update(globalScope.Buffer.from(te)),ne.digest().buffer}else{const ne=OPENSSL_TO_JSSHA_ALGO[re.toUpperCase()];if(typeof ne>"u")throw new TypeError("Unknown hash function");const ie=new jsSHA(ne,"ARRAYBUFFER");return ie.setHMACKey(ee,"ARRAYBUFFER"),ie.update(te),ie.getHMAC("ARRAYBUFFER")}},pad=(re,ee)=>{let te="",ne=ee-String(re).length;for(;ne-- >0;)te+="0";return`${te}${re}`},ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",base32ToBuf=re=>{let ee=re.length;for(;re[ee-1]==="=";)--ee;const te=(ee<re.length?re.substring(0,ee):re).toUpperCase(),ne=new ArrayBuffer(te.length*5/8|0),ie=new Uint8Array(ne);let se=0,oe=0,ue=0;for(let ae=0;ae<te.length;ae++){const ce=ALPHABET.indexOf(te[ae]);if(ce===-1)throw new TypeError(`Invalid character found: ${te[ae]}`);oe=oe<<5|ce,se+=5,se>=8&&(se-=8,ie[ue++]=oe>>>se)}return ne},base32FromBuf=re=>{const ee=new Uint8Array(re);let te=0,ne=0,ie="";for(let se=0;se<ee.length;se++)for(ne=ne<<8|ee[se],te+=8;te>=5;)ie+=ALPHABET[ne>>>te-5&31],te-=5;return te>0&&(ie+=ALPHABET[ne<<5-te&31]),ie},hexToBuf=re=>{const ee=new ArrayBuffer(re.length/2),te=new Uint8Array(ee);for(let ne=0;ne<re.length;ne+=2)te[ne/2]=parseInt(re.substr(ne,2),16);return ee},hexFromBuf=re=>{const ee=new Uint8Array(re);let te="";for(let ne=0;ne<ee.length;ne++){const ie=ee[ne].toString(16);ie.length===1&&(te+="0"),te+=ie}return te.toUpperCase()},latin1ToBuf=re=>{const ee=new ArrayBuffer(re.length),te=new Uint8Array(ee);for(let ne=0;ne<re.length;ne++)te[ne]=re.charCodeAt(ne)&255;return ee},latin1FromBuf=re=>{const ee=new Uint8Array(re);let te="";for(let ne=0;ne<ee.length;ne++)te+=String.fromCharCode(ee[ne]);return te},ENCODER=globalScope.TextEncoder?new globalScope.TextEncoder("utf-8"):null,DECODER=globalScope.TextDecoder?new globalScope.TextDecoder("utf-8"):null,utf8ToBuf=re=>{if(!ENCODER)throw new Error("Encoding API not available");return ENCODER.encode(re).buffer},utf8FromBuf=re=>{if(!DECODER)throw new Error("Encoding API not available");return DECODER.decode(re)},NodeCrypto$1=isNode?nodeRequire("crypto"):void 0,randomBytes=re=>{if(isNode)return NodeCrypto$1.randomBytes(re).buffer;if(!globalScope.crypto||!globalScope.crypto.getRandomValues)throw new Error("Cryptography API not available");return globalScope.crypto.getRandomValues(new Uint8Array(re)).buffer};class Secret{constructor(){let{buffer:ee,size:te=20}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.buffer=typeof ee>"u"?randomBytes(te):ee}static fromLatin1(ee){return new Secret({buffer:latin1ToBuf(ee)})}static fromUTF8(ee){return new Secret({buffer:utf8ToBuf(ee)})}static fromBase32(ee){return new Secret({buffer:base32ToBuf(ee)})}static fromHex(ee){return new Secret({buffer:hexToBuf(ee)})}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,value:latin1FromBuf(this.buffer)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,value:utf8FromBuf(this.buffer)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,value:base32FromBuf(this.buffer)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,value:hexFromBuf(this.buffer)}),this.hex}}const NodeCrypto=isNode?nodeRequire("crypto"):void 0,timingSafeEqual=(re,ee)=>{if(isNode)return NodeCrypto.timingSafeEqual(globalScope.Buffer.from(re),globalScope.Buffer.from(ee));{if(re.length!==ee.length)throw new TypeError("Input strings must have the same length");let te=-1,ne=0;for(;++te<re.length;)ne|=re.charCodeAt(te)^ee.charCodeAt(te);return ne===0}};class HOTP{static get defaults(){return{issuer:"",label:"OTPAuth",algorithm:"SHA1",digits:6,counter:0,window:1}}constructor(){let{issuer:ee=HOTP.defaults.issuer,label:te=HOTP.defaults.label,secret:ne=new Secret,algorithm:ie=HOTP.defaults.algorithm,digits:se=HOTP.defaults.digits,counter:oe=HOTP.defaults.counter}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.issuer=ee,this.label=te,this.secret=typeof ne=="string"?Secret.fromBase32(ne):ne,this.algorithm=ie.toUpperCase(),this.digits=se,this.counter=oe}static generate(ee){let{secret:te,algorithm:ne=HOTP.defaults.algorithm,digits:ie=HOTP.defaults.digits,counter:se=HOTP.defaults.counter}=ee;const oe=new Uint8Array(hmacDigest(ne,te.buffer,uintToBuf(se))),ue=oe[oe.byteLength-1]&15,ae=((oe[ue]&127)<<24|(oe[ue+1]&255)<<16|(oe[ue+2]&255)<<8|oe[ue+3]&255)%10**ie;return pad(ae,ie)}generate(){let{counter:ee=this.counter++}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return HOTP.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:ee})}static validate(ee){let{token:te,secret:ne,algorithm:ie,digits:se,counter:oe=HOTP.defaults.counter,window:ue=HOTP.defaults.window}=ee;if(te.length!==se)return null;let ae=null;for(let ce=oe-ue;ce<=oe+ue;++ce){const he=HOTP.generate({secret:ne,algorithm:ie,digits:se,counter:ce});timingSafeEqual(te,he)&&(ae=ce-oe)}return ae}validate(ee){let{token:te,counter:ne=this.counter,window:ie}=ee;return HOTP.validate({token:te,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:ne,window:ie})}toString(){const ee=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?`${ee(this.issuer)}:${ee(this.label)}?issuer=${ee(this.issuer)}&`:`${ee(this.label)}?`}secret=${ee(this.secret.base32)}&algorithm=${ee(this.algorithm)}&digits=${ee(this.digits)}&counter=${ee(this.counter)}`}}class TOTP{static get defaults(){return{issuer:"",label:"OTPAuth",algorithm:"SHA1",digits:6,period:30,window:1}}constructor(){let{issuer:ee=TOTP.defaults.issuer,label:te=TOTP.defaults.label,secret:ne=new Secret,algorithm:ie=TOTP.defaults.algorithm,digits:se=TOTP.defaults.digits,period:oe=TOTP.defaults.period}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.issuer=ee,this.label=te,this.secret=typeof ne=="string"?Secret.fromBase32(ne):ne,this.algorithm=ie.toUpperCase(),this.digits=se,this.period=oe}static generate(ee){let{secret:te,algorithm:ne,digits:ie,period:se=TOTP.defaults.period,timestamp:oe=Date.now()}=ee;return HOTP.generate({secret:te,algorithm:ne,digits:ie,counter:Math.floor(oe/1e3/se)})}generate(){let{timestamp:ee=Date.now()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return TOTP.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:ee})}static validate(ee){let{token:te,secret:ne,algorithm:ie,digits:se,period:oe=TOTP.defaults.period,timestamp:ue=Date.now(),window:ae}=ee;return HOTP.validate({token:te,secret:ne,algorithm:ie,digits:se,counter:Math.floor(ue/1e3/oe),window:ae})}validate(ee){let{token:te,timestamp:ne,window:ie}=ee;return TOTP.validate({token:te,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:ne,window:ie})}toString(){const ee=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?`${ee(this.issuer)}:${ee(this.label)}?issuer=${ee(this.issuer)}&`:`${ee(this.label)}?`}secret=${ee(this.secret.base32)}&algorithm=${ee(this.algorithm)}&digits=${ee(this.digits)}&period=${ee(this.period)}`}}function getTimeUntilTOTPChange(){return 30-new Date().getSeconds()%30}function newTOTP(re){return new TOTP({digits:6,period:30,secret:re})}function randomSecret(){return Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)}const syncIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eSync%3c/title%3e%3cpath%20d='M434.67%20285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179%20179%200%2000-140.14%2067.36m-38.53%2082v29.8C76.8%20355%20157%20435%20256%20435a180.45%20180.45%200%2000140-66.92'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3cpath%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'%20d='M32%20256l44-44%2046%2044M480%20256l-44%2044-46-44'/%3e%3c/svg%3e",settingsIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eSettings%3c/title%3e%3cpath%20d='M262.29%20192.31a64%2064%200%201057.4%2057.4%2064.13%2064.13%200%2000-57.4-57.4zM416.39%20256a154.34%20154.34%200%2001-1.53%2020.79l45.21%2035.46a10.81%2010.81%200%20012.45%2013.75l-42.77%2074a10.81%2010.81%200%2001-13.14%204.59l-44.9-18.08a16.11%2016.11%200%2000-15.17%201.75A164.48%20164.48%200%2001325%20400.8a15.94%2015.94%200%2000-8.82%2012.14l-6.73%2047.89a11.08%2011.08%200%2001-10.68%209.17h-85.54a11.11%2011.11%200%2001-10.69-8.87l-6.72-47.82a16.07%2016.07%200%2000-9-12.22%20155.3%20155.3%200%2001-21.46-12.57%2016%2016%200%2000-15.11-1.71l-44.89%2018.07a10.81%2010.81%200%2001-13.14-4.58l-42.77-74a10.8%2010.8%200%20012.45-13.75l38.21-30a16.05%2016.05%200%20006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16%2016%200%2000-6.07-13.94l-38.19-30A10.81%2010.81%200%200149.48%20186l42.77-74a10.81%2010.81%200%200113.14-4.59l44.9%2018.08a16.11%2016.11%200%200015.17-1.75A164.48%20164.48%200%2001187%20111.2a15.94%2015.94%200%20008.82-12.14l6.73-47.89A11.08%2011.08%200%2001213.23%2042h85.54a11.11%2011.11%200%200110.69%208.87l6.72%2047.82a16.07%2016.07%200%20009%2012.22%20155.3%20155.3%200%200121.46%2012.57%2016%2016%200%200015.11%201.71l44.89-18.07a10.81%2010.81%200%200113.14%204.58l42.77%2074a10.8%2010.8%200%2001-2.45%2013.75l-38.21%2030a16.05%2016.05%200%2000-6.05%2014.08c.33%204.14.55%208.3.55%2012.47z'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3c/svg%3e",subscriber_queue=[];function readable(re,ee){return{subscribe:writable(re,ee).subscribe}}function writable(re,ee=noop){let te=null;const ne=new Set;function ie(ue){if(safe_not_equal(re,ue)&&(re=ue,te)){const ae=!subscriber_queue.length;for(const ce of ne)ce[1](),subscriber_queue.push(ce,re);if(ae){for(let ce=0;ce<subscriber_queue.length;ce+=2)subscriber_queue[ce][0](subscriber_queue[ce+1]);subscriber_queue.length=0}}}function se(ue){ie(ue(re))}function oe(ue,ae=noop){const ce=[ue,ae];return ne.add(ce),ne.size===1&&(te=ee(ie,se)||noop),ue(re),()=>{ne.delete(ce),ne.size===0&&te&&(te(),te=null)}}return{set:ie,update:se,subscribe:oe}}var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,te=re.length;ee<te;++ee)lookup[ee]=re[ee],revLookup[re.charCodeAt(ee)]=ee;revLookup[45]=62,revLookup[95]=63}function toByteArray(re){inited||init();var ee,te,ne,ie,se,oe,ue=re.length;if(ue%4>0)throw new Error("Invalid string. Length must be a multiple of 4");se=re[ue-2]==="="?2:re[ue-1]==="="?1:0,oe=new Arr(ue*3/4-se),ne=se>0?ue-4:ue;var ae=0;for(ee=0,te=0;ee<ne;ee+=4,te+=3)ie=revLookup[re.charCodeAt(ee)]<<18|revLookup[re.charCodeAt(ee+1)]<<12|revLookup[re.charCodeAt(ee+2)]<<6|revLookup[re.charCodeAt(ee+3)],oe[ae++]=ie>>16&255,oe[ae++]=ie>>8&255,oe[ae++]=ie&255;return se===2?(ie=revLookup[re.charCodeAt(ee)]<<2|revLookup[re.charCodeAt(ee+1)]>>4,oe[ae++]=ie&255):se===1&&(ie=revLookup[re.charCodeAt(ee)]<<10|revLookup[re.charCodeAt(ee+1)]<<4|revLookup[re.charCodeAt(ee+2)]>>2,oe[ae++]=ie>>8&255,oe[ae++]=ie&255),oe}function tripletToBase64(re){return lookup[re>>18&63]+lookup[re>>12&63]+lookup[re>>6&63]+lookup[re&63]}function encodeChunk(re,ee,te){for(var ne,ie=[],se=ee;se<te;se+=3)ne=(re[se]<<16)+(re[se+1]<<8)+re[se+2],ie.push(tripletToBase64(ne));return ie.join("")}function fromByteArray(re){inited||init();for(var ee,te=re.length,ne=te%3,ie="",se=[],oe=16383,ue=0,ae=te-ne;ue<ae;ue+=oe)se.push(encodeChunk(re,ue,ue+oe>ae?ae:ue+oe));return ne===1?(ee=re[te-1],ie+=lookup[ee>>2],ie+=lookup[ee<<4&63],ie+="=="):ne===2&&(ee=(re[te-2]<<8)+re[te-1],ie+=lookup[ee>>10],ie+=lookup[ee>>4&63],ie+=lookup[ee<<2&63],ie+="="),se.push(ie),se.join("")}function read(re,ee,te,ne,ie){var se,oe,ue=ie*8-ne-1,ae=(1<<ue)-1,ce=ae>>1,he=-7,fe=te?ie-1:0,le=te?-1:1,de=re[ee+fe];for(fe+=le,se=de&(1<<-he)-1,de>>=-he,he+=ue;he>0;se=se*256+re[ee+fe],fe+=le,he-=8);for(oe=se&(1<<-he)-1,se>>=-he,he+=ne;he>0;oe=oe*256+re[ee+fe],fe+=le,he-=8);if(se===0)se=1-ce;else{if(se===ae)return oe?NaN:(de?-1:1)*(1/0);oe=oe+Math.pow(2,ne),se=se-ce}return(de?-1:1)*oe*Math.pow(2,se-ne)}function write(re,ee,te,ne,ie,se){var oe,ue,ae,ce=se*8-ie-1,he=(1<<ce)-1,fe=he>>1,le=ie===23?Math.pow(2,-24)-Math.pow(2,-77):0,de=ne?0:se-1,_e=ne?1:-1,pe=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ue=isNaN(ee)?1:0,oe=he):(oe=Math.floor(Math.log(ee)/Math.LN2),ee*(ae=Math.pow(2,-oe))<1&&(oe--,ae*=2),oe+fe>=1?ee+=le/ae:ee+=le*Math.pow(2,1-fe),ee*ae>=2&&(oe++,ae/=2),oe+fe>=he?(ue=0,oe=he):oe+fe>=1?(ue=(ee*ae-1)*Math.pow(2,ie),oe=oe+fe):(ue=ee*Math.pow(2,fe-1)*Math.pow(2,ie),oe=0));ie>=8;re[te+de]=ue&255,de+=_e,ue/=256,ie-=8);for(oe=oe<<ie|ue,ce+=ie;ce>0;re[te+de]=oe&255,de+=_e,oe/=256,ce-=8);re[te+de-_e]|=pe*128}var toString={}.toString,isArray=Array.isArray||function(re){return toString.call(re)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(re,ee){if(kMaxLength()<ee)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(ee),re.__proto__=Buffer.prototype):(re===null&&(re=new Buffer(ee)),re.length=ee),re}function Buffer(re,ee,te){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(re,ee,te);if(typeof re=="number"){if(typeof ee=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,re)}return from(this,re,ee,te)}Buffer.poolSize=8192;Buffer._augment=function(re){return re.__proto__=Buffer.prototype,re};function from(re,ee,te,ne){if(typeof ee=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?fromArrayBuffer(re,ee,te,ne):typeof ee=="string"?fromString(re,ee,te):fromObject(re,ee)}Buffer.from=function(re,ee,te){return from(null,re,ee,te)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array);function assertSize(re){if(typeof re!="number")throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function alloc(re,ee,te,ne){return assertSize(ee),ee<=0?createBuffer(re,ee):te!==void 0?typeof ne=="string"?createBuffer(re,ee).fill(te,ne):createBuffer(re,ee).fill(te):createBuffer(re,ee)}Buffer.alloc=function(re,ee,te){return alloc(null,re,ee,te)};function allocUnsafe(re,ee){if(assertSize(ee),re=createBuffer(re,ee<0?0:checked(ee)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var te=0;te<ee;++te)re[te]=0;return re}Buffer.allocUnsafe=function(re){return allocUnsafe(null,re)};Buffer.allocUnsafeSlow=function(re){return allocUnsafe(null,re)};function fromString(re,ee,te){if((typeof te!="string"||te==="")&&(te="utf8"),!Buffer.isEncoding(te))throw new TypeError('"encoding" must be a valid string encoding');var ne=byteLength(ee,te)|0;re=createBuffer(re,ne);var ie=re.write(ee,te);return ie!==ne&&(re=re.slice(0,ie)),re}function fromArrayLike(re,ee){var te=ee.length<0?0:checked(ee.length)|0;re=createBuffer(re,te);for(var ne=0;ne<te;ne+=1)re[ne]=ee[ne]&255;return re}function fromArrayBuffer(re,ee,te,ne){if(ee.byteLength,te<0||ee.byteLength<te)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<te+(ne||0))throw new RangeError("'length' is out of bounds");return te===void 0&&ne===void 0?ee=new Uint8Array(ee):ne===void 0?ee=new Uint8Array(ee,te):ee=new Uint8Array(ee,te,ne),Buffer.TYPED_ARRAY_SUPPORT?(re=ee,re.__proto__=Buffer.prototype):re=fromArrayLike(re,ee),re}function fromObject(re,ee){if(internalIsBuffer(ee)){var te=checked(ee.length)|0;return re=createBuffer(re,te),re.length===0||ee.copy(re,0,0,te),re}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return typeof ee.length!="number"||isnan(ee.length)?createBuffer(re,0):fromArrayLike(re,ee);if(ee.type==="Buffer"&&isArray(ee.data))return fromArrayLike(re,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(re){if(re>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return re|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(re){return!!(re!=null&&re._isBuffer)}Buffer.compare=function re(ee,te){if(!internalIsBuffer(ee)||!internalIsBuffer(te))throw new TypeError("Arguments must be Buffers");if(ee===te)return 0;for(var ne=ee.length,ie=te.length,se=0,oe=Math.min(ne,ie);se<oe;++se)if(ee[se]!==te[se]){ne=ee[se],ie=te[se];break}return ne<ie?-1:ie<ne?1:0};Buffer.isEncoding=function re(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function re(ee,te){if(!isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return Buffer.alloc(0);var ne;if(te===void 0)for(te=0,ne=0;ne<ee.length;++ne)te+=ee[ne].length;var ie=Buffer.allocUnsafe(te),se=0;for(ne=0;ne<ee.length;++ne){var oe=ee[ne];if(!internalIsBuffer(oe))throw new TypeError('"list" argument must be an Array of Buffers');oe.copy(ie,se),se+=oe.length}return ie};function byteLength(re,ee){if(internalIsBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;typeof re!="string"&&(re=""+re);var te=re.length;if(te===0)return 0;for(var ne=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":case void 0:return utf8ToBytes(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return base64ToBytes(re).length;default:if(ne)return utf8ToBytes(re).length;ee=(""+ee).toLowerCase(),ne=!0}}Buffer.byteLength=byteLength;function slowToString(re,ee,te){var ne=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,ee>>>=0,te<=ee))return"";for(re||(re="utf8");;)switch(re){case"hex":return hexSlice(this,ee,te);case"utf8":case"utf-8":return utf8Slice(this,ee,te);case"ascii":return asciiSlice(this,ee,te);case"latin1":case"binary":return latin1Slice(this,ee,te);case"base64":return base64Slice(this,ee,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,ee,te);default:if(ne)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),ne=!0}}Buffer.prototype._isBuffer=!0;function swap(re,ee,te){var ne=re[ee];re[ee]=re[te],re[te]=ne}Buffer.prototype.swap16=function re(){var ee=this.length;if(ee%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<ee;te+=2)swap(this,te,te+1);return this};Buffer.prototype.swap32=function re(){var ee=this.length;if(ee%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<ee;te+=4)swap(this,te,te+3),swap(this,te+1,te+2);return this};Buffer.prototype.swap64=function re(){var ee=this.length;if(ee%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<ee;te+=8)swap(this,te,te+7),swap(this,te+1,te+6),swap(this,te+2,te+5),swap(this,te+3,te+4);return this};Buffer.prototype.toString=function re(){var ee=this.length|0;return ee===0?"":arguments.length===0?utf8Slice(this,0,ee):slowToString.apply(this,arguments)};Buffer.prototype.equals=function re(ee){if(!internalIsBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee?!0:Buffer.compare(this,ee)===0};Buffer.prototype.inspect=function re(){var ee="",te=INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,te).match(/.{2}/g).join(" "),this.length>te&&(ee+=" ... ")),"<Buffer "+ee+">"};Buffer.prototype.compare=function re(ee,te,ne,ie,se){if(!internalIsBuffer(ee))throw new TypeError("Argument must be a Buffer");if(te===void 0&&(te=0),ne===void 0&&(ne=ee?ee.length:0),ie===void 0&&(ie=0),se===void 0&&(se=this.length),te<0||ne>ee.length||ie<0||se>this.length)throw new RangeError("out of range index");if(ie>=se&&te>=ne)return 0;if(ie>=se)return-1;if(te>=ne)return 1;if(te>>>=0,ne>>>=0,ie>>>=0,se>>>=0,this===ee)return 0;for(var oe=se-ie,ue=ne-te,ae=Math.min(oe,ue),ce=this.slice(ie,se),he=ee.slice(te,ne),fe=0;fe<ae;++fe)if(ce[fe]!==he[fe]){oe=ce[fe],ue=he[fe];break}return oe<ue?-1:ue<oe?1:0};function bidirectionalIndexOf(re,ee,te,ne,ie){if(re.length===0)return-1;if(typeof te=="string"?(ne=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,isNaN(te)&&(te=ie?0:re.length-1),te<0&&(te=re.length+te),te>=re.length){if(ie)return-1;te=re.length-1}else if(te<0)if(ie)te=0;else return-1;if(typeof ee=="string"&&(ee=Buffer.from(ee,ne)),internalIsBuffer(ee))return ee.length===0?-1:arrayIndexOf(re,ee,te,ne,ie);if(typeof ee=="number")return ee=ee&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(re,ee,te):Uint8Array.prototype.lastIndexOf.call(re,ee,te):arrayIndexOf(re,[ee],te,ne,ie);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(re,ee,te,ne,ie){var se=1,oe=re.length,ue=ee.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(re.length<2||ee.length<2)return-1;se=2,oe/=2,ue/=2,te/=2}function ae(de,_e){return se===1?de[_e]:de.readUInt16BE(_e*se)}var ce;if(ie){var he=-1;for(ce=te;ce<oe;ce++)if(ae(re,ce)===ae(ee,he===-1?0:ce-he)){if(he===-1&&(he=ce),ce-he+1===ue)return he*se}else he!==-1&&(ce-=ce-he),he=-1}else for(te+ue>oe&&(te=oe-ue),ce=te;ce>=0;ce--){for(var fe=!0,le=0;le<ue;le++)if(ae(re,ce+le)!==ae(ee,le)){fe=!1;break}if(fe)return ce}return-1}Buffer.prototype.includes=function re(ee,te,ne){return this.indexOf(ee,te,ne)!==-1};Buffer.prototype.indexOf=function re(ee,te,ne){return bidirectionalIndexOf(this,ee,te,ne,!0)};Buffer.prototype.lastIndexOf=function re(ee,te,ne){return bidirectionalIndexOf(this,ee,te,ne,!1)};function hexWrite(re,ee,te,ne){te=Number(te)||0;var ie=re.length-te;ne?(ne=Number(ne),ne>ie&&(ne=ie)):ne=ie;var se=ee.length;if(se%2!==0)throw new TypeError("Invalid hex string");ne>se/2&&(ne=se/2);for(var oe=0;oe<ne;++oe){var ue=parseInt(ee.substr(oe*2,2),16);if(isNaN(ue))return oe;re[te+oe]=ue}return oe}function utf8Write(re,ee,te,ne){return blitBuffer(utf8ToBytes(ee,re.length-te),re,te,ne)}function asciiWrite(re,ee,te,ne){return blitBuffer(asciiToBytes(ee),re,te,ne)}function latin1Write(re,ee,te,ne){return asciiWrite(re,ee,te,ne)}function base64Write(re,ee,te,ne){return blitBuffer(base64ToBytes(ee),re,te,ne)}function ucs2Write(re,ee,te,ne){return blitBuffer(utf16leToBytes(ee,re.length-te),re,te,ne)}Buffer.prototype.write=function re(ee,te,ne,ie){if(te===void 0)ie="utf8",ne=this.length,te=0;else if(ne===void 0&&typeof te=="string")ie=te,ne=this.length,te=0;else if(isFinite(te))te=te|0,isFinite(ne)?(ne=ne|0,ie===void 0&&(ie="utf8")):(ie=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var se=this.length-te;if((ne===void 0||ne>se)&&(ne=se),ee.length>0&&(ne<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var oe=!1;;)switch(ie){case"hex":return hexWrite(this,ee,te,ne);case"utf8":case"utf-8":return utf8Write(this,ee,te,ne);case"ascii":return asciiWrite(this,ee,te,ne);case"latin1":case"binary":return latin1Write(this,ee,te,ne);case"base64":return base64Write(this,ee,te,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,ee,te,ne);default:if(oe)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),oe=!0}};Buffer.prototype.toJSON=function re(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(re,ee,te){return ee===0&&te===re.length?fromByteArray(re):fromByteArray(re.slice(ee,te))}function utf8Slice(re,ee,te){te=Math.min(re.length,te);for(var ne=[],ie=ee;ie<te;){var se=re[ie],oe=null,ue=se>239?4:se>223?3:se>191?2:1;if(ie+ue<=te){var ae,ce,he,fe;switch(ue){case 1:se<128&&(oe=se);break;case 2:ae=re[ie+1],(ae&192)===128&&(fe=(se&31)<<6|ae&63,fe>127&&(oe=fe));break;case 3:ae=re[ie+1],ce=re[ie+2],(ae&192)===128&&(ce&192)===128&&(fe=(se&15)<<12|(ae&63)<<6|ce&63,fe>2047&&(fe<55296||fe>57343)&&(oe=fe));break;case 4:ae=re[ie+1],ce=re[ie+2],he=re[ie+3],(ae&192)===128&&(ce&192)===128&&(he&192)===128&&(fe=(se&15)<<18|(ae&63)<<12|(ce&63)<<6|he&63,fe>65535&&fe<1114112&&(oe=fe))}}oe===null?(oe=65533,ue=1):oe>65535&&(oe-=65536,ne.push(oe>>>10&1023|55296),oe=56320|oe&1023),ne.push(oe),ie+=ue}return decodeCodePointsArray(ne)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(re){var ee=re.length;if(ee<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,re);for(var te="",ne=0;ne<ee;)te+=String.fromCharCode.apply(String,re.slice(ne,ne+=MAX_ARGUMENTS_LENGTH));return te}function asciiSlice(re,ee,te){var ne="";te=Math.min(re.length,te);for(var ie=ee;ie<te;++ie)ne+=String.fromCharCode(re[ie]&127);return ne}function latin1Slice(re,ee,te){var ne="";te=Math.min(re.length,te);for(var ie=ee;ie<te;++ie)ne+=String.fromCharCode(re[ie]);return ne}function hexSlice(re,ee,te){var ne=re.length;(!ee||ee<0)&&(ee=0),(!te||te<0||te>ne)&&(te=ne);for(var ie="",se=ee;se<te;++se)ie+=toHex(re[se]);return ie}function utf16leSlice(re,ee,te){for(var ne=re.slice(ee,te),ie="",se=0;se<ne.length;se+=2)ie+=String.fromCharCode(ne[se]+ne[se+1]*256);return ie}Buffer.prototype.slice=function re(ee,te){var ne=this.length;ee=~~ee,te=te===void 0?ne:~~te,ee<0?(ee+=ne,ee<0&&(ee=0)):ee>ne&&(ee=ne),te<0?(te+=ne,te<0&&(te=0)):te>ne&&(te=ne),te<ee&&(te=ee);var ie;if(Buffer.TYPED_ARRAY_SUPPORT)ie=this.subarray(ee,te),ie.__proto__=Buffer.prototype;else{var se=te-ee;ie=new Buffer(se,void 0);for(var oe=0;oe<se;++oe)ie[oe]=this[oe+ee]}return ie};function checkOffset(re,ee,te){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+ee>te)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee],se=1,oe=0;++oe<te&&(se*=256);)ie+=this[ee+oe]*se;return ie};Buffer.prototype.readUIntBE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee+--te],se=1;te>0&&(se*=256);)ie+=this[ee+--te]*se;return ie};Buffer.prototype.readUInt8=function re(ee,te){return te||checkOffset(ee,1,this.length),this[ee]};Buffer.prototype.readUInt16LE=function re(ee,te){return te||checkOffset(ee,2,this.length),this[ee]|this[ee+1]<<8};Buffer.prototype.readUInt16BE=function re(ee,te){return te||checkOffset(ee,2,this.length),this[ee]<<8|this[ee+1]};Buffer.prototype.readUInt32LE=function re(ee,te){return te||checkOffset(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+this[ee+3]*16777216};Buffer.prototype.readUInt32BE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]*16777216+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])};Buffer.prototype.readIntLE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee],se=1,oe=0;++oe<te&&(se*=256);)ie+=this[ee+oe]*se;return se*=128,ie>=se&&(ie-=Math.pow(2,8*te)),ie};Buffer.prototype.readIntBE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=te,se=1,oe=this[ee+--ie];ie>0&&(se*=256);)oe+=this[ee+--ie]*se;return se*=128,oe>=se&&(oe-=Math.pow(2,8*te)),oe};Buffer.prototype.readInt8=function re(ee,te){return te||checkOffset(ee,1,this.length),this[ee]&128?(255-this[ee]+1)*-1:this[ee]};Buffer.prototype.readInt16LE=function re(ee,te){te||checkOffset(ee,2,this.length);var ne=this[ee]|this[ee+1]<<8;return ne&32768?ne|4294901760:ne};Buffer.prototype.readInt16BE=function re(ee,te){te||checkOffset(ee,2,this.length);var ne=this[ee+1]|this[ee]<<8;return ne&32768?ne|4294901760:ne};Buffer.prototype.readInt32LE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24};Buffer.prototype.readInt32BE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]};Buffer.prototype.readFloatLE=function re(ee,te){return te||checkOffset(ee,4,this.length),read(this,ee,!0,23,4)};Buffer.prototype.readFloatBE=function re(ee,te){return te||checkOffset(ee,4,this.length),read(this,ee,!1,23,4)};Buffer.prototype.readDoubleLE=function re(ee,te){return te||checkOffset(ee,8,this.length),read(this,ee,!0,52,8)};Buffer.prototype.readDoubleBE=function re(ee,te){return te||checkOffset(ee,8,this.length),read(this,ee,!1,52,8)};function checkInt(re,ee,te,ne,ie,se){if(!internalIsBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>ie||ee<se)throw new RangeError('"value" argument is out of bounds');if(te+ne>re.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,ne=ne|0,!ie){var se=Math.pow(2,8*ne)-1;checkInt(this,ee,te,ne,se,0)}var oe=1,ue=0;for(this[te]=ee&255;++ue<ne&&(oe*=256);)this[te+ue]=ee/oe&255;return te+ne};Buffer.prototype.writeUIntBE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,ne=ne|0,!ie){var se=Math.pow(2,8*ne)-1;checkInt(this,ee,te,ne,se,0)}var oe=ne-1,ue=1;for(this[te+oe]=ee&255;--oe>=0&&(ue*=256);)this[te+oe]=ee/ue&255;return te+ne};Buffer.prototype.writeUInt8=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[te]=ee&255,te+1};function objectWriteUInt16(re,ee,te,ne){ee<0&&(ee=65535+ee+1);for(var ie=0,se=Math.min(re.length-te,2);ie<se;++ie)re[te+ie]=(ee&255<<8*(ne?ie:1-ie))>>>(ne?ie:1-ie)*8}Buffer.prototype.writeUInt16LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8):objectWriteUInt16(this,ee,te,!0),te+2};Buffer.prototype.writeUInt16BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>8,this[te+1]=ee&255):objectWriteUInt16(this,ee,te,!1),te+2};function objectWriteUInt32(re,ee,te,ne){ee<0&&(ee=4294967295+ee+1);for(var ie=0,se=Math.min(re.length-te,4);ie<se;++ie)re[te+ie]=ee>>>(ne?ie:3-ie)*8&255}Buffer.prototype.writeUInt32LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te+3]=ee>>>24,this[te+2]=ee>>>16,this[te+1]=ee>>>8,this[te]=ee&255):objectWriteUInt32(this,ee,te,!0),te+4};Buffer.prototype.writeUInt32BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255):objectWriteUInt32(this,ee,te,!1),te+4};Buffer.prototype.writeIntLE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,!ie){var se=Math.pow(2,8*ne-1);checkInt(this,ee,te,ne,se-1,-se)}var oe=0,ue=1,ae=0;for(this[te]=ee&255;++oe<ne&&(ue*=256);)ee<0&&ae===0&&this[te+oe-1]!==0&&(ae=1),this[te+oe]=(ee/ue>>0)-ae&255;return te+ne};Buffer.prototype.writeIntBE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,!ie){var se=Math.pow(2,8*ne-1);checkInt(this,ee,te,ne,se-1,-se)}var oe=ne-1,ue=1,ae=0;for(this[te+oe]=ee&255;--oe>=0&&(ue*=256);)ee<0&&ae===0&&this[te+oe+1]!==0&&(ae=1),this[te+oe]=(ee/ue>>0)-ae&255;return te+ne};Buffer.prototype.writeInt8=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[te]=ee&255,te+1};Buffer.prototype.writeInt16LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8):objectWriteUInt16(this,ee,te,!0),te+2};Buffer.prototype.writeInt16BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>8,this[te+1]=ee&255):objectWriteUInt16(this,ee,te,!1),te+2};Buffer.prototype.writeInt32LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8,this[te+2]=ee>>>16,this[te+3]=ee>>>24):objectWriteUInt32(this,ee,te,!0),te+4};Buffer.prototype.writeInt32BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255):objectWriteUInt32(this,ee,te,!1),te+4};function checkIEEE754(re,ee,te,ne,ie,se){if(te+ne>re.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function writeFloat(re,ee,te,ne,ie){return ie||checkIEEE754(re,ee,te,4),write(re,ee,te,ne,23,4),te+4}Buffer.prototype.writeFloatLE=function re(ee,te,ne){return writeFloat(this,ee,te,!0,ne)};Buffer.prototype.writeFloatBE=function re(ee,te,ne){return writeFloat(this,ee,te,!1,ne)};function writeDouble(re,ee,te,ne,ie){return ie||checkIEEE754(re,ee,te,8),write(re,ee,te,ne,52,8),te+8}Buffer.prototype.writeDoubleLE=function re(ee,te,ne){return writeDouble(this,ee,te,!0,ne)};Buffer.prototype.writeDoubleBE=function re(ee,te,ne){return writeDouble(this,ee,te,!1,ne)};Buffer.prototype.copy=function re(ee,te,ne,ie){if(ne||(ne=0),!ie&&ie!==0&&(ie=this.length),te>=ee.length&&(te=ee.length),te||(te=0),ie>0&&ie<ne&&(ie=ne),ie===ne||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),ee.length-te<ie-ne&&(ie=ee.length-te+ne);var se=ie-ne,oe;if(this===ee&&ne<te&&te<ie)for(oe=se-1;oe>=0;--oe)ee[oe+te]=this[oe+ne];else if(se<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(oe=0;oe<se;++oe)ee[oe+te]=this[oe+ne];else Uint8Array.prototype.set.call(ee,this.subarray(ne,ne+se),te);return se};Buffer.prototype.fill=function re(ee,te,ne,ie){if(typeof ee=="string"){if(typeof te=="string"?(ie=te,te=0,ne=this.length):typeof ne=="string"&&(ie=ne,ne=this.length),ee.length===1){var se=ee.charCodeAt(0);se<256&&(ee=se)}if(ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!Buffer.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie)}else typeof ee=="number"&&(ee=ee&255);if(te<0||this.length<te||this.length<ne)throw new RangeError("Out of range index");if(ne<=te)return this;te=te>>>0,ne=ne===void 0?this.length:ne>>>0,ee||(ee=0);var oe;if(typeof ee=="number")for(oe=te;oe<ne;++oe)this[oe]=ee;else{var ue=internalIsBuffer(ee)?ee:utf8ToBytes(new Buffer(ee,ie).toString()),ae=ue.length;for(oe=0;oe<ne-te;++oe)this[oe+te]=ue[oe%ae]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(re){if(re=stringtrim(re).replace(INVALID_BASE64_RE,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function stringtrim(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}function toHex(re){return re<16?"0"+re.toString(16):re.toString(16)}function utf8ToBytes(re,ee){ee=ee||1/0;for(var te,ne=re.length,ie=null,se=[],oe=0;oe<ne;++oe){if(te=re.charCodeAt(oe),te>55295&&te<57344){if(!ie){if(te>56319){(ee-=3)>-1&&se.push(239,191,189);continue}else if(oe+1===ne){(ee-=3)>-1&&se.push(239,191,189);continue}ie=te;continue}if(te<56320){(ee-=3)>-1&&se.push(239,191,189),ie=te;continue}te=(ie-55296<<10|te-56320)+65536}else ie&&(ee-=3)>-1&&se.push(239,191,189);if(ie=null,te<128){if((ee-=1)<0)break;se.push(te)}else if(te<2048){if((ee-=2)<0)break;se.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;se.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;se.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return se}function asciiToBytes(re){for(var ee=[],te=0;te<re.length;++te)ee.push(re.charCodeAt(te)&255);return ee}function utf16leToBytes(re,ee){for(var te,ne,ie,se=[],oe=0;oe<re.length&&!((ee-=2)<0);++oe)te=re.charCodeAt(oe),ne=te>>8,ie=te%256,se.push(ie),se.push(ne);return se}function base64ToBytes(re){return toByteArray(base64clean(re))}function blitBuffer(re,ee,te,ne){for(var ie=0;ie<ne&&!(ie+te>=ee.length||ie>=re.length);++ie)ee[ie+te]=re[ie];return ie}function isnan(re){return re!==re}function isBuffer(re){return re!=null&&(!!re._isBuffer||isFastBuffer(re)||isSlowBuffer(re))}function isFastBuffer(re){return!!re.constructor&&typeof re.constructor.isBuffer=="function"&&re.constructor.isBuffer(re)}function isSlowBuffer(re){return typeof re.readFloatLE=="function"&&typeof re.slice=="function"&&isFastBuffer(re.slice(0,0))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function encrypt(re,ee){const te=generateSalt();return keyFromPassword(re,te).then(function(ne){return encryptWithKey(ne,ee)}).then(function(ne){return ne.salt=te,JSON.stringify(ne)})}function encryptWithKey(re,ee){const te=JSON.stringify(ee),ne=Buffer.from(te,"utf-8"),ie=commonjsGlobal.crypto.getRandomValues(new Uint8Array(16));return commonjsGlobal.crypto.subtle.encrypt({name:"AES-GCM",iv:ie},re,ne).then(function(se){const oe=new Uint8Array(se),ue=Buffer.from(ie).toString("base64");return{data:Buffer.from(oe).toString("base64"),iv:ue}})}function decrypt(re,ee){const te=JSON.parse(ee),{salt:ne}=te;return keyFromPassword(re,ne).then(function(ie){return decryptWithKey(ie,te)})}function decryptWithKey(re,ee){const te=Buffer.from(ee.data,"base64"),ne=Buffer.from(ee.iv,"base64");return crypto.subtle.decrypt({name:"AES-GCM",iv:ne},re,te).then(function(ie){const se=new Uint8Array(ie),oe=Buffer.from(se).toString("utf-8");return JSON.parse(oe)}).catch(function(ie){throw new Error("Incorrect password")})}function keyFromPassword(re,ee){const te=Buffer.from(re,"utf-8"),ne=Buffer.from(ee,"base64");return commonjsGlobal.crypto.subtle.importKey("raw",te,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]).then(function(ie){return commonjsGlobal.crypto.subtle.deriveKey({name:"PBKDF2",salt:ne,iterations:1e4,hash:"SHA-256"},ie,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})}function serializeBufferFromStorage(re){const ee=re.slice(0,2)==="0x"?re.slice(2):re,te=new Uint8Array(ee.length/2);for(let ne=0;ne<ee.length;ne+=2){const ie=ee.substr(ne,2);te[ne/2]=parseInt(ie,16)}return te}function serializeBufferForStorage(re){let ee="0x";const te=re.length||re.byteLength;for(let ne=0;ne<te;ne++)ee+=unprefixedHex(re[ne]);return ee}function unprefixedHex(re){let ee=re.toString(16);for(;ee.length<2;)ee=`0${ee}`;return ee}function generateSalt(re=32){const ee=new Uint8Array(re);return commonjsGlobal.crypto.getRandomValues(ee),btoa(String.fromCharCode.apply(null,ee))}var dist={encrypt,decrypt,keyFromPassword,encryptWithKey,decryptWithKey,serializeBufferForStorage,serializeBufferFromStorage,generateSalt};async function encryptData(re,ee){return await dist.encrypt(re,ee)}console.log("hello123123");async function decryptData(re,ee){return await dist.decrypt(re,ee)}class TemplateStorage{}var RemoteStatus=(re=>(re.Success="success",re.Timeout="timeout",re.Exists="exists",re.InvalidRoute="invalidroute",re.InvalidData="invaliddata",re.NoData="nodata",re.TooLarge="toolarge",re))(RemoteStatus||{}),StorageStatus=(re=>(re[re.Success=0]="Success",re[re.Error=1]="Error",re[re.NoData=2]="NoData",re[re.Duplicate=3]="Duplicate",re[re.NotFound=4]="NotFound",re[re.InvalidData=5]="InvalidData",re))(StorageStatus||{}),SyncStatus=(re=>(re[re.Success=0]="Success",re[re.Error=1]="Error",re))(SyncStatus||{});const deletedAccountString="deleteddeleteddeleted";class DefaultStorage extends TemplateStorage{async getData(ee){const te=localStorage.getItem("data");return te===null?[StorageStatus.NoData,null]:[StorageStatus.Success,await decryptData(ee,te)]}async setData(ee,te){const ne=await encryptData(ee,te);return localStorage.setItem("data",ne),StorageStatus.Success}async addAccount(ee,te,ne){let[ie,se]=await this.getData(ee);return ie!==StorageStatus.Success?ie:se.some(oe=>oe.key!==deletedAccountString&&oe.name===te)?StorageStatus.Duplicate:(se=se.filter(oe=>!(oe.key===deletedAccountString&&oe.name===te)),se.push({name:te,key:ne}),await this.setData(ee,se))}async removeAccount(ee,te){const[ne,ie]=await this.getData(ee);if(ne!==StorageStatus.Success)return ne;const se=ie.filter(oe=>oe.name!==te);return await this.setData(ee,se)}verifyLocalData(){return localStorage.getItem("data")!==null}clearLocalData(){return localStorage.removeItem("data"),StorageStatus.Success}initLocalData(ee){return this.setData(ee,[]),StorageStatus.Success}}class TemplateRemote{}class DefaultRemote extends TemplateRemote{constructor(){super(...arguments),this.baseRemoteURL="https://totp.blobbybilb.workers.dev/",this.remoteURLs={get:this.baseRemoteURL+"get/",set:this.baseRemoteURL+"set/",exists:this.baseRemoteURL+"exists/"}}async checkIfExists(){try{await fetch(this.remoteURLs.exists)}catch{return!1}return await(await fetch(this.remoteURLs.exists)).text()===RemoteStatus.Exists}async getData(ee,te){const ne=await(await fetch(this.remoteURLs.get+ee)).text();if(!ne.startsWith(RemoteStatus.Success))return[ne,null];const ie=await decryptData(te,ne.substring(RemoteStatus.Success.length,ne.length));return[RemoteStatus.Success,ie]}async setData(ee,te,ne){const ie=await encryptData(te,ne);return await(await fetch(this.remoteURLs.set+ee,{method:"POST",body:ie})).text()}}class TemplateSync{}console.log("hello");class DefaultSync extends TemplateSync{constructor(ee,te){super(),this.remote=ee,this.storage=te}async syncData(ee,te,ne){let[,ie]=await this.remote.getData(te,ne);const[,se]=await this.storage.getData(ee);ie===null&&(await this.remote.setData(te,ne,se),ie=se),console.log("localData",se),console.log("remoteData",ie);const oe=[...se,...ie];console.log("merged",oe);const ue=[],ae=oe.filter(ce=>ue.includes(ce.name)?!1:(ue.push(ce.name),!0)).filter(ce=>ce.key!==deletedAccountString);return console.log("deduplicated",ae),await this.storage.setData(ee,ae),await this.remote.setData(te,ne,ae),[SyncStatus.Success,[RemoteStatus.Success,StorageStatus.Success]]}}const storage=readable(new DefaultStorage),sync=readable(new DefaultSync(new DefaultRemote,new DefaultStorage)),currentName=writable("");var ModalShown=(re=>(re[re.None=0]="None",re[re.QRScan=1]="QRScan",re[re.Help=2]="Help",re))(ModalShown||{});const modalShown=writable(0);enable_legacy_mode_flag();var root$8=template('<button class="svelte-15z2usk"><img class="svelte-15z2usk"></button>');function IconButton(re,ee){let te=prop(ee,"src",8),ne=prop(ee,"alt",8),ie=prop(ee,"action",8),se=prop(ee,"size",8,23);var oe=root$8(),ue=child(oe);template_effect(()=>{set_attribute(ue,"src",te()),set_attribute(ue,"alt",ne()),set_attribute(ue,"style",`height: ${se()??""}px`)}),event("click",oe,function(...ae){var ce;(ce=ie())==null||ce.apply(this,ae)}),append(re,oe)}var root$7=template('<main class="svelte-19hef0g"><div id="grid" class="svelte-19hef0g"><!> <p class="svelte-19hef0g">TOTP[App]</p> <!></div></main>');function Titlebar(re,ee){push(ee,!0);const te=setup_stores(),ne=()=>store_get(sync,"$sync",te);function ie(){const he=prompt("Enter an existing sync token or use the randomly generated one.",localStorage.getItem("remoteToken")??randomSecret());he&&localStorage.setItem("remoteToken",he)}function se(){let he=prompt("Enter your sync encryption password.",localStorage.getItem("remotePassword")??"");he!==null&&(localStorage.setItem("remotePassword",he),ne().syncData(ee.PIN,localStorage.getItem("remoteToken"),he).then(window.location.reload.bind(window.location)))}var oe=root$7(),ue=child(oe),ae=child(ue);IconButton(ae,{action:se,src:syncIcon,alt:"sync"});var ce=sibling(ae,4);IconButton(ce,{action:ie,src:settingsIcon,alt:"settings"}),append(re,oe),pop()}const copyIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eCopy%3c/title%3e%3crect%20x='128'%20y='128'%20width='336'%20height='336'%20rx='57'%20ry='57'%20fill='none'%20stroke='currentColor'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3cpath%20d='M383.5%20128l.5-24a56.16%2056.16%200%2000-56-56H112a64.19%2064.19%200%2000-64%2064v216a56.16%2056.16%200%200056%2056h24'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3c/svg%3e";var root$6=template('<div class="svelte-yamkn2"><p id="account" class="svelte-yamkn2"> </p> <p id="otp" class="svelte-yamkn2"> </p> <!> <p id="timer" class="svelte-yamkn2"> </p></div>');function Totpdisplay(re,ee){push(ee,!1);let te=mutable_state("--- ---"),ne=mutable_state(0),ie=mutable_state("-"),se;function oe(ge){se=newTOTP(ge.key),set(ie,ge.name),ue()}function ue(){if(!se)return;const ge=se.generate();set(te,`${ge.substring(0,3)} ${ge.substring(3,6)}`),set(ne,getTimeUntilTOTPChange()),currentName.set(get(ie))}function ae(){navigator.clipboard.writeText(get(te).replace(" ",""))}setInterval(ue,1e3),init$1();var ce=root$6(),he=child(ce),fe=child(he),le=sibling(he,2),de=child(le),_e=sibling(le,2);IconButton(_e,{action:ae,src:copyIcon,alt:"copy",size:25});var pe=sibling(_e,2),ve=child(pe);return template_effect(()=>{set_text(fe,get(ie)),set_text(de,get(te)),set_text(ve,get(ne))}),append(re,ce),bind_prop(ee,"set",oe),pop({set:oe})}const qrIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eQr%20Code%3c/title%3e%3crect%20x='336'%20y='336'%20width='80'%20height='80'%20rx='8'%20ry='8'/%3e%3crect%20x='272'%20y='272'%20width='64'%20height='64'%20rx='8'%20ry='8'/%3e%3crect%20x='416'%20y='416'%20width='64'%20height='64'%20rx='8'%20ry='8'/%3e%3crect%20x='432'%20y='272'%20width='48'%20height='48'%20rx='8'%20ry='8'/%3e%3crect%20x='272'%20y='432'%20width='48'%20height='48'%20rx='8'%20ry='8'/%3e%3crect%20x='336'%20y='96'%20width='80'%20height='80'%20rx='8'%20ry='8'/%3e%3crect%20x='288'%20y='48'%20width='176'%20height='176'%20rx='16'%20ry='16'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3crect%20x='96'%20y='96'%20width='80'%20height='80'%20rx='8'%20ry='8'/%3e%3crect%20x='48'%20y='48'%20width='176'%20height='176'%20rx='16'%20ry='16'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3crect%20x='96'%20y='336'%20width='80'%20height='80'%20rx='8'%20ry='8'/%3e%3crect%20x='48'%20y='288'%20width='176'%20height='176'%20rx='16'%20ry='16'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3c/svg%3e",plusIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eAdd%3c/title%3e%3cpath%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'%20d='M256%20112v288M400%20256H112'/%3e%3c/svg%3e",trashIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eTrash%3c/title%3e%3cpath%20d='M112%20112l20%20320c.95%2018.49%2014.4%2032%2032%2032h184c17.67%200%2030.87-13.51%2032-32l20-320'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3cpath%20stroke='currentColor'%20stroke-linecap='round'%20stroke-miterlimit='10'%20stroke-width='32'%20d='M80%20112h352'/%3e%3cpath%20d='M192%20112V72h0a23.93%2023.93%200%200124-24h80a23.93%2023.93%200%200124%2024h0v40M256%20176v224M184%20176l8%20224M328%20176l-8%20224'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3c/svg%3e",editIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3ctitle%3eCreate%3c/title%3e%3cpath%20d='M384%20224v184a40%2040%200%2001-40%2040H104a40%2040%200%2001-40-40V168a40%2040%200%200140-40h167.48'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='32'/%3e%3cpath%20d='M459.94%2053.25a16.06%2016.06%200%2000-23.22-.56L424.35%2065a8%208%200%20000%2011.31l11.34%2011.32a8%208%200%200011.34%200l12.06-12c6.1-6.09%206.67-16.01.85-22.38zM399.34%2090L218.82%20270.2a9%209%200%2000-2.31%203.93L208.16%20299a3.91%203.91%200%20004.86%204.86l24.85-8.35a9%209%200%20003.93-2.31L422%20112.66a9%209%200%20000-12.66l-9.95-10a9%209%200%2000-12.71%200z'/%3e%3c/svg%3e",helpIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20class='ionicon'%20viewBox='0%200%20512%20512'%3e%3cpath%20d='M256%2080a176%20176%200%2010176%20176A176%20176%200%2000256%2080z'%20fill='none'%20stroke='currentColor'%20stroke-miterlimit='10'%20stroke-width='32'/%3e%3cpath%20d='M200%20202.29s.84-17.5%2019.57-32.57C230.68%20160.77%20244%20158.18%20256%20158c10.93-.14%2020.69%201.67%2026.53%204.45%2010%204.76%2029.47%2016.38%2029.47%2041.09%200%2026-17%2037.81-36.37%2050.8S251%20281.43%20251%20296'%20fill='none'%20stroke='currentColor'%20stroke-linecap='round'%20stroke-miterlimit='10'%20stroke-width='28'/%3e%3ccircle%20cx='250'%20cy='348'%20r='20'/%3e%3c/svg%3e";var root$5=template('<div class="svelte-kbpegu"><!> <!> <!> <!> <!></div>');function Topbar(re,ee){push(ee,!0);const te=setup_stores(),ne=()=>store_get(storage,"$storage",te),ie=()=>store_get(currentName,"$currentName",te);async function se(){const _e=prompt("Enter account name");if(!_e)return;const[pe,ve]=await ne().getData(ee.PIN);if(pe===StorageStatus.Success&&ve.find(me=>me.name===_e)){alert("Account with that name already exists");return}const ge=prompt("Enter account key");ge&&(ne().addAccount(ee.PIN,_e,ge),window.location.reload())}async function oe(){confirm("Delete selected account?")&&(await ne().removeAccount(ee.PIN,ie()),await ne().addAccount(ee.PIN,ie(),"deleteddeleteddeleted"),window.location.reload())}async function ue(){if(confirm("Edit selected account?")){const _e=prompt("Enter new account key");if(!_e)return;await ne().removeAccount(ee.PIN,ie()),await ne().addAccount(ee.PIN,ie(),_e),window.location.reload()}}var ae=root$5(),ce=child(ae);IconButton(ce,{action:()=>store_set(modalShown,proxy(ModalShown.Help)),src:helpIcon,alt:"help"});var he=sibling(ce,2);IconButton(he,{action:oe,src:trashIcon,alt:"delete"});var fe=sibling(he,2);IconButton(fe,{action:ue,src:editIcon,alt:"edit"});var le=sibling(fe,2);IconButton(le,{action:()=>store_set(modalShown,proxy(ModalShown.QRScan)),src:qrIcon,alt:"scan"});var de=sibling(le,2);IconButton(de,{action:se,src:plusIcon,alt:"add"}),append(re,ae),pop()}var root$4=template("<button> </button> <br>",1);function Account(re,ee){push(ee,!1);const te=setup_stores(),ne=()=>store_get(currentName,"$currentName",te);let ie=prop(ee,"token",8),se=prop(ee,"setTOTPDisplay",8);const oe=`${ie().name}`;function ue(){se()(ie());const fe=document.getElementById(oe);fe.style.opacity="0.75",setTimeout(()=>{fe.style.opacity="1"},100)}init$1();var ae=root$4(),ce=first_child(ae);set_attribute(ce,"id",oe);var he=child(ce);template_effect(()=>{set_class(ce,clsx(ne()===ie().name?"selected":""),"svelte-1hf9ejk"),set_text(he,ie().name)}),event("click",ce,ue),append(re,ae),pop()}var root$3=template('<main class="svelte-1tpj1j7"><!> <div id="container" class="svelte-1tpj1j7"><!> <div id="bottom-padding" class="svelte-1tpj1j7"></div></div></main>');function Container(re,ee){push(ee,!1);const te=setup_stores(),ne=()=>store_get(storage,"$storage",te);let ie=prop(ee,"PIN",8),se=prop(ee,"setTOTPDisplay",8);async function oe(){return console.log("DATA",(await ne().getData(ie()))[1]),(await ne().getData(ie()))[1]}init$1();var ue=root$3(),ae=child(ue);Topbar(ae,{get PIN(){return ie()}});var ce=sibling(ae,2),he=child(ce);await_block(he,oe,null,(fe,le)=>{var de=comment(),_e=first_child(de);each(_e,1,()=>get(le),index,(pe,ve)=>{var ge=comment(),we=first_child(ge);{var me=ye=>{Account(ye,{get token(){return get(ve)},get setTOTPDisplay(){return se()}})};if_block(we,ye=>{get(ve).key!==deletedAccountString&&ye(me)})}append(pe,ge)}),append(fe,de)}),append(re,ue),pop()}const scriptRel="modulepreload",assetsURL=function(re){return"/"+re},seen={},__vitePreload=function re(ee,te,ne){let ie=Promise.resolve();if(te&&te.length>0){document.getElementsByTagName("link");const oe=document.querySelector("meta[property=csp-nonce]"),ue=(oe==null?void 0:oe.nonce)||(oe==null?void 0:oe.getAttribute("nonce"));ie=Promise.allSettled(te.map(ae=>{if(ae=assetsURL(ae),ae in seen)return;seen[ae]=!0;const ce=ae.endsWith(".css"),he=ce?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ae}"]${he}`))return;const fe=document.createElement("link");if(fe.rel=ce?"stylesheet":scriptRel,ce||(fe.as="script"),fe.crossOrigin="",fe.href=ae,ue&&fe.setAttribute("nonce",ue),document.head.appendChild(fe),ce)return new Promise((le,de)=>{fe.addEventListener("load",le),fe.addEventListener("error",()=>de(new Error(`Unable to preload CSS for ${ae}`)))})}))}function se(oe){const ue=new Event("vite:preloadError",{cancelable:!0});if(ue.payload=oe,window.dispatchEvent(ue),!ue.defaultPrevented)throw oe}return ie.then(oe=>{for(const ue of oe||[])ue.status==="rejected"&&se(ue.reason);return ee().catch(se)})};class e{constructor(ee,te,ne,ie,se){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=ee,this.$canvas=document.createElement("canvas"),ne&&typeof ne=="object"?this._onDecode=te:(console.warn(ne||ie||se?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=te),te=typeof ne=="object"?ne:{},this._onDecodeError=te.onDecodeError||(typeof ne=="function"?ne:this._onDecodeError),this._calculateScanRegion=te.calculateScanRegion||(typeof ie=="function"?ie:this._calculateScanRegion),this._preferredCamera=te.preferredCamera||se||this._preferredCamera,this._legacyCanvasSize=typeof ne=="number"?ne:typeof ie=="number"?ie:this._legacyCanvasSize,this._maxScansPerSecond=te.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),ee.disablePictureInPicture=!0,ee.playsInline=!0,ee.muted=!0;let oe=!1;if(ee.hidden&&(ee.hidden=!1,oe=!0),document.body.contains(ee)||(document.body.appendChild(ee),oe=!0),ne=ee.parentElement,te.highlightScanRegion||te.highlightCodeOutline){if(ie=!!te.overlay,this.$overlay=te.overlay||document.createElement("div"),se=this.$overlay.style,se.position="absolute",se.display="none",se.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!ie&&te.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}ne.insertBefore(this.$overlay,this.$video.nextSibling)}te.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(ee),requestAnimationFrame(()=>{let ue=window.getComputedStyle(ee);ue.display==="none"&&(ee.style.setProperty("display","block","important"),oe=!0),ue.visibility!=="visible"&&(ee.style.setProperty("visibility","visible","important"),oe=!0),oe&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),ee.style.opacity="0",ee.style.width="0",ee.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),ee.addEventListener("play",this._onPlay),ee.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(ee){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch{return!1}}static async listCameras(ee=!1){if(!navigator.mediaDevices)return[];let te=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(ie=>ie.kind==="videoinput"),ne;try{ee&&(await te()).every(ie=>!ie.label)&&(ne=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await te()).map((ie,se)=>({id:ie.deviceId,label:ie.label||(se===0?"Default Camera":`Camera ${se+1}`)}))}finally{ne&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(ne))}}async hasFlash(){let ee;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;ee=this.$video.srcObject}else ee=(await this._getCameraStream()).stream;return"torch"in ee.getVideoTracks()[0].getSettings()}catch{return!1}finally{ee&&ee!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(ee))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(ee){throw this._flashOn=!1,ee}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:ee,facingMode:te}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(ee):(this._setVideoMirror(te),this.$video.srcObject=ee,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(ee){if(!this._paused)throw this._active=!1,ee}}stop(){this.pause(),this._active=!1}async pause(ee=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let te=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return ee?(te(),!0):(await new Promise(ne=>setTimeout(ne,300)),this._paused?(te(),!0):!1)}async setCamera(ee){ee!==this._preferredCamera&&(this._preferredCamera=ee,await this._restartVideoStream())}static async scanImage(ee,te,ne,ie,se=!1,oe=!1){let ue,ae=!1;te&&("scanRegion"in te||"qrEngine"in te||"canvas"in te||"disallowCanvasResizing"in te||"alsoTryWithoutScanRegion"in te||"returnDetailedScanResult"in te)?(ue=te.scanRegion,ne=te.qrEngine,ie=te.canvas,se=te.disallowCanvasResizing||!1,oe=te.alsoTryWithoutScanRegion||!1,ae=!0):console.warn(te||ne||ie||se||oe?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),te=!!ne;try{let ce,he;[ne,ce]=await Promise.all([ne||e.createQrEngine(),e._loadImage(ee)]),[ie,he]=e._drawToCanvas(ce,ue,ie,se);let fe;if(ne instanceof Worker){let le=ne;te||e._postWorkerMessageSync(le,"inversionMode","both"),fe=await new Promise((de,_e)=>{let pe,ve,ge,we=-1;ve=ye=>{ye.data.id===we&&(le.removeEventListener("message",ve),le.removeEventListener("error",ge),clearTimeout(pe),ye.data.data!==null?de({data:ye.data.data,cornerPoints:e._convertPoints(ye.data.cornerPoints,ue)}):_e(e.NO_QR_CODE_FOUND))},ge=ye=>{le.removeEventListener("message",ve),le.removeEventListener("error",ge),clearTimeout(pe),_e("Scanner error: "+(ye?ye.message||ye:"Unknown Error"))},le.addEventListener("message",ve),le.addEventListener("error",ge),pe=setTimeout(()=>ge("timeout"),1e4);let me=he.getImageData(0,0,ie.width,ie.height);we=e._postWorkerMessageSync(le,"decode",me,[me.data.buffer])})}else fe=await Promise.race([new Promise((le,de)=>window.setTimeout(()=>de("Scanner error: timeout"),1e4)),(async()=>{try{var[le]=await ne.detect(ie);if(!le)throw e.NO_QR_CODE_FOUND;return{data:le.rawValue,cornerPoints:e._convertPoints(le.cornerPoints,ue)}}catch(de){if(le=de.message||de,/not implemented|service unavailable/.test(le))return e._disableBarcodeDetector=!0,e.scanImage(ee,{scanRegion:ue,canvas:ie,disallowCanvasResizing:se,alsoTryWithoutScanRegion:oe});throw`Scanner error: ${le}`}})()]);return ae?fe:fe.data}catch(ce){if(!ue||!oe)throw ce;let he=await e.scanImage(ee,{qrEngine:ne,canvas:ie,disallowCanvasResizing:se});return ae?he:he.data}finally{te||e._postWorkerMessage(ne,"close")}}setGrayscaleWeights(ee,te,ne,ie=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:ee,green:te,blue:ne,useIntegerApproximation:ie})}setInversionMode(ee){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",ee)}static async createQrEngine(ee){if(ee&&console.warn("Specifying a worker path is not required and not supported anymore."),ee=()=>__vitePreload(()=>import("./qr-scanner-worker.min-D85Z9gVD.js"),[]).then(ne=>ne.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return ee();let te=navigator.userAgentData;return te&&te.brands.some(({brand:ne})=>/Chromium/i.test(ne))&&/mac ?OS/i.test(te.platform)&&await te.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:ne,platformVersion:ie})=>/arm/i.test(ne||"arm")&&13<=parseInt(ie||"13")).catch(()=>!0)?ee():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(ee){let te=Math.round(.6666666666666666*Math.min(ee.videoWidth,ee.videoHeight));return{x:Math.round((ee.videoWidth-te)/2),y:Math.round((ee.videoHeight-te)/2),width:te,height:te,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var ee=this.$video,te=ee.videoWidth,ne=ee.videoHeight,ie=ee.offsetWidth,se=ee.offsetHeight,oe=ee.offsetLeft,ue=ee.offsetTop,ae=window.getComputedStyle(ee),ce=ae.objectFit,he=te/ne,fe=ie/se;switch(ce){case"none":var le=te,de=ne;break;case"fill":le=ie,de=se;break;default:(ce==="cover"?he>fe:he<fe)?(de=se,le=de*he):(le=ie,de=le/he),ce==="scale-down"&&(le=Math.min(le,te),de=Math.min(de,ne))}var[_e,pe]=ae.objectPosition.split(" ").map((ge,we)=>{const me=parseFloat(ge);return ge.endsWith("%")?(we?se-de:ie-le)*me/100:me});ae=this._scanRegion.width||te,fe=this._scanRegion.height||ne,ce=this._scanRegion.x||0;var ve=this._scanRegion.y||0;he=this.$overlay.style,he.width=`${ae/te*le}px`,he.height=`${fe/ne*de}px`,he.top=`${ue+pe+ve/ne*de}px`,ne=/scaleX\(-1\)/.test(ee.style.transform),he.left=`${oe+(ne?ie-_e-le:_e)+(ne?te-ce-ae:ce)/te*le}px`,he.transform=ee.style.transform}})}static _convertPoints(ee,te){if(!te)return ee;let ne=te.x||0,ie=te.y||0,se=te.width&&te.downScaledWidth?te.width/te.downScaledWidth:1;te=te.height&&te.downScaledHeight?te.height/te.downScaledHeight:1;for(let oe of ee)oe.x=oe.x*se+ne,oe.y=oe.y*te+ie;return ee}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var ee=Date.now()-this._lastScanTimestamp,te=1e3/this._maxScansPerSecond;ee<te&&await new Promise(ie=>setTimeout(ie,te-ee)),this._lastScanTimestamp=Date.now();try{var ne=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(ie){if(!this._active)return;this._onDecodeError(ie)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),ne?(this._onDecode?this._onDecode(ne):this._legacyOnDecode&&this._legacyOnDecode(ne.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",ne.cornerPoints.map(({x:ie,y:se})=>`${ie},${se}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(ee){ee!==e.NO_QR_CODE_FOUND&&console.log(ee)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let ee=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",te=[{width:{min:1024}},{width:{min:768}},{}],ne=te.map(ie=>Object.assign({},ie,{[ee]:{exact:this._preferredCamera}}));for(let ie of[...ne,...te])try{let se=await navigator.mediaDevices.getUserMedia({video:ie,audio:!1}),oe=this._getFacingMode(se)||(ie.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:se,facingMode:oe}}catch{}throw"Camera not found."}async _restartVideoStream(){let ee=this._paused;await this.pause(!0)&&!ee&&this._active&&await this.start()}static _stopVideoStream(ee){for(let te of ee.getTracks())te.stop(),ee.removeTrack(te)}_setVideoMirror(ee){this.$video.style.transform="scaleX("+(ee==="user"?-1:1)+")"}_getFacingMode(ee){return(ee=ee.getVideoTracks()[0])?/rear|back|environment/i.test(ee.label)?"environment":/front|user|face/i.test(ee.label)?"user":null:null}static _drawToCanvas(ee,te,ne,ie=!1){ne=ne||document.createElement("canvas");let se=te&&te.x?te.x:0,oe=te&&te.y?te.y:0,ue=te&&te.width?te.width:ee.videoWidth||ee.width,ae=te&&te.height?te.height:ee.videoHeight||ee.height;return ie||(ie=te&&te.downScaledWidth?te.downScaledWidth:ue,te=te&&te.downScaledHeight?te.downScaledHeight:ae,ne.width!==ie&&(ne.width=ie),ne.height!==te&&(ne.height=te)),te=ne.getContext("2d",{alpha:!1}),te.imageSmoothingEnabled=!1,te.drawImage(ee,se,oe,ue,ae,0,0,ne.width,ne.height),[ne,te]}static async _loadImage(ee){if(ee instanceof Image)return await e._awaitImageLoad(ee),ee;if(ee instanceof HTMLVideoElement||ee instanceof HTMLCanvasElement||ee instanceof SVGImageElement||"OffscreenCanvas"in window&&ee instanceof OffscreenCanvas||"ImageBitmap"in window&&ee instanceof ImageBitmap)return ee;if(ee instanceof File||ee instanceof Blob||ee instanceof URL||typeof ee=="string"){let te=new Image;te.src=ee instanceof File||ee instanceof Blob?URL.createObjectURL(ee):ee.toString();try{return await e._awaitImageLoad(te),te}finally{(ee instanceof File||ee instanceof Blob)&&URL.revokeObjectURL(te.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(ee){ee.complete&&ee.naturalWidth!==0||await new Promise((te,ne)=>{let ie=se=>{ee.removeEventListener("load",ie),ee.removeEventListener("error",ie),se instanceof ErrorEvent?ne("Image load error"):te()};ee.addEventListener("load",ie),ee.addEventListener("error",ie)})}static async _postWorkerMessage(ee,te,ne,ie){return e._postWorkerMessageSync(await ee,te,ne,ie)}static _postWorkerMessageSync(ee,te,ne,ie){if(!(ee instanceof Worker))return-1;let se=e._workerMessageId++;return ee.postMessage({id:se,type:te,data:ne},ie),se}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND="No QR code found";e._disableBarcodeDetector=!1;e._workerMessageId=0;var root$2=template('<section class="svelte-z1h4o0"><div class="placeholder svelte-z1h4o0"></div> <div class="video-container svelte-z1h4o0"><figure><video id="qr-scan-el" class="svelte-z1h4o0"></video></figure></div> <p class="svelte-z1h4o0"> </p> <button class="svelte-z1h4o0">Cancel</button></section> <div class="overlay svelte-z1h4o0"></div>',3);function QRScanModal(re,ee){push(ee,!1);const te=setup_stores(),ne=()=>store_get(storage,"$storage",te);let ie=prop(ee,"PIN",8),se,oe=Date.now(),ue=mutable_state("Scanning...");setInterval(()=>{Date.now()-oe>2e3&&set(ue,"Scanning...")},1e3);function ae(_e){if(_e.data==="")return;let pe;try{pe=new URL(_e.data)}catch{set(ue,"Invalid QR code (no URL found)"),oe=Date.now();return}if(pe.protocol!=="otpauth:"){set(ue,"Invalid QR code (not an OTP URL)"),oe=Date.now();return}if(pe.hostname!=="totp"){set(ue,"Invalid QR code (not a TOTP URL)"),oe=Date.now();return}pe.pathname.split("/").filter(ye=>ye!=="")[0];let[ve,ge]=["",""];pe.searchParams.has("issuer")&&(ve=pe.searchParams.get("issuer")),pe.searchParams.has("user")&&(ge=pe.searchParams.get("user"));const we=pe.searchParams.get("secret");if(we===null){set(ue,"Invalid QR code (no secret found)"),oe=Date.now();return}se.stop();let me=`${ve}${ve!==""?": ":""}${ge}`;if(me=prompt("Enter a name for this account",me),me===null){store_set(modalShown,ModalShown.None);return}ne().addAccount(ie(),me,we).then(ye=>{ye===StorageStatus.Duplicate?alert("Account already exists"):ye!==StorageStatus.Success&&alert("Failed to add account from QR code"),window.location.reload()}),store_set(modalShown,ModalShown.None)}onMount(()=>{console.log("onMount");const _e=document.getElementById("qr-scan-el");se=new e(_e,ae,{returnDetailedScanResult:!0,overlay:!0}),se.start()}),modalShown.subscribe(_e=>{_e!==ModalShown.QRScan&&se.stop()}),init$1();var ce=root$2(),he=first_child(ce),fe=sibling(child(he),4),le=child(fe),de=sibling(fe,2);template_effect(()=>set_text(le,get(ue))),event("click",de,()=>store_set(modalShown,ModalShown.None)),append(re,ce),pop()}var root$1=template(`<section class="svelte-1c76gr2"><h1 class="svelte-1c76gr2"></h1> <p class="svelte-1c76gr2">All app options can be accesssed by clicking one icon. (Currently, this web app only supports the default sync
        server, hosted on Cloudflare.)</p> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Scan a QR code to add an account</span></div> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Add an account manually by entering a TOTP key</span></div> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Delete the currently selected account</span></div> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Edit the TOTP key of the currently selected account</span></div> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Sync your accounts with the server (asks for your encryption password)</span></div> <div class="svelte-1c76gr2"><!> <span class="svelte-1c76gr2">Change or set your sync account token</span></div> <button class="svelte-1c76gr2">Done</button></section>`);function HelpModal(re,ee){push(ee,!1),setup_stores();const te=localStorage.getItem("firstTimeDone")=="true";function ne(){localStorage.setItem("firstTimeDone","true"),store_set(modalShown,ModalShown.None)}init$1();var ie=root$1(),se=child(ie);se.textContent=te?"Help":"Welcome!";var oe=sibling(se,4),ue=child(oe);IconButton(ue,{src:qrIcon,alt:"scan",action:()=>{}});var ae=sibling(oe,2),ce=child(ae);IconButton(ce,{src:plusIcon,alt:"add",action:()=>{}});var he=sibling(ae,2),fe=child(he);IconButton(fe,{src:trashIcon,alt:"delete",action:()=>{}});var le=sibling(he,2),de=child(le);IconButton(de,{src:editIcon,alt:"edit",action:()=>{}});var _e=sibling(le,2),pe=child(_e);IconButton(pe,{src:syncIcon,alt:"sync",action:()=>{}});var ve=sibling(_e,2),ge=child(ve);IconButton(ge,{src:settingsIcon,alt:"settings",action:()=>{}});var we=sibling(ve,2);event("click",we,ne),append(re,ie),pop()}var root=template("<main><!> <!> <!> <!> <!></main>");function App(re,ee){push(ee,!0);const te=setup_stores(),ne=()=>store_get(storage,"$storage",te),ie=()=>store_get(modalShown,"$modalShown",te);let se=state(void 0);const oe="blob";ne().verifyLocalData()||ne().initLocalData(oe),localStorage.getItem("firstTimeDone")!="true"&&store_set(modalShown,proxy(ModalShown.Help));var ue=root(),ae=child(ue);Titlebar(ae,{PIN:oe});var ce=sibling(ae,2);Totpdisplay(ce,{get set(){return get(se)},set set(pe){set(se,proxy(pe))}});var he=sibling(ce,2);Container(he,{PIN:oe,get setTOTPDisplay(){return get(se)}});var fe=sibling(he,2);{var le=pe=>{QRScanModal(pe,{PIN:oe})};if_block(fe,pe=>{ie()===ModalShown.QRScan&&pe(le)})}var de=sibling(fe,2);{var _e=pe=>{HelpModal(pe,{})};if_block(de,pe=>{ie()===ModalShown.Help&&pe(_e)})}append(re,ue),pop()}mount(App,{target:document.getElementById("app")});
