var Te=Object.defineProperty;var ke=(re,ee,te)=>ee in re?Te(re,ee,{enumerable:!0,configurable:!0,writable:!0,value:te}):re[ee]=te;var Ee=(re,ee,te)=>(ke(re,typeof ee!="symbol"?ee+"":ee,te),te);(function(){const ee=document.createElement("link").relList;if(ee&&ee.supports&&ee.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))ne(ie);new MutationObserver(ie=>{for(const oe of ie)if(oe.type==="childList")for(const se of oe.addedNodes)se.tagName==="LINK"&&se.rel==="modulepreload"&&ne(se)}).observe(document,{childList:!0,subtree:!0});function te(ie){const oe={};return ie.integrity&&(oe.integrity=ie.integrity),ie.referrerpolicy&&(oe.referrerPolicy=ie.referrerpolicy),ie.crossorigin==="use-credentials"?oe.credentials="include":ie.crossorigin==="anonymous"?oe.credentials="omit":oe.credentials="same-origin",oe}function ne(ie){if(ie.ep)return;ie.ep=!0;const oe=te(ie);fetch(ie.href,oe)}})();const app="";function noop(){}function is_promise(re){return!!re&&(typeof re=="object"||typeof re=="function")&&typeof re.then=="function"}function run(re){return re()}function blank_object(){return Object.create(null)}function run_all(re){re.forEach(run)}function is_function(re){return typeof re=="function"}function safe_not_equal(re,ee){return re!=re?ee==ee:re!==ee||re&&typeof re=="object"||typeof re=="function"}let src_url_equal_anchor;function src_url_equal(re,ee){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=ee,re===src_url_equal_anchor.href}function is_empty(re){return Object.keys(re).length===0}function subscribe(re,...ee){if(re==null)return noop;const te=re.subscribe(...ee);return te.unsubscribe?()=>te.unsubscribe():te}function component_subscribe(re,ee,te){re.$$.on_destroy.push(subscribe(ee,te))}function null_to_empty(re){return re==null?"":re}function append(re,ee){re.appendChild(ee)}function insert(re,ee,te){re.insertBefore(ee,te||null)}function detach(re){re.parentNode&&re.parentNode.removeChild(re)}function destroy_each(re,ee){for(let te=0;te<re.length;te+=1)re[te]&&re[te].d(ee)}function element(re){return document.createElement(re)}function text(re){return document.createTextNode(re)}function space(){return text(" ")}function empty(){return text("")}function listen(re,ee,te,ne){return re.addEventListener(ee,te,ne),()=>re.removeEventListener(ee,te,ne)}function attr(re,ee,te){te==null?re.removeAttribute(ee):re.getAttribute(ee)!==te&&re.setAttribute(ee,te)}function children(re){return Array.from(re.childNodes)}function set_data(re,ee){ee=""+ee,re.wholeText!==ee&&(re.data=ee)}function set_style(re,ee,te,ne){te===null?re.style.removeProperty(ee):re.style.setProperty(ee,te,ne?"important":"")}let current_component;function set_current_component(re){current_component=re}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(re){render_callbacks.push(re)}function add_flush_callback(re){flush_callbacks.push(re)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const re=current_component;do{try{for(;flushidx<dirty_components.length;){const ee=dirty_components[flushidx];flushidx++,set_current_component(ee),update(ee.$$)}}catch(ee){throw dirty_components.length=0,flushidx=0,ee}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let ee=0;ee<render_callbacks.length;ee+=1){const te=render_callbacks[ee];seen_callbacks.has(te)||(seen_callbacks.add(te),te())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(re)}function update(re){if(re.fragment!==null){re.update(),run_all(re.before_update);const ee=re.dirty;re.dirty=[-1],re.fragment&&re.fragment.p(re.ctx,ee),re.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(re,ee){re&&re.i&&(outroing.delete(re),re.i(ee))}function transition_out(re,ee,te,ne){if(re&&re.o){if(outroing.has(re))return;outroing.add(re),outros.c.push(()=>{outroing.delete(re),ne&&(te&&re.d(1),ne())}),re.o(ee)}else ne&&ne()}function handle_promise(re,ee){const te=ee.token={};function ne(ie,oe,se,ce){if(ee.token!==te)return;ee.resolved=ce;let ue=ee.ctx;se!==void 0&&(ue=ue.slice(),ue[se]=ce);const ae=ie&&(ee.current=ie)(ue);let le=!1;ee.block&&(ee.blocks?ee.blocks.forEach((he,fe)=>{fe!==oe&&he&&(group_outros(),transition_out(he,1,1,()=>{ee.blocks[fe]===he&&(ee.blocks[fe]=null)}),check_outros())}):ee.block.d(1),ae.c(),transition_in(ae,1),ae.m(ee.mount(),ee.anchor),le=!0),ee.block=ae,ee.blocks&&(ee.blocks[oe]=ae),le&&flush()}if(is_promise(re)){const ie=get_current_component();if(re.then(oe=>{set_current_component(ie),ne(ee.then,1,ee.value,oe),set_current_component(null)},oe=>{if(set_current_component(ie),ne(ee.catch,2,ee.error,oe),set_current_component(null),!ee.hasCatch)throw oe}),ee.current!==ee.pending)return ne(ee.pending,0),!0}else{if(ee.current!==ee.then)return ne(ee.then,1,ee.value,re),!0;ee.resolved=re}}function update_await_block_branch(re,ee,te){const ne=ee.slice(),{resolved:ie}=re;re.current===re.then&&(ne[re.value]=ie),re.current===re.catch&&(ne[re.error]=ie),re.block.p(ne,te)}function bind(re,ee,te){const ne=re.$$.props[ee];ne!==void 0&&(re.$$.bound[ne]=te,te(re.$$.ctx[ne]))}function create_component(re){re&&re.c()}function mount_component(re,ee,te,ne){const{fragment:ie,after_update:oe}=re.$$;ie&&ie.m(ee,te),ne||add_render_callback(()=>{const se=re.$$.on_mount.map(run).filter(is_function);re.$$.on_destroy?re.$$.on_destroy.push(...se):run_all(se),re.$$.on_mount=[]}),oe.forEach(add_render_callback)}function destroy_component(re,ee){const te=re.$$;te.fragment!==null&&(run_all(te.on_destroy),te.fragment&&te.fragment.d(ee),te.on_destroy=te.fragment=null,te.ctx=[])}function make_dirty(re,ee){re.$$.dirty[0]===-1&&(dirty_components.push(re),schedule_update(),re.$$.dirty.fill(0)),re.$$.dirty[ee/31|0]|=1<<ee%31}function init$1(re,ee,te,ne,ie,oe,se,ce=[-1]){const ue=current_component;set_current_component(re);const ae=re.$$={fragment:null,ctx:[],props:oe,update:noop,not_equal:ie,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(ee.context||(ue?ue.$$.context:[])),callbacks:blank_object(),dirty:ce,skip_bound:!1,root:ee.target||ue.$$.root};se&&se(ae.root);let le=!1;if(ae.ctx=te?te(re,ee.props||{},(he,fe,...pe)=>{const de=pe.length?pe[0]:fe;return ae.ctx&&ie(ae.ctx[he],ae.ctx[he]=de)&&(!ae.skip_bound&&ae.bound[he]&&ae.bound[he](de),le&&make_dirty(re,he)),fe}):[],ae.update(),le=!0,run_all(ae.before_update),ae.fragment=ne?ne(ae.ctx):!1,ee.target){if(ee.hydrate){const he=children(ee.target);ae.fragment&&ae.fragment.l(he),he.forEach(detach)}else ae.fragment&&ae.fragment.c();ee.intro&&transition_in(re.$$.fragment),mount_component(re,ee.target,ee.anchor,ee.customElement),flush()}set_current_component(ue)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(ee,te){if(!is_function(te))return noop;const ne=this.$$.callbacks[ee]||(this.$$.callbacks[ee]=[]);return ne.push(te),()=>{const ie=ne.indexOf(te);ie!==-1&&ne.splice(ie,1)}}$set(ee){this.$$set&&!is_empty(ee)&&(this.$$.skip_bound=!0,this.$$set(ee),this.$$.skip_bound=!1)}}/*! otpauth v8.0.3 | (c) Héctor Molinero Fernández <hector@molinero.dev> | MIT | https://github.com/hectorm/otpauth *//*! jssha v3.2.0 | (c) Brian Turek <brian.turek@gmail.com> | BSD-3-Clause | https://github.com/Caligatio/jsSHA */const uintToBuf=re=>{const ee=new ArrayBuffer(8),te=new Uint8Array(ee);let ne=re;for(let ie=7;ie>=0&&ne!==0;ie--)te[ie]=ne&255,ne-=te[ie],ne/=256;return ee},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function n(re,ee,te,ne){let ie,oe,se;const ce=ee||[0],ue=(te=te||0)>>>3,ae=ne===-1?3:0;for(ie=0;ie<re.length;ie+=1)se=ie+ue,oe=se>>>2,ce.length<=oe&&ce.push(0),ce[oe]|=re[ie]<<8*(ae+ne*(se%4));return{value:ce,binLen:8*re.length+te}}function e(re,ee,te){switch(ee){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(re){case"HEX":return function(ne,ie,oe){return function(se,ce,ue,ae){let le,he,fe,pe;if(se.length%2!=0)throw new Error("String of HEX type must be in byte increments");const de=ce||[0],me=(ue=ue||0)>>>3,we=ae===-1?3:0;for(le=0;le<se.length;le+=2){if(he=parseInt(se.substr(le,2),16),isNaN(he))throw new Error("String of HEX type contains invalid characters");for(pe=(le>>>1)+me,fe=pe>>>2;de.length<=fe;)de.push(0);de[fe]|=he<<8*(we+ae*(pe%4))}return{value:de,binLen:4*se.length+ue}}(ne,ie,oe,te)};case"TEXT":return function(ne,ie,oe){return function(se,ce,ue,ae,le){let he,fe,pe,de,me,we,ge,be,_e=0;const Be=ue||[0],ye=(ae=ae||0)>>>3;if(ce==="UTF8")for(ge=le===-1?3:0,pe=0;pe<se.length;pe+=1)for(he=se.charCodeAt(pe),fe=[],128>he?fe.push(he):2048>he?(fe.push(192|he>>>6),fe.push(128|63&he)):55296>he||57344<=he?fe.push(224|he>>>12,128|he>>>6&63,128|63&he):(pe+=1,he=65536+((1023&he)<<10|1023&se.charCodeAt(pe)),fe.push(240|he>>>18,128|he>>>12&63,128|he>>>6&63,128|63&he)),de=0;de<fe.length;de+=1){for(we=_e+ye,me=we>>>2;Be.length<=me;)Be.push(0);Be[me]|=fe[de]<<8*(ge+le*(we%4)),_e+=1}else for(ge=le===-1?2:0,be=ce==="UTF16LE"&&le!==1||ce!=="UTF16LE"&&le===1,pe=0;pe<se.length;pe+=1){for(he=se.charCodeAt(pe),be===!0&&(de=255&he,he=de<<8|he>>>8),we=_e+ye,me=we>>>2;Be.length<=me;)Be.push(0);Be[me]|=he<<8*(ge+le*(we%4)),_e+=2}return{value:Be,binLen:8*_e+ae}}(ne,ee,ie,oe,te)};case"B64":return function(ne,ie,oe){return function(se,ce,ue,ae){let le,he,fe,pe,de,me,we,ge=0;const be=ce||[0],_e=(ue=ue||0)>>>3,Be=ae===-1?3:0,ye=se.indexOf("=");if(se.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(se=se.replace(/=/g,""),ye!==-1&&ye<se.length)throw new Error("Invalid '=' found in base-64 string");for(he=0;he<se.length;he+=4){for(de=se.substr(he,4),pe=0,fe=0;fe<de.length;fe+=1)le=t.indexOf(de.charAt(fe)),pe|=le<<18-6*fe;for(fe=0;fe<de.length-1;fe+=1){for(we=ge+_e,me=we>>>2;be.length<=me;)be.push(0);be[me]|=(pe>>>16-8*fe&255)<<8*(Be+ae*(we%4)),ge+=1}}return{value:be,binLen:8*ge+ue}}(ne,ie,oe,te)};case"BYTES":return function(ne,ie,oe){return function(se,ce,ue,ae){let le,he,fe,pe;const de=ce||[0],me=(ue=ue||0)>>>3,we=ae===-1?3:0;for(he=0;he<se.length;he+=1)le=se.charCodeAt(he),pe=he+me,fe=pe>>>2,de.length<=fe&&de.push(0),de[fe]|=le<<8*(we+ae*(pe%4));return{value:de,binLen:8*se.length+ue}}(ne,ie,oe,te)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(ne,ie,oe){return function(se,ce,ue,ae){return n(new Uint8Array(se),ce,ue,ae)}(ne,ie,oe,te)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(ne,ie,oe){return n(ne,ie,oe,te)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function r(re,ee,te,ne){switch(re){case"HEX":return function(ie){return function(oe,se,ce,ue){let ae,le,he="";const fe=se/8,pe=ce===-1?3:0;for(ae=0;ae<fe;ae+=1)le=oe[ae>>>2]>>>8*(pe+ce*(ae%4)),he+="0123456789abcdef".charAt(le>>>4&15)+"0123456789abcdef".charAt(15&le);return ue.outputUpper?he.toUpperCase():he}(ie,ee,te,ne)};case"B64":return function(ie){return function(oe,se,ce,ue){let ae,le,he,fe,pe,de="";const me=se/8,we=ce===-1?3:0;for(ae=0;ae<me;ae+=3)for(fe=ae+1<me?oe[ae+1>>>2]:0,pe=ae+2<me?oe[ae+2>>>2]:0,he=(oe[ae>>>2]>>>8*(we+ce*(ae%4))&255)<<16|(fe>>>8*(we+ce*((ae+1)%4))&255)<<8|pe>>>8*(we+ce*((ae+2)%4))&255,le=0;le<4;le+=1)de+=8*ae+6*le<=se?t.charAt(he>>>6*(3-le)&63):ue.b64Pad;return de}(ie,ee,te,ne)};case"BYTES":return function(ie){return function(oe,se,ce){let ue,ae,le="";const he=se/8,fe=ce===-1?3:0;for(ue=0;ue<he;ue+=1)ae=oe[ue>>>2]>>>8*(fe+ce*(ue%4))&255,le+=String.fromCharCode(ae);return le}(ie,ee,te)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch{throw new Error("ARRAYBUFFER not supported by this environment")}return function(ie){return function(oe,se,ce){let ue;const ae=se/8,le=new ArrayBuffer(ae),he=new Uint8Array(le),fe=ce===-1?3:0;for(ue=0;ue<ae;ue+=1)he[ue]=oe[ue>>>2]>>>8*(fe+ce*(ue%4))&255;return le}(ie,ee,te)};case"UINT8ARRAY":try{new Uint8Array(0)}catch{throw new Error("UINT8ARRAY not supported by this environment")}return function(ie){return function(oe,se,ce){let ue;const ae=se/8,le=ce===-1?3:0,he=new Uint8Array(ae);for(ue=0;ue<ae;ue+=1)he[ue]=oe[ue>>>2]>>>8*(le+ce*(ue%4))&255;return he}(ie,ee,te)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],o=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported";function u(re,ee){let te,ne;const ie=re.binLen>>>3,oe=ee.binLen>>>3,se=ie<<3,ce=4-ie<<3;if(ie%4!=0){for(te=0;te<oe;te+=4)ne=ie+te>>>2,re.value[ne]|=ee.value[te>>>2]<<se,re.value.push(0),re.value[ne+1]|=ee.value[te>>>2]>>>ce;return(re.value.length<<2)-4>=oe+ie&&re.value.pop(),{value:re.value,binLen:re.binLen+ee.binLen}}return{value:re.value.concat(ee.value),binLen:re.binLen+ee.binLen}}function w(re){const ee={outputUpper:!1,b64Pad:"=",outputLen:-1},te=re||{},ne="Output length must be a multiple of 8";if(ee.outputUpper=te.outputUpper||!1,te.b64Pad&&(ee.b64Pad=te.b64Pad),te.outputLen){if(te.outputLen%8!=0)throw new Error(ne);ee.outputLen=te.outputLen}else if(te.shakeLen){if(te.shakeLen%8!=0)throw new Error(ne);ee.outputLen=te.shakeLen}if(typeof ee.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof ee.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return ee}function c(re,ee,te,ne){const ie=re+" must include a value and format";if(!ee){if(!ne)throw new Error(ie);return ne}if(ee.value===void 0||!ee.format)throw new Error(ie);return e(ee.format,ee.encoding||"UTF8",te)(ee.value)}class f{constructor(ee,te,ne){const ie=ne||{};if(this.t=te,this.i=ie.encoding||"UTF8",this.numRounds=ie.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.s=ee,this.o=[],this.h=0,this.u=!1,this.l=0,this.A=!1,this.H=[],this.S=[]}update(ee){let te,ne=0;const ie=this.p>>>5,oe=this.m(ee,this.o,this.h),se=oe.binLen,ce=oe.value,ue=se>>>5;for(te=0;te<ue;te+=ie)ne+this.p<=se&&(this.C=this.R(ce.slice(te,te+ie),this.C),ne+=this.p);this.l+=ne,this.o=ce.slice(ne>>>5),this.h=se%this.p,this.u=!0}getHash(ee,te){let ne,ie,oe=this.U;const se=w(te);if(this.v){if(se.outputLen===-1)throw new Error("Output length must be specified in options");oe=se.outputLen}const ce=r(ee,oe,this.K,se);if(this.A&&this.T)return ce(this.T(se));for(ie=this.F(this.o.slice(),this.h,this.l,this.g(this.C),oe),ne=1;ne<this.numRounds;ne+=1)this.v&&oe%32!=0&&(ie[ie.length-1]&=16777215>>>24-oe%32),ie=this.F(ie,oe,0,this.B(this.s),oe);return ce(ie)}setHMACKey(ee,te,ne){if(!this.L)throw new Error("Variant does not support HMAC");if(this.u)throw new Error("Cannot set MAC key after calling update");const ie=e(te,(ne||{}).encoding||"UTF8",this.K);this.M(ie(ee))}M(ee){const te=this.p>>>3,ne=te/4-1;let ie;if(this.numRounds!==1)throw new Error("Cannot set numRounds with MAC");if(this.A)throw new Error("MAC key already set");for(te<ee.binLen/8&&(ee.value=this.F(ee.value,ee.binLen,0,this.B(this.s),this.U));ee.value.length<=ne;)ee.value.push(0);for(ie=0;ie<=ne;ie+=1)this.H[ie]=909522486^ee.value[ie],this.S[ie]=1549556828^ee.value[ie];this.C=this.R(this.H,this.C),this.l=this.p,this.A=!0}getHMAC(ee,te){const ne=w(te);return r(ee,this.U,this.K,ne)(this.k())}k(){let ee;if(!this.A)throw new Error("Cannot call getHMAC without first setting MAC key");const te=this.F(this.o.slice(),this.h,this.l,this.g(this.C),this.U);return ee=this.R(this.S,this.B(this.s)),ee=this.F(te,this.U,this.p,ee,this.U),ee}}function a(re,ee){return re<<ee|re>>>32-ee}function l(re,ee){return re>>>ee|re<<32-ee}function A(re,ee){return re>>>ee}function E(re,ee,te){return re^ee^te}function H(re,ee,te){return re&ee^~re&te}function S(re,ee,te){return re&ee^re&te^ee&te}function b(re){return l(re,2)^l(re,13)^l(re,22)}function p(re,ee){const te=(65535&re)+(65535&ee);return(65535&(re>>>16)+(ee>>>16)+(te>>>16))<<16|65535&te}function d(re,ee,te,ne){const ie=(65535&re)+(65535&ee)+(65535&te)+(65535&ne);return(65535&(re>>>16)+(ee>>>16)+(te>>>16)+(ne>>>16)+(ie>>>16))<<16|65535&ie}function m(re,ee,te,ne,ie){const oe=(65535&re)+(65535&ee)+(65535&te)+(65535&ne)+(65535&ie);return(65535&(re>>>16)+(ee>>>16)+(te>>>16)+(ne>>>16)+(ie>>>16)+(oe>>>16))<<16|65535&oe}function C(re){return l(re,7)^l(re,18)^A(re,3)}function y(re){return l(re,6)^l(re,11)^l(re,25)}function R(re){return[1732584193,4023233417,2562383102,271733878,3285377520]}function U(re,ee){let te,ne,ie,oe,se,ce,ue;const ae=[];for(te=ee[0],ne=ee[1],ie=ee[2],oe=ee[3],se=ee[4],ue=0;ue<80;ue+=1)ae[ue]=ue<16?re[ue]:a(ae[ue-3]^ae[ue-8]^ae[ue-14]^ae[ue-16],1),ce=ue<20?m(a(te,5),H(ne,ie,oe),se,1518500249,ae[ue]):ue<40?m(a(te,5),E(ne,ie,oe),se,1859775393,ae[ue]):ue<60?m(a(te,5),S(ne,ie,oe),se,2400959708,ae[ue]):m(a(te,5),E(ne,ie,oe),se,3395469782,ae[ue]),se=oe,oe=ie,ie=a(ne,30),ne=te,te=ce;return ee[0]=p(te,ee[0]),ee[1]=p(ne,ee[1]),ee[2]=p(ie,ee[2]),ee[3]=p(oe,ee[3]),ee[4]=p(se,ee[4]),ee}function v(re,ee,te,ne){let ie;const oe=15+(ee+65>>>9<<4),se=ee+te;for(;re.length<=oe;)re.push(0);for(re[ee>>>5]|=128<<24-ee%32,re[oe]=4294967295&se,re[oe-1]=se/4294967296|0,ie=0;ie<re.length;ie+=16)ne=U(re.slice(ie,ie+16),ne);return ne}class K extends f{constructor(ee,te,ne){if(ee!=="SHA-1")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.L=!0,this.T=this.k,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=U,this.g=function(oe){return oe.slice()},this.B=R,this.F=v,this.C=[1732584193,4023233417,2562383102,271733878,3285377520],this.p=512,this.U=160,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}function T(re){let ee;return ee=re=="SHA-224"?s.slice():o.slice(),ee}function F(re,ee){let te,ne,ie,oe,se,ce,ue,ae,le,he,fe;const pe=[];for(te=ee[0],ne=ee[1],ie=ee[2],oe=ee[3],se=ee[4],ce=ee[5],ue=ee[6],ae=ee[7],fe=0;fe<64;fe+=1)pe[fe]=fe<16?re[fe]:d(l(de=pe[fe-2],17)^l(de,19)^A(de,10),pe[fe-7],C(pe[fe-15]),pe[fe-16]),le=m(ae,y(se),H(se,ce,ue),i[fe],pe[fe]),he=p(b(te),S(te,ne,ie)),ae=ue,ue=ce,ce=se,se=p(oe,le),oe=ie,ie=ne,ne=te,te=p(le,he);var de;return ee[0]=p(te,ee[0]),ee[1]=p(ne,ee[1]),ee[2]=p(ie,ee[2]),ee[3]=p(oe,ee[3]),ee[4]=p(se,ee[4]),ee[5]=p(ce,ee[5]),ee[6]=p(ue,ee[6]),ee[7]=p(ae,ee[7]),ee}class g extends f{constructor(ee,te,ne){if(ee!=="SHA-224"&&ee!=="SHA-256")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=F,this.g=function(oe){return oe.slice()},this.B=T,this.F=function(oe,se,ce,ue){return function(ae,le,he,fe,pe){let de,me;const we=15+(le+65>>>9<<4),ge=le+he;for(;ae.length<=we;)ae.push(0);for(ae[le>>>5]|=128<<24-le%32,ae[we]=4294967295&ge,ae[we-1]=ge/4294967296|0,de=0;de<ae.length;de+=16)fe=F(ae.slice(de,de+16),fe);return me=pe==="SHA-224"?[fe[0],fe[1],fe[2],fe[3],fe[4],fe[5],fe[6]]:fe,me}(oe,se,ce,ue,ee)},this.C=T(ee),this.p=512,this.U=ee==="SHA-224"?224:256,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}class B{constructor(ee,te){this.Y=ee,this.N=te}}function L(re,ee){let te;return ee>32?(te=64-ee,new B(re.N<<ee|re.Y>>>te,re.Y<<ee|re.N>>>te)):ee!==0?(te=32-ee,new B(re.Y<<ee|re.N>>>te,re.N<<ee|re.Y>>>te)):re}function M(re,ee){let te;return ee<32?(te=32-ee,new B(re.Y>>>ee|re.N<<te,re.N>>>ee|re.Y<<te)):(te=64-ee,new B(re.N>>>ee|re.Y<<te,re.Y>>>ee|re.N<<te))}function k(re,ee){return new B(re.Y>>>ee,re.N>>>ee|re.Y<<32-ee)}function Y(re,ee,te){return new B(re.Y&ee.Y^re.Y&te.Y^ee.Y&te.Y,re.N&ee.N^re.N&te.N^ee.N&te.N)}function N(re){const ee=M(re,28),te=M(re,34),ne=M(re,39);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function I(re,ee){let te,ne;te=(65535&re.N)+(65535&ee.N),ne=(re.N>>>16)+(ee.N>>>16)+(te>>>16);const ie=(65535&ne)<<16|65535&te;return te=(65535&re.Y)+(65535&ee.Y)+(ne>>>16),ne=(re.Y>>>16)+(ee.Y>>>16)+(te>>>16),new B((65535&ne)<<16|65535&te,ie)}function X(re,ee,te,ne){let ie,oe;ie=(65535&re.N)+(65535&ee.N)+(65535&te.N)+(65535&ne.N),oe=(re.N>>>16)+(ee.N>>>16)+(te.N>>>16)+(ne.N>>>16)+(ie>>>16);const se=(65535&oe)<<16|65535&ie;return ie=(65535&re.Y)+(65535&ee.Y)+(65535&te.Y)+(65535&ne.Y)+(oe>>>16),oe=(re.Y>>>16)+(ee.Y>>>16)+(te.Y>>>16)+(ne.Y>>>16)+(ie>>>16),new B((65535&oe)<<16|65535&ie,se)}function z(re,ee,te,ne,ie){let oe,se;oe=(65535&re.N)+(65535&ee.N)+(65535&te.N)+(65535&ne.N)+(65535&ie.N),se=(re.N>>>16)+(ee.N>>>16)+(te.N>>>16)+(ne.N>>>16)+(ie.N>>>16)+(oe>>>16);const ce=(65535&se)<<16|65535&oe;return oe=(65535&re.Y)+(65535&ee.Y)+(65535&te.Y)+(65535&ne.Y)+(65535&ie.Y)+(se>>>16),se=(re.Y>>>16)+(ee.Y>>>16)+(te.Y>>>16)+(ne.Y>>>16)+(ie.Y>>>16)+(oe>>>16),new B((65535&se)<<16|65535&oe,ce)}function x(re,ee){return new B(re.Y^ee.Y,re.N^ee.N)}function _(re){const ee=M(re,19),te=M(re,61),ne=k(re,6);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function O(re){const ee=M(re,1),te=M(re,8),ne=k(re,7);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}function P(re){const ee=M(re,14),te=M(re,18),ne=M(re,41);return new B(ee.Y^te.Y^ne.Y,ee.N^te.N^ne.N)}const V=[new B(i[0],3609767458),new B(i[1],602891725),new B(i[2],3964484399),new B(i[3],2173295548),new B(i[4],4081628472),new B(i[5],3053834265),new B(i[6],2937671579),new B(i[7],3664609560),new B(i[8],2734883394),new B(i[9],1164996542),new B(i[10],1323610764),new B(i[11],3590304994),new B(i[12],4068182383),new B(i[13],991336113),new B(i[14],633803317),new B(i[15],3479774868),new B(i[16],2666613458),new B(i[17],944711139),new B(i[18],2341262773),new B(i[19],2007800933),new B(i[20],1495990901),new B(i[21],1856431235),new B(i[22],3175218132),new B(i[23],2198950837),new B(i[24],3999719339),new B(i[25],766784016),new B(i[26],2566594879),new B(i[27],3203337956),new B(i[28],1034457026),new B(i[29],2466948901),new B(i[30],3758326383),new B(i[31],168717936),new B(i[32],1188179964),new B(i[33],1546045734),new B(i[34],1522805485),new B(i[35],2643833823),new B(i[36],2343527390),new B(i[37],1014477480),new B(i[38],1206759142),new B(i[39],344077627),new B(i[40],1290863460),new B(i[41],3158454273),new B(i[42],3505952657),new B(i[43],106217008),new B(i[44],3606008344),new B(i[45],1432725776),new B(i[46],1467031594),new B(i[47],851169720),new B(i[48],3100823752),new B(i[49],1363258195),new B(i[50],3750685593),new B(i[51],3785050280),new B(i[52],3318307427),new B(i[53],3812723403),new B(i[54],2003034995),new B(i[55],3602036899),new B(i[56],1575990012),new B(i[57],1125592928),new B(i[58],2716904306),new B(i[59],442776044),new B(i[60],593698344),new B(i[61],3733110249),new B(i[62],2999351573),new B(i[63],3815920427),new B(3391569614,3928383900),new B(3515267271,566280711),new B(3940187606,3454069534),new B(4118630271,4000239992),new B(116418474,1914138554),new B(174292421,2731055270),new B(289380356,3203993006),new B(460393269,320620315),new B(685471733,587496836),new B(852142971,1086792851),new B(1017036298,365543100),new B(1126000580,2618297676),new B(1288033470,3409855158),new B(1501505948,4234509866),new B(1607167915,987167468),new B(1816402316,1246189591)];function Z(re){return re==="SHA-384"?[new B(3418070365,s[0]),new B(1654270250,s[1]),new B(2438529370,s[2]),new B(355462360,s[3]),new B(1731405415,s[4]),new B(41048885895,s[5]),new B(3675008525,s[6]),new B(1203062813,s[7])]:[new B(o[0],4089235720),new B(o[1],2227873595),new B(o[2],4271175723),new B(o[3],1595750129),new B(o[4],2917565137),new B(o[5],725511199),new B(o[6],4215389547),new B(o[7],327033209)]}function j(re,ee){let te,ne,ie,oe,se,ce,ue,ae,le,he,fe,pe;const de=[];for(te=ee[0],ne=ee[1],ie=ee[2],oe=ee[3],se=ee[4],ce=ee[5],ue=ee[6],ae=ee[7],fe=0;fe<80;fe+=1)fe<16?(pe=2*fe,de[fe]=new B(re[pe],re[pe+1])):de[fe]=X(_(de[fe-2]),de[fe-7],O(de[fe-15]),de[fe-16]),le=z(ae,P(se),(we=ce,ge=ue,new B((me=se).Y&we.Y^~me.Y&ge.Y,me.N&we.N^~me.N&ge.N)),V[fe],de[fe]),he=I(N(te),Y(te,ne,ie)),ae=ue,ue=ce,ce=se,se=I(oe,le),oe=ie,ie=ne,ne=te,te=I(le,he);var me,we,ge;return ee[0]=I(te,ee[0]),ee[1]=I(ne,ee[1]),ee[2]=I(ie,ee[2]),ee[3]=I(oe,ee[3]),ee[4]=I(se,ee[4]),ee[5]=I(ce,ee[5]),ee[6]=I(ue,ee[6]),ee[7]=I(ae,ee[7]),ee}class q extends f{constructor(ee,te,ne){if(ee!=="SHA-384"&&ee!=="SHA-512")throw new Error(h);super(ee,te,ne);const ie=ne||{};this.T=this.k,this.L=!0,this.K=-1,this.m=e(this.t,this.i,this.K),this.R=j,this.g=function(oe){return oe.slice()},this.B=Z,this.F=function(oe,se,ce,ue){return function(ae,le,he,fe,pe){let de,me;const we=31+(le+129>>>10<<5),ge=le+he;for(;ae.length<=we;)ae.push(0);for(ae[le>>>5]|=128<<24-le%32,ae[we]=4294967295&ge,ae[we-1]=ge/4294967296|0,de=0;de<ae.length;de+=32)fe=j(ae.slice(de,de+32),fe);return me=pe==="SHA-384"?[(fe=fe)[0].Y,fe[0].N,fe[1].Y,fe[1].N,fe[2].Y,fe[2].N,fe[3].Y,fe[3].N,fe[4].Y,fe[4].N,fe[5].Y,fe[5].N]:[fe[0].Y,fe[0].N,fe[1].Y,fe[1].N,fe[2].Y,fe[2].N,fe[3].Y,fe[3].N,fe[4].Y,fe[4].N,fe[5].Y,fe[5].N,fe[6].Y,fe[6].N,fe[7].Y,fe[7].N],me}(oe,se,ce,ue,ee)},this.C=Z(ee),this.p=1024,this.U=ee==="SHA-384"?384:512,this.v=!1,ie.hmacKey&&this.M(c("hmacKey",ie.hmacKey,this.K))}}const D=[new B(0,1),new B(0,32898),new B(2147483648,32906),new B(2147483648,2147516416),new B(0,32907),new B(0,2147483649),new B(2147483648,2147516545),new B(2147483648,32777),new B(0,138),new B(0,136),new B(0,2147516425),new B(0,2147483658),new B(0,2147516555),new B(2147483648,139),new B(2147483648,32905),new B(2147483648,32771),new B(2147483648,32770),new B(2147483648,128),new B(0,32778),new B(2147483648,2147483658),new B(2147483648,2147516545),new B(2147483648,32896),new B(0,2147483649),new B(2147483648,2147516424)],G=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function J(re){let ee;const te=[];for(ee=0;ee<5;ee+=1)te[ee]=[new B(0,0),new B(0,0),new B(0,0),new B(0,0),new B(0,0)];return te}function Q(re){let ee;const te=[];for(ee=0;ee<5;ee+=1)te[ee]=re[ee].slice();return te}function W(re,ee){let te,ne,ie,oe;const se=[],ce=[];if(re!==null)for(ne=0;ne<re.length;ne+=2)ee[(ne>>>1)%5][(ne>>>1)/5|0]=x(ee[(ne>>>1)%5][(ne>>>1)/5|0],new B(re[ne+1],re[ne]));for(te=0;te<24;te+=1){for(oe=J(),ne=0;ne<5;ne+=1)se[ne]=(ue=ee[ne][0],ae=ee[ne][1],le=ee[ne][2],he=ee[ne][3],fe=ee[ne][4],new B(ue.Y^ae.Y^le.Y^he.Y^fe.Y,ue.N^ae.N^le.N^he.N^fe.N));for(ne=0;ne<5;ne+=1)ce[ne]=x(se[(ne+4)%5],L(se[(ne+1)%5],1));for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)ee[ne][ie]=x(ee[ne][ie],ce[ne]);for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)oe[ie][(2*ne+3*ie)%5]=L(ee[ne][ie],G[ne][ie]);for(ne=0;ne<5;ne+=1)for(ie=0;ie<5;ie+=1)ee[ne][ie]=x(oe[ne][ie],new B(~oe[(ne+1)%5][ie].Y&oe[(ne+2)%5][ie].Y,~oe[(ne+1)%5][ie].N&oe[(ne+2)%5][ie].N));ee[0][0]=x(ee[0][0],D[te])}var ue,ae,le,he,fe;return ee}function $(re){let ee,te,ne=0;const ie=[0,0],oe=[4294967295&re,re/4294967296&2097151];for(ee=6;ee>=0;ee--)te=oe[ee>>2]>>>8*ee&255,te===0&&ne===0||(ie[ne+1>>2]|=te<<8*(ne+1),ne+=1);return ne=ne!==0?ne:1,ie[0]|=ne,{value:ne+1>4?ie:[ie[0]],binLen:8+8*ne}}function tt(re){return u($(re.binLen),re)}function nt(re,ee){let te,ne=$(ee);ne=u(ne,re);const ie=ee>>>2,oe=(ie-ne.value.length%ie)%ie;for(te=0;te<oe;te++)ne.value.push(0);return ne.value}class et extends f{constructor(ee,te,ne){let ie=6,oe=0;super(ee,te,ne);const se=ne||{};if(this.numRounds!==1){if(se.kmacKey||se.hmacKey)throw new Error("Cannot set numRounds with MAC");if(this.s==="CSHAKE128"||this.s==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.K=1,this.m=e(this.t,this.i,this.K),this.R=W,this.g=Q,this.B=J,this.C=J(),this.v=!1,ee){case"SHA3-224":this.p=oe=1152,this.U=224,this.L=!0,this.T=this.k;break;case"SHA3-256":this.p=oe=1088,this.U=256,this.L=!0,this.T=this.k;break;case"SHA3-384":this.p=oe=832,this.U=384,this.L=!0,this.T=this.k;break;case"SHA3-512":this.p=oe=576,this.U=512,this.L=!0,this.T=this.k;break;case"SHAKE128":ie=31,this.p=oe=1344,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"SHAKE256":ie=31,this.p=oe=1088,this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"KMAC128":ie=4,this.p=oe=1344,this.I(ne),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"KMAC256":ie=4,this.p=oe=1088,this.I(ne),this.U=-1,this.v=!0,this.L=!1,this.T=this.X;break;case"CSHAKE128":this.p=oe=1344,ie=this._(ne),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;case"CSHAKE256":this.p=oe=1088,ie=this._(ne),this.U=-1,this.v=!0,this.L=!1,this.T=null;break;default:throw new Error(h)}this.F=function(ce,ue,ae,le,he){return function(fe,pe,de,me,we,ge,be){let _e,Be,ye=0;const Ae=[],Se=we>>>5,ve=pe>>>5;for(_e=0;_e<ve&&pe>=we;_e+=Se)me=W(fe.slice(_e,_e+Se),me),pe-=we;for(fe=fe.slice(_e),pe%=we;fe.length<Se;)fe.push(0);for(_e=pe>>>3,fe[_e>>2]^=ge<<_e%4*8,fe[Se-1]^=2147483648,me=W(fe,me);32*Ae.length<be&&(Be=me[ye%5][ye/5|0],Ae.push(Be.N),!(32*Ae.length>=be));)Ae.push(Be.Y),ye+=1,64*ye%we==0&&(W(null,me),ye=0);return Ae}(ce,ue,0,le,oe,ie,he)},se.hmacKey&&this.M(c("hmacKey",se.hmacKey,this.K))}_(ee,te){const ne=function(oe){const se=oe||{};return{funcName:c("funcName",se.funcName,1,{value:[],binLen:0}),customization:c("Customization",se.customization,1,{value:[],binLen:0})}}(ee||{});te&&(ne.funcName=te);const ie=u(tt(ne.funcName),tt(ne.customization));if(ne.customization.binLen!==0||ne.funcName.binLen!==0){const oe=nt(ie,this.p>>>3);for(let se=0;se<oe.length;se+=this.p>>>5)this.C=this.R(oe.slice(se,se+(this.p>>>5)),this.C),this.l+=this.p;return 4}return 31}I(ee){const te=function(ie){const oe=ie||{};return{kmacKey:c("kmacKey",oe.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:c("Customization",oe.customization,1,{value:[],binLen:0})}}(ee||{});this._(ee,te.funcName);const ne=nt(tt(te.kmacKey),this.p>>>3);for(let ie=0;ie<ne.length;ie+=this.p>>>5)this.C=this.R(ne.slice(ie,ie+(this.p>>>5)),this.C),this.l+=this.p;this.A=!0}X(ee){const te=u({value:this.o.slice(),binLen:this.h},function(ne){let ie,oe,se=0;const ce=[0,0],ue=[4294967295&ne,ne/4294967296&2097151];for(ie=6;ie>=0;ie--)oe=ue[ie>>2]>>>8*ie&255,oe===0&&se===0||(ce[se>>2]|=oe<<8*se,se+=1);return se=se!==0?se:1,ce[se>>2]|=se<<8*se,{value:se+1>4?ce:[ce[0]],binLen:8+8*se}}(ee.outputLen));return this.F(te.value,te.binLen,this.l,this.g(this.C),ee.outputLen)}}class jsSHA{constructor(ee,te,ne){if(ee=="SHA-1")this.O=new K(ee,te,ne);else if(ee=="SHA-224"||ee=="SHA-256")this.O=new g(ee,te,ne);else if(ee=="SHA-384"||ee=="SHA-512")this.O=new q(ee,te,ne);else{if(ee!="SHA3-224"&&ee!="SHA3-256"&&ee!="SHA3-384"&&ee!="SHA3-512"&&ee!="SHAKE128"&&ee!="SHAKE256"&&ee!="CSHAKE128"&&ee!="CSHAKE256"&&ee!="KMAC128"&&ee!="KMAC256")throw new Error(h);this.O=new et(ee,te,ne)}}update(ee){this.O.update(ee)}getHash(ee,te){return this.O.getHash(ee,te)}setHMACKey(ee,te,ne){this.O.setHMACKey(ee,te,ne)}getHMAC(ee,te){return this.O.getHMAC(ee,te)}}const globalScope=(()=>{if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"__GLOBALTHIS__",{get(){return this},configurable:!0});try{if(typeof __GLOBALTHIS__<"u")return __GLOBALTHIS__}finally{delete Object.prototype.__GLOBALTHIS__}if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global})(),isNode=Object.prototype.toString.call(globalScope.process)==="[object process]",nodeRequire=isNode?eval("require"):()=>{},NodeCrypto$2=isNode?nodeRequire("crypto"):void 0,OPENSSL_TO_JSSHA_ALGO={SHA1:"SHA-1",SHA224:"SHA-224",SHA256:"SHA-256",SHA384:"SHA-384",SHA512:"SHA-512","SHA3-224":"SHA3-224","SHA3-256":"SHA3-256","SHA3-384":"SHA3-384","SHA3-512":"SHA3-512"},hmacDigest=(re,ee,te)=>{if(isNode){const ne=NodeCrypto$2.createHmac(re,globalScope.Buffer.from(ee));return ne.update(globalScope.Buffer.from(te)),ne.digest().buffer}else{const ne=OPENSSL_TO_JSSHA_ALGO[re.toUpperCase()];if(typeof ne>"u")throw new TypeError("Unknown hash function");const ie=new jsSHA(ne,"ARRAYBUFFER");return ie.setHMACKey(ee,"ARRAYBUFFER"),ie.update(te),ie.getHMAC("ARRAYBUFFER")}},pad=(re,ee)=>{let te="",ne=ee-String(re).length;for(;ne-- >0;)te+="0";return`${te}${re}`},ALPHABET="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",base32ToBuf=re=>{let ee=re.length;for(;re[ee-1]==="=";)--ee;const te=(ee<re.length?re.substring(0,ee):re).toUpperCase(),ne=new ArrayBuffer(te.length*5/8|0),ie=new Uint8Array(ne);let oe=0,se=0,ce=0;for(let ue=0;ue<te.length;ue++){const ae=ALPHABET.indexOf(te[ue]);if(ae===-1)throw new TypeError(`Invalid character found: ${te[ue]}`);se=se<<5|ae,oe+=5,oe>=8&&(oe-=8,ie[ce++]=se>>>oe)}return ne},base32FromBuf=re=>{const ee=new Uint8Array(re);let te=0,ne=0,ie="";for(let oe=0;oe<ee.length;oe++)for(ne=ne<<8|ee[oe],te+=8;te>=5;)ie+=ALPHABET[ne>>>te-5&31],te-=5;return te>0&&(ie+=ALPHABET[ne<<5-te&31]),ie},hexToBuf=re=>{const ee=new ArrayBuffer(re.length/2),te=new Uint8Array(ee);for(let ne=0;ne<re.length;ne+=2)te[ne/2]=parseInt(re.substr(ne,2),16);return ee},hexFromBuf=re=>{const ee=new Uint8Array(re);let te="";for(let ne=0;ne<ee.length;ne++){const ie=ee[ne].toString(16);ie.length===1&&(te+="0"),te+=ie}return te.toUpperCase()},latin1ToBuf=re=>{const ee=new ArrayBuffer(re.length),te=new Uint8Array(ee);for(let ne=0;ne<re.length;ne++)te[ne]=re.charCodeAt(ne)&255;return ee},latin1FromBuf=re=>{const ee=new Uint8Array(re);let te="";for(let ne=0;ne<ee.length;ne++)te+=String.fromCharCode(ee[ne]);return te},ENCODER=globalScope.TextEncoder?new globalScope.TextEncoder("utf-8"):null,DECODER=globalScope.TextDecoder?new globalScope.TextDecoder("utf-8"):null,utf8ToBuf=re=>{if(!ENCODER)throw new Error("Encoding API not available");return ENCODER.encode(re).buffer},utf8FromBuf=re=>{if(!DECODER)throw new Error("Encoding API not available");return DECODER.decode(re)},NodeCrypto$1=isNode?nodeRequire("crypto"):void 0,randomBytes=re=>{if(isNode)return NodeCrypto$1.randomBytes(re).buffer;if(!globalScope.crypto||!globalScope.crypto.getRandomValues)throw new Error("Cryptography API not available");return globalScope.crypto.getRandomValues(new Uint8Array(re)).buffer};class Secret{constructor(){let{buffer:ee,size:te=20}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.buffer=typeof ee>"u"?randomBytes(te):ee}static fromLatin1(ee){return new Secret({buffer:latin1ToBuf(ee)})}static fromUTF8(ee){return new Secret({buffer:utf8ToBuf(ee)})}static fromBase32(ee){return new Secret({buffer:base32ToBuf(ee)})}static fromHex(ee){return new Secret({buffer:hexToBuf(ee)})}get latin1(){return Object.defineProperty(this,"latin1",{enumerable:!0,value:latin1FromBuf(this.buffer)}),this.latin1}get utf8(){return Object.defineProperty(this,"utf8",{enumerable:!0,value:utf8FromBuf(this.buffer)}),this.utf8}get base32(){return Object.defineProperty(this,"base32",{enumerable:!0,value:base32FromBuf(this.buffer)}),this.base32}get hex(){return Object.defineProperty(this,"hex",{enumerable:!0,value:hexFromBuf(this.buffer)}),this.hex}}const NodeCrypto=isNode?nodeRequire("crypto"):void 0,timingSafeEqual=(re,ee)=>{if(isNode)return NodeCrypto.timingSafeEqual(globalScope.Buffer.from(re),globalScope.Buffer.from(ee));{if(re.length!==ee.length)throw new TypeError("Input strings must have the same length");let te=-1,ne=0;for(;++te<re.length;)ne|=re.charCodeAt(te)^ee.charCodeAt(te);return ne===0}};class HOTP{static get defaults(){return{issuer:"",label:"OTPAuth",algorithm:"SHA1",digits:6,counter:0,window:1}}constructor(){let{issuer:ee=HOTP.defaults.issuer,label:te=HOTP.defaults.label,secret:ne=new Secret,algorithm:ie=HOTP.defaults.algorithm,digits:oe=HOTP.defaults.digits,counter:se=HOTP.defaults.counter}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.issuer=ee,this.label=te,this.secret=typeof ne=="string"?Secret.fromBase32(ne):ne,this.algorithm=ie.toUpperCase(),this.digits=oe,this.counter=se}static generate(ee){let{secret:te,algorithm:ne=HOTP.defaults.algorithm,digits:ie=HOTP.defaults.digits,counter:oe=HOTP.defaults.counter}=ee;const se=new Uint8Array(hmacDigest(ne,te.buffer,uintToBuf(oe))),ce=se[se.byteLength-1]&15,ue=((se[ce]&127)<<24|(se[ce+1]&255)<<16|(se[ce+2]&255)<<8|se[ce+3]&255)%10**ie;return pad(ue,ie)}generate(){let{counter:ee=this.counter++}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return HOTP.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:ee})}static validate(ee){let{token:te,secret:ne,algorithm:ie,digits:oe,counter:se=HOTP.defaults.counter,window:ce=HOTP.defaults.window}=ee;if(te.length!==oe)return null;let ue=null;for(let ae=se-ce;ae<=se+ce;++ae){const le=HOTP.generate({secret:ne,algorithm:ie,digits:oe,counter:ae});timingSafeEqual(te,le)&&(ue=ae-se)}return ue}validate(ee){let{token:te,counter:ne=this.counter,window:ie}=ee;return HOTP.validate({token:te,secret:this.secret,algorithm:this.algorithm,digits:this.digits,counter:ne,window:ie})}toString(){const ee=encodeURIComponent;return`otpauth://hotp/${this.issuer.length>0?`${ee(this.issuer)}:${ee(this.label)}?issuer=${ee(this.issuer)}&`:`${ee(this.label)}?`}secret=${ee(this.secret.base32)}&algorithm=${ee(this.algorithm)}&digits=${ee(this.digits)}&counter=${ee(this.counter)}`}}class TOTP{static get defaults(){return{issuer:"",label:"OTPAuth",algorithm:"SHA1",digits:6,period:30,window:1}}constructor(){let{issuer:ee=TOTP.defaults.issuer,label:te=TOTP.defaults.label,secret:ne=new Secret,algorithm:ie=TOTP.defaults.algorithm,digits:oe=TOTP.defaults.digits,period:se=TOTP.defaults.period}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.issuer=ee,this.label=te,this.secret=typeof ne=="string"?Secret.fromBase32(ne):ne,this.algorithm=ie.toUpperCase(),this.digits=oe,this.period=se}static generate(ee){let{secret:te,algorithm:ne,digits:ie,period:oe=TOTP.defaults.period,timestamp:se=Date.now()}=ee;return HOTP.generate({secret:te,algorithm:ne,digits:ie,counter:Math.floor(se/1e3/oe)})}generate(){let{timestamp:ee=Date.now()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return TOTP.generate({secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:ee})}static validate(ee){let{token:te,secret:ne,algorithm:ie,digits:oe,period:se=TOTP.defaults.period,timestamp:ce=Date.now(),window:ue}=ee;return HOTP.validate({token:te,secret:ne,algorithm:ie,digits:oe,counter:Math.floor(ce/1e3/se),window:ue})}validate(ee){let{token:te,timestamp:ne,window:ie}=ee;return TOTP.validate({token:te,secret:this.secret,algorithm:this.algorithm,digits:this.digits,period:this.period,timestamp:ne,window:ie})}toString(){const ee=encodeURIComponent;return`otpauth://totp/${this.issuer.length>0?`${ee(this.issuer)}:${ee(this.label)}?issuer=${ee(this.issuer)}&`:`${ee(this.label)}?`}secret=${ee(this.secret.base32)}&algorithm=${ee(this.algorithm)}&digits=${ee(this.digits)}&period=${ee(this.period)}`}}function getTimeUntilTOTPChange(){return 30-new Date().getSeconds()%30}function newTOTP(re){return new TOTP({digits:6,period:30,secret:re})}function randomSecret(){return Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2)}const syncIcon="/assets/sync-outline.06853ffe.svg",settingsIcon="/assets/settings-outline.2e47e9ab.svg",subscriber_queue=[];function readable(re,ee){return{subscribe:writable(re,ee).subscribe}}function writable(re,ee=noop){let te;const ne=new Set;function ie(ce){if(safe_not_equal(re,ce)&&(re=ce,te)){const ue=!subscriber_queue.length;for(const ae of ne)ae[1](),subscriber_queue.push(ae,re);if(ue){for(let ae=0;ae<subscriber_queue.length;ae+=2)subscriber_queue[ae][0](subscriber_queue[ae+1]);subscriber_queue.length=0}}}function oe(ce){ie(ce(re))}function se(ce,ue=noop){const ae=[ce,ue];return ne.add(ae),ne.size===1&&(te=ee(ie)||noop),ce(re),()=>{ne.delete(ae),ne.size===0&&(te(),te=null)}}return{set:ie,update:oe,subscribe:se}}var global$1=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,inited=!1;function init(){inited=!0;for(var re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ee=0,te=re.length;ee<te;++ee)lookup[ee]=re[ee],revLookup[re.charCodeAt(ee)]=ee;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(re){inited||init();var ee,te,ne,ie,oe,se,ce=re.length;if(ce%4>0)throw new Error("Invalid string. Length must be a multiple of 4");oe=re[ce-2]==="="?2:re[ce-1]==="="?1:0,se=new Arr(ce*3/4-oe),ne=oe>0?ce-4:ce;var ue=0;for(ee=0,te=0;ee<ne;ee+=4,te+=3)ie=revLookup[re.charCodeAt(ee)]<<18|revLookup[re.charCodeAt(ee+1)]<<12|revLookup[re.charCodeAt(ee+2)]<<6|revLookup[re.charCodeAt(ee+3)],se[ue++]=ie>>16&255,se[ue++]=ie>>8&255,se[ue++]=ie&255;return oe===2?(ie=revLookup[re.charCodeAt(ee)]<<2|revLookup[re.charCodeAt(ee+1)]>>4,se[ue++]=ie&255):oe===1&&(ie=revLookup[re.charCodeAt(ee)]<<10|revLookup[re.charCodeAt(ee+1)]<<4|revLookup[re.charCodeAt(ee+2)]>>2,se[ue++]=ie>>8&255,se[ue++]=ie&255),se}function tripletToBase64(re){return lookup[re>>18&63]+lookup[re>>12&63]+lookup[re>>6&63]+lookup[re&63]}function encodeChunk(re,ee,te){for(var ne,ie=[],oe=ee;oe<te;oe+=3)ne=(re[oe]<<16)+(re[oe+1]<<8)+re[oe+2],ie.push(tripletToBase64(ne));return ie.join("")}function fromByteArray(re){inited||init();for(var ee,te=re.length,ne=te%3,ie="",oe=[],se=16383,ce=0,ue=te-ne;ce<ue;ce+=se)oe.push(encodeChunk(re,ce,ce+se>ue?ue:ce+se));return ne===1?(ee=re[te-1],ie+=lookup[ee>>2],ie+=lookup[ee<<4&63],ie+="=="):ne===2&&(ee=(re[te-2]<<8)+re[te-1],ie+=lookup[ee>>10],ie+=lookup[ee>>4&63],ie+=lookup[ee<<2&63],ie+="="),oe.push(ie),oe.join("")}function read(re,ee,te,ne,ie){var oe,se,ce=ie*8-ne-1,ue=(1<<ce)-1,ae=ue>>1,le=-7,he=te?ie-1:0,fe=te?-1:1,pe=re[ee+he];for(he+=fe,oe=pe&(1<<-le)-1,pe>>=-le,le+=ce;le>0;oe=oe*256+re[ee+he],he+=fe,le-=8);for(se=oe&(1<<-le)-1,oe>>=-le,le+=ne;le>0;se=se*256+re[ee+he],he+=fe,le-=8);if(oe===0)oe=1-ae;else{if(oe===ue)return se?NaN:(pe?-1:1)*(1/0);se=se+Math.pow(2,ne),oe=oe-ae}return(pe?-1:1)*se*Math.pow(2,oe-ne)}function write(re,ee,te,ne,ie,oe){var se,ce,ue,ae=oe*8-ie-1,le=(1<<ae)-1,he=le>>1,fe=ie===23?Math.pow(2,-24)-Math.pow(2,-77):0,pe=ne?0:oe-1,de=ne?1:-1,me=ee<0||ee===0&&1/ee<0?1:0;for(ee=Math.abs(ee),isNaN(ee)||ee===1/0?(ce=isNaN(ee)?1:0,se=le):(se=Math.floor(Math.log(ee)/Math.LN2),ee*(ue=Math.pow(2,-se))<1&&(se--,ue*=2),se+he>=1?ee+=fe/ue:ee+=fe*Math.pow(2,1-he),ee*ue>=2&&(se++,ue/=2),se+he>=le?(ce=0,se=le):se+he>=1?(ce=(ee*ue-1)*Math.pow(2,ie),se=se+he):(ce=ee*Math.pow(2,he-1)*Math.pow(2,ie),se=0));ie>=8;re[te+pe]=ce&255,pe+=de,ce/=256,ie-=8);for(se=se<<ie|ce,ae+=ie;ae>0;re[te+pe]=se&255,pe+=de,se/=256,ae-=8);re[te+pe-de]|=me*128}var toString={}.toString,isArray=Array.isArray||function(re){return toString.call(re)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global$1.TYPED_ARRAY_SUPPORT!==void 0?global$1.TYPED_ARRAY_SUPPORT:!0;function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(re,ee){if(kMaxLength()<ee)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(re=new Uint8Array(ee),re.__proto__=Buffer.prototype):(re===null&&(re=new Buffer(ee)),re.length=ee),re}function Buffer(re,ee,te){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(re,ee,te);if(typeof re=="number"){if(typeof ee=="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,re)}return from(this,re,ee,te)}Buffer.poolSize=8192;Buffer._augment=function(re){return re.__proto__=Buffer.prototype,re};function from(re,ee,te,ne){if(typeof ee=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&ee instanceof ArrayBuffer?fromArrayBuffer(re,ee,te,ne):typeof ee=="string"?fromString(re,ee,te):fromObject(re,ee)}Buffer.from=function(re,ee,te){return from(null,re,ee,te)};Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array);function assertSize(re){if(typeof re!="number")throw new TypeError('"size" argument must be a number');if(re<0)throw new RangeError('"size" argument must not be negative')}function alloc(re,ee,te,ne){return assertSize(ee),ee<=0?createBuffer(re,ee):te!==void 0?typeof ne=="string"?createBuffer(re,ee).fill(te,ne):createBuffer(re,ee).fill(te):createBuffer(re,ee)}Buffer.alloc=function(re,ee,te){return alloc(null,re,ee,te)};function allocUnsafe(re,ee){if(assertSize(ee),re=createBuffer(re,ee<0?0:checked(ee)|0),!Buffer.TYPED_ARRAY_SUPPORT)for(var te=0;te<ee;++te)re[te]=0;return re}Buffer.allocUnsafe=function(re){return allocUnsafe(null,re)};Buffer.allocUnsafeSlow=function(re){return allocUnsafe(null,re)};function fromString(re,ee,te){if((typeof te!="string"||te==="")&&(te="utf8"),!Buffer.isEncoding(te))throw new TypeError('"encoding" must be a valid string encoding');var ne=byteLength(ee,te)|0;re=createBuffer(re,ne);var ie=re.write(ee,te);return ie!==ne&&(re=re.slice(0,ie)),re}function fromArrayLike(re,ee){var te=ee.length<0?0:checked(ee.length)|0;re=createBuffer(re,te);for(var ne=0;ne<te;ne+=1)re[ne]=ee[ne]&255;return re}function fromArrayBuffer(re,ee,te,ne){if(ee.byteLength,te<0||ee.byteLength<te)throw new RangeError("'offset' is out of bounds");if(ee.byteLength<te+(ne||0))throw new RangeError("'length' is out of bounds");return te===void 0&&ne===void 0?ee=new Uint8Array(ee):ne===void 0?ee=new Uint8Array(ee,te):ee=new Uint8Array(ee,te,ne),Buffer.TYPED_ARRAY_SUPPORT?(re=ee,re.__proto__=Buffer.prototype):re=fromArrayLike(re,ee),re}function fromObject(re,ee){if(internalIsBuffer(ee)){var te=checked(ee.length)|0;return re=createBuffer(re,te),re.length===0||ee.copy(re,0,0,te),re}if(ee){if(typeof ArrayBuffer<"u"&&ee.buffer instanceof ArrayBuffer||"length"in ee)return typeof ee.length!="number"||isnan(ee.length)?createBuffer(re,0):fromArrayLike(re,ee);if(ee.type==="Buffer"&&isArray(ee.data))return fromArrayLike(re,ee.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(re){if(re>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return re|0}Buffer.isBuffer=isBuffer;function internalIsBuffer(re){return!!(re!=null&&re._isBuffer)}Buffer.compare=function re(ee,te){if(!internalIsBuffer(ee)||!internalIsBuffer(te))throw new TypeError("Arguments must be Buffers");if(ee===te)return 0;for(var ne=ee.length,ie=te.length,oe=0,se=Math.min(ne,ie);oe<se;++oe)if(ee[oe]!==te[oe]){ne=ee[oe],ie=te[oe];break}return ne<ie?-1:ie<ne?1:0};Buffer.isEncoding=function re(ee){switch(String(ee).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Buffer.concat=function re(ee,te){if(!isArray(ee))throw new TypeError('"list" argument must be an Array of Buffers');if(ee.length===0)return Buffer.alloc(0);var ne;if(te===void 0)for(te=0,ne=0;ne<ee.length;++ne)te+=ee[ne].length;var ie=Buffer.allocUnsafe(te),oe=0;for(ne=0;ne<ee.length;++ne){var se=ee[ne];if(!internalIsBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(ie,oe),oe+=se.length}return ie};function byteLength(re,ee){if(internalIsBuffer(re))return re.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(re)||re instanceof ArrayBuffer))return re.byteLength;typeof re!="string"&&(re=""+re);var te=re.length;if(te===0)return 0;for(var ne=!1;;)switch(ee){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":case void 0:return utf8ToBytes(re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return base64ToBytes(re).length;default:if(ne)return utf8ToBytes(re).length;ee=(""+ee).toLowerCase(),ne=!0}}Buffer.byteLength=byteLength;function slowToString(re,ee,te){var ne=!1;if((ee===void 0||ee<0)&&(ee=0),ee>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,ee>>>=0,te<=ee))return"";for(re||(re="utf8");;)switch(re){case"hex":return hexSlice(this,ee,te);case"utf8":case"utf-8":return utf8Slice(this,ee,te);case"ascii":return asciiSlice(this,ee,te);case"latin1":case"binary":return latin1Slice(this,ee,te);case"base64":return base64Slice(this,ee,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,ee,te);default:if(ne)throw new TypeError("Unknown encoding: "+re);re=(re+"").toLowerCase(),ne=!0}}Buffer.prototype._isBuffer=!0;function swap(re,ee,te){var ne=re[ee];re[ee]=re[te],re[te]=ne}Buffer.prototype.swap16=function re(){var ee=this.length;if(ee%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<ee;te+=2)swap(this,te,te+1);return this};Buffer.prototype.swap32=function re(){var ee=this.length;if(ee%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<ee;te+=4)swap(this,te,te+3),swap(this,te+1,te+2);return this};Buffer.prototype.swap64=function re(){var ee=this.length;if(ee%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<ee;te+=8)swap(this,te,te+7),swap(this,te+1,te+6),swap(this,te+2,te+5),swap(this,te+3,te+4);return this};Buffer.prototype.toString=function re(){var ee=this.length|0;return ee===0?"":arguments.length===0?utf8Slice(this,0,ee):slowToString.apply(this,arguments)};Buffer.prototype.equals=function re(ee){if(!internalIsBuffer(ee))throw new TypeError("Argument must be a Buffer");return this===ee?!0:Buffer.compare(this,ee)===0};Buffer.prototype.inspect=function re(){var ee="",te=INSPECT_MAX_BYTES;return this.length>0&&(ee=this.toString("hex",0,te).match(/.{2}/g).join(" "),this.length>te&&(ee+=" ... ")),"<Buffer "+ee+">"};Buffer.prototype.compare=function re(ee,te,ne,ie,oe){if(!internalIsBuffer(ee))throw new TypeError("Argument must be a Buffer");if(te===void 0&&(te=0),ne===void 0&&(ne=ee?ee.length:0),ie===void 0&&(ie=0),oe===void 0&&(oe=this.length),te<0||ne>ee.length||ie<0||oe>this.length)throw new RangeError("out of range index");if(ie>=oe&&te>=ne)return 0;if(ie>=oe)return-1;if(te>=ne)return 1;if(te>>>=0,ne>>>=0,ie>>>=0,oe>>>=0,this===ee)return 0;for(var se=oe-ie,ce=ne-te,ue=Math.min(se,ce),ae=this.slice(ie,oe),le=ee.slice(te,ne),he=0;he<ue;++he)if(ae[he]!==le[he]){se=ae[he],ce=le[he];break}return se<ce?-1:ce<se?1:0};function bidirectionalIndexOf(re,ee,te,ne,ie){if(re.length===0)return-1;if(typeof te=="string"?(ne=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,isNaN(te)&&(te=ie?0:re.length-1),te<0&&(te=re.length+te),te>=re.length){if(ie)return-1;te=re.length-1}else if(te<0)if(ie)te=0;else return-1;if(typeof ee=="string"&&(ee=Buffer.from(ee,ne)),internalIsBuffer(ee))return ee.length===0?-1:arrayIndexOf(re,ee,te,ne,ie);if(typeof ee=="number")return ee=ee&255,Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(re,ee,te):Uint8Array.prototype.lastIndexOf.call(re,ee,te):arrayIndexOf(re,[ee],te,ne,ie);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(re,ee,te,ne,ie){var oe=1,se=re.length,ce=ee.length;if(ne!==void 0&&(ne=String(ne).toLowerCase(),ne==="ucs2"||ne==="ucs-2"||ne==="utf16le"||ne==="utf-16le")){if(re.length<2||ee.length<2)return-1;oe=2,se/=2,ce/=2,te/=2}function ue(pe,de){return oe===1?pe[de]:pe.readUInt16BE(de*oe)}var ae;if(ie){var le=-1;for(ae=te;ae<se;ae++)if(ue(re,ae)===ue(ee,le===-1?0:ae-le)){if(le===-1&&(le=ae),ae-le+1===ce)return le*oe}else le!==-1&&(ae-=ae-le),le=-1}else for(te+ce>se&&(te=se-ce),ae=te;ae>=0;ae--){for(var he=!0,fe=0;fe<ce;fe++)if(ue(re,ae+fe)!==ue(ee,fe)){he=!1;break}if(he)return ae}return-1}Buffer.prototype.includes=function re(ee,te,ne){return this.indexOf(ee,te,ne)!==-1};Buffer.prototype.indexOf=function re(ee,te,ne){return bidirectionalIndexOf(this,ee,te,ne,!0)};Buffer.prototype.lastIndexOf=function re(ee,te,ne){return bidirectionalIndexOf(this,ee,te,ne,!1)};function hexWrite(re,ee,te,ne){te=Number(te)||0;var ie=re.length-te;ne?(ne=Number(ne),ne>ie&&(ne=ie)):ne=ie;var oe=ee.length;if(oe%2!==0)throw new TypeError("Invalid hex string");ne>oe/2&&(ne=oe/2);for(var se=0;se<ne;++se){var ce=parseInt(ee.substr(se*2,2),16);if(isNaN(ce))return se;re[te+se]=ce}return se}function utf8Write(re,ee,te,ne){return blitBuffer(utf8ToBytes(ee,re.length-te),re,te,ne)}function asciiWrite(re,ee,te,ne){return blitBuffer(asciiToBytes(ee),re,te,ne)}function latin1Write(re,ee,te,ne){return asciiWrite(re,ee,te,ne)}function base64Write(re,ee,te,ne){return blitBuffer(base64ToBytes(ee),re,te,ne)}function ucs2Write(re,ee,te,ne){return blitBuffer(utf16leToBytes(ee,re.length-te),re,te,ne)}Buffer.prototype.write=function re(ee,te,ne,ie){if(te===void 0)ie="utf8",ne=this.length,te=0;else if(ne===void 0&&typeof te=="string")ie=te,ne=this.length,te=0;else if(isFinite(te))te=te|0,isFinite(ne)?(ne=ne|0,ie===void 0&&(ie="utf8")):(ie=ne,ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-te;if((ne===void 0||ne>oe)&&(ne=oe),ee.length>0&&(ne<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");for(var se=!1;;)switch(ie){case"hex":return hexWrite(this,ee,te,ne);case"utf8":case"utf-8":return utf8Write(this,ee,te,ne);case"ascii":return asciiWrite(this,ee,te,ne);case"latin1":case"binary":return latin1Write(this,ee,te,ne);case"base64":return base64Write(this,ee,te,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,ee,te,ne);default:if(se)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),se=!0}};Buffer.prototype.toJSON=function re(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(re,ee,te){return ee===0&&te===re.length?fromByteArray(re):fromByteArray(re.slice(ee,te))}function utf8Slice(re,ee,te){te=Math.min(re.length,te);for(var ne=[],ie=ee;ie<te;){var oe=re[ie],se=null,ce=oe>239?4:oe>223?3:oe>191?2:1;if(ie+ce<=te){var ue,ae,le,he;switch(ce){case 1:oe<128&&(se=oe);break;case 2:ue=re[ie+1],(ue&192)===128&&(he=(oe&31)<<6|ue&63,he>127&&(se=he));break;case 3:ue=re[ie+1],ae=re[ie+2],(ue&192)===128&&(ae&192)===128&&(he=(oe&15)<<12|(ue&63)<<6|ae&63,he>2047&&(he<55296||he>57343)&&(se=he));break;case 4:ue=re[ie+1],ae=re[ie+2],le=re[ie+3],(ue&192)===128&&(ae&192)===128&&(le&192)===128&&(he=(oe&15)<<18|(ue&63)<<12|(ae&63)<<6|le&63,he>65535&&he<1114112&&(se=he))}}se===null?(se=65533,ce=1):se>65535&&(se-=65536,ne.push(se>>>10&1023|55296),se=56320|se&1023),ne.push(se),ie+=ce}return decodeCodePointsArray(ne)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(re){var ee=re.length;if(ee<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,re);for(var te="",ne=0;ne<ee;)te+=String.fromCharCode.apply(String,re.slice(ne,ne+=MAX_ARGUMENTS_LENGTH));return te}function asciiSlice(re,ee,te){var ne="";te=Math.min(re.length,te);for(var ie=ee;ie<te;++ie)ne+=String.fromCharCode(re[ie]&127);return ne}function latin1Slice(re,ee,te){var ne="";te=Math.min(re.length,te);for(var ie=ee;ie<te;++ie)ne+=String.fromCharCode(re[ie]);return ne}function hexSlice(re,ee,te){var ne=re.length;(!ee||ee<0)&&(ee=0),(!te||te<0||te>ne)&&(te=ne);for(var ie="",oe=ee;oe<te;++oe)ie+=toHex(re[oe]);return ie}function utf16leSlice(re,ee,te){for(var ne=re.slice(ee,te),ie="",oe=0;oe<ne.length;oe+=2)ie+=String.fromCharCode(ne[oe]+ne[oe+1]*256);return ie}Buffer.prototype.slice=function re(ee,te){var ne=this.length;ee=~~ee,te=te===void 0?ne:~~te,ee<0?(ee+=ne,ee<0&&(ee=0)):ee>ne&&(ee=ne),te<0?(te+=ne,te<0&&(te=0)):te>ne&&(te=ne),te<ee&&(te=ee);var ie;if(Buffer.TYPED_ARRAY_SUPPORT)ie=this.subarray(ee,te),ie.__proto__=Buffer.prototype;else{var oe=te-ee;ie=new Buffer(oe,void 0);for(var se=0;se<oe;++se)ie[se]=this[se+ee]}return ie};function checkOffset(re,ee,te){if(re%1!==0||re<0)throw new RangeError("offset is not uint");if(re+ee>te)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee],oe=1,se=0;++se<te&&(oe*=256);)ie+=this[ee+se]*oe;return ie};Buffer.prototype.readUIntBE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee+--te],oe=1;te>0&&(oe*=256);)ie+=this[ee+--te]*oe;return ie};Buffer.prototype.readUInt8=function re(ee,te){return te||checkOffset(ee,1,this.length),this[ee]};Buffer.prototype.readUInt16LE=function re(ee,te){return te||checkOffset(ee,2,this.length),this[ee]|this[ee+1]<<8};Buffer.prototype.readUInt16BE=function re(ee,te){return te||checkOffset(ee,2,this.length),this[ee]<<8|this[ee+1]};Buffer.prototype.readUInt32LE=function re(ee,te){return te||checkOffset(ee,4,this.length),(this[ee]|this[ee+1]<<8|this[ee+2]<<16)+this[ee+3]*16777216};Buffer.prototype.readUInt32BE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]*16777216+(this[ee+1]<<16|this[ee+2]<<8|this[ee+3])};Buffer.prototype.readIntLE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=this[ee],oe=1,se=0;++se<te&&(oe*=256);)ie+=this[ee+se]*oe;return oe*=128,ie>=oe&&(ie-=Math.pow(2,8*te)),ie};Buffer.prototype.readIntBE=function re(ee,te,ne){ee=ee|0,te=te|0,ne||checkOffset(ee,te,this.length);for(var ie=te,oe=1,se=this[ee+--ie];ie>0&&(oe*=256);)se+=this[ee+--ie]*oe;return oe*=128,se>=oe&&(se-=Math.pow(2,8*te)),se};Buffer.prototype.readInt8=function re(ee,te){return te||checkOffset(ee,1,this.length),this[ee]&128?(255-this[ee]+1)*-1:this[ee]};Buffer.prototype.readInt16LE=function re(ee,te){te||checkOffset(ee,2,this.length);var ne=this[ee]|this[ee+1]<<8;return ne&32768?ne|4294901760:ne};Buffer.prototype.readInt16BE=function re(ee,te){te||checkOffset(ee,2,this.length);var ne=this[ee+1]|this[ee]<<8;return ne&32768?ne|4294901760:ne};Buffer.prototype.readInt32LE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]|this[ee+1]<<8|this[ee+2]<<16|this[ee+3]<<24};Buffer.prototype.readInt32BE=function re(ee,te){return te||checkOffset(ee,4,this.length),this[ee]<<24|this[ee+1]<<16|this[ee+2]<<8|this[ee+3]};Buffer.prototype.readFloatLE=function re(ee,te){return te||checkOffset(ee,4,this.length),read(this,ee,!0,23,4)};Buffer.prototype.readFloatBE=function re(ee,te){return te||checkOffset(ee,4,this.length),read(this,ee,!1,23,4)};Buffer.prototype.readDoubleLE=function re(ee,te){return te||checkOffset(ee,8,this.length),read(this,ee,!0,52,8)};Buffer.prototype.readDoubleBE=function re(ee,te){return te||checkOffset(ee,8,this.length),read(this,ee,!1,52,8)};function checkInt(re,ee,te,ne,ie,oe){if(!internalIsBuffer(re))throw new TypeError('"buffer" argument must be a Buffer instance');if(ee>ie||ee<oe)throw new RangeError('"value" argument is out of bounds');if(te+ne>re.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,ne=ne|0,!ie){var oe=Math.pow(2,8*ne)-1;checkInt(this,ee,te,ne,oe,0)}var se=1,ce=0;for(this[te]=ee&255;++ce<ne&&(se*=256);)this[te+ce]=ee/se&255;return te+ne};Buffer.prototype.writeUIntBE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,ne=ne|0,!ie){var oe=Math.pow(2,8*ne)-1;checkInt(this,ee,te,ne,oe,0)}var se=ne-1,ce=1;for(this[te+se]=ee&255;--se>=0&&(ce*=256);)this[te+se]=ee/ce&255;return te+ne};Buffer.prototype.writeUInt8=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),this[te]=ee&255,te+1};function objectWriteUInt16(re,ee,te,ne){ee<0&&(ee=65535+ee+1);for(var ie=0,oe=Math.min(re.length-te,2);ie<oe;++ie)re[te+ie]=(ee&255<<8*(ne?ie:1-ie))>>>(ne?ie:1-ie)*8}Buffer.prototype.writeUInt16LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8):objectWriteUInt16(this,ee,te,!0),te+2};Buffer.prototype.writeUInt16BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>8,this[te+1]=ee&255):objectWriteUInt16(this,ee,te,!1),te+2};function objectWriteUInt32(re,ee,te,ne){ee<0&&(ee=4294967295+ee+1);for(var ie=0,oe=Math.min(re.length-te,4);ie<oe;++ie)re[te+ie]=ee>>>(ne?ie:3-ie)*8&255}Buffer.prototype.writeUInt32LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te+3]=ee>>>24,this[te+2]=ee>>>16,this[te+1]=ee>>>8,this[te]=ee&255):objectWriteUInt32(this,ee,te,!0),te+4};Buffer.prototype.writeUInt32BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255):objectWriteUInt32(this,ee,te,!1),te+4};Buffer.prototype.writeIntLE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,!ie){var oe=Math.pow(2,8*ne-1);checkInt(this,ee,te,ne,oe-1,-oe)}var se=0,ce=1,ue=0;for(this[te]=ee&255;++se<ne&&(ce*=256);)ee<0&&ue===0&&this[te+se-1]!==0&&(ue=1),this[te+se]=(ee/ce>>0)-ue&255;return te+ne};Buffer.prototype.writeIntBE=function re(ee,te,ne,ie){if(ee=+ee,te=te|0,!ie){var oe=Math.pow(2,8*ne-1);checkInt(this,ee,te,ne,oe-1,-oe)}var se=ne-1,ce=1,ue=0;for(this[te+se]=ee&255;--se>=0&&(ce*=256);)ee<0&&ue===0&&this[te+se+1]!==0&&(ue=1),this[te+se]=(ee/ce>>0)-ue&255;return te+ne};Buffer.prototype.writeInt8=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(ee=Math.floor(ee)),ee<0&&(ee=255+ee+1),this[te]=ee&255,te+1};Buffer.prototype.writeInt16LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8):objectWriteUInt16(this,ee,te,!0),te+2};Buffer.prototype.writeInt16BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>8,this[te+1]=ee&255):objectWriteUInt16(this,ee,te,!1),te+2};Buffer.prototype.writeInt32LE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee&255,this[te+1]=ee>>>8,this[te+2]=ee>>>16,this[te+3]=ee>>>24):objectWriteUInt32(this,ee,te,!0),te+4};Buffer.prototype.writeInt32BE=function re(ee,te,ne){return ee=+ee,te=te|0,ne||checkInt(this,ee,te,4,2147483647,-2147483648),ee<0&&(ee=4294967295+ee+1),Buffer.TYPED_ARRAY_SUPPORT?(this[te]=ee>>>24,this[te+1]=ee>>>16,this[te+2]=ee>>>8,this[te+3]=ee&255):objectWriteUInt32(this,ee,te,!1),te+4};function checkIEEE754(re,ee,te,ne,ie,oe){if(te+ne>re.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function writeFloat(re,ee,te,ne,ie){return ie||checkIEEE754(re,ee,te,4),write(re,ee,te,ne,23,4),te+4}Buffer.prototype.writeFloatLE=function re(ee,te,ne){return writeFloat(this,ee,te,!0,ne)};Buffer.prototype.writeFloatBE=function re(ee,te,ne){return writeFloat(this,ee,te,!1,ne)};function writeDouble(re,ee,te,ne,ie){return ie||checkIEEE754(re,ee,te,8),write(re,ee,te,ne,52,8),te+8}Buffer.prototype.writeDoubleLE=function re(ee,te,ne){return writeDouble(this,ee,te,!0,ne)};Buffer.prototype.writeDoubleBE=function re(ee,te,ne){return writeDouble(this,ee,te,!1,ne)};Buffer.prototype.copy=function re(ee,te,ne,ie){if(ne||(ne=0),!ie&&ie!==0&&(ie=this.length),te>=ee.length&&(te=ee.length),te||(te=0),ie>0&&ie<ne&&(ie=ne),ie===ne||ee.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ne<0||ne>=this.length)throw new RangeError("sourceStart out of bounds");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),ee.length-te<ie-ne&&(ie=ee.length-te+ne);var oe=ie-ne,se;if(this===ee&&ne<te&&te<ie)for(se=oe-1;se>=0;--se)ee[se+te]=this[se+ne];else if(oe<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(se=0;se<oe;++se)ee[se+te]=this[se+ne];else Uint8Array.prototype.set.call(ee,this.subarray(ne,ne+oe),te);return oe};Buffer.prototype.fill=function re(ee,te,ne,ie){if(typeof ee=="string"){if(typeof te=="string"?(ie=te,te=0,ne=this.length):typeof ne=="string"&&(ie=ne,ne=this.length),ee.length===1){var oe=ee.charCodeAt(0);oe<256&&(ee=oe)}if(ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!Buffer.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie)}else typeof ee=="number"&&(ee=ee&255);if(te<0||this.length<te||this.length<ne)throw new RangeError("Out of range index");if(ne<=te)return this;te=te>>>0,ne=ne===void 0?this.length:ne>>>0,ee||(ee=0);var se;if(typeof ee=="number")for(se=te;se<ne;++se)this[se]=ee;else{var ce=internalIsBuffer(ee)?ee:utf8ToBytes(new Buffer(ee,ie).toString()),ue=ce.length;for(se=0;se<ne-te;++se)this[se+te]=ce[se%ue]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(re){if(re=stringtrim(re).replace(INVALID_BASE64_RE,""),re.length<2)return"";for(;re.length%4!==0;)re=re+"=";return re}function stringtrim(re){return re.trim?re.trim():re.replace(/^\s+|\s+$/g,"")}function toHex(re){return re<16?"0"+re.toString(16):re.toString(16)}function utf8ToBytes(re,ee){ee=ee||1/0;for(var te,ne=re.length,ie=null,oe=[],se=0;se<ne;++se){if(te=re.charCodeAt(se),te>55295&&te<57344){if(!ie){if(te>56319){(ee-=3)>-1&&oe.push(239,191,189);continue}else if(se+1===ne){(ee-=3)>-1&&oe.push(239,191,189);continue}ie=te;continue}if(te<56320){(ee-=3)>-1&&oe.push(239,191,189),ie=te;continue}te=(ie-55296<<10|te-56320)+65536}else ie&&(ee-=3)>-1&&oe.push(239,191,189);if(ie=null,te<128){if((ee-=1)<0)break;oe.push(te)}else if(te<2048){if((ee-=2)<0)break;oe.push(te>>6|192,te&63|128)}else if(te<65536){if((ee-=3)<0)break;oe.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((ee-=4)<0)break;oe.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return oe}function asciiToBytes(re){for(var ee=[],te=0;te<re.length;++te)ee.push(re.charCodeAt(te)&255);return ee}function utf16leToBytes(re,ee){for(var te,ne,ie,oe=[],se=0;se<re.length&&!((ee-=2)<0);++se)te=re.charCodeAt(se),ne=te>>8,ie=te%256,oe.push(ie),oe.push(ne);return oe}function base64ToBytes(re){return toByteArray(base64clean(re))}function blitBuffer(re,ee,te,ne){for(var ie=0;ie<ne&&!(ie+te>=ee.length||ie>=re.length);++ie)ee[ie+te]=re[ie];return ie}function isnan(re){return re!==re}function isBuffer(re){return re!=null&&(!!re._isBuffer||isFastBuffer(re)||isSlowBuffer(re))}function isFastBuffer(re){return!!re.constructor&&typeof re.constructor.isBuffer=="function"&&re.constructor.isBuffer(re)}function isSlowBuffer(re){return typeof re.readFloatLE=="function"&&typeof re.slice=="function"&&isFastBuffer(re.slice(0,0))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function encrypt(re,ee){const te=generateSalt();return keyFromPassword(re,te).then(function(ne){return encryptWithKey(ne,ee)}).then(function(ne){return ne.salt=te,JSON.stringify(ne)})}function encryptWithKey(re,ee){const te=JSON.stringify(ee),ne=Buffer.from(te,"utf-8"),ie=commonjsGlobal.crypto.getRandomValues(new Uint8Array(16));return commonjsGlobal.crypto.subtle.encrypt({name:"AES-GCM",iv:ie},re,ne).then(function(oe){const se=new Uint8Array(oe),ce=Buffer.from(ie).toString("base64");return{data:Buffer.from(se).toString("base64"),iv:ce}})}function decrypt(re,ee){const te=JSON.parse(ee),{salt:ne}=te;return keyFromPassword(re,ne).then(function(ie){return decryptWithKey(ie,te)})}function decryptWithKey(re,ee){const te=Buffer.from(ee.data,"base64"),ne=Buffer.from(ee.iv,"base64");return crypto.subtle.decrypt({name:"AES-GCM",iv:ne},re,te).then(function(ie){const oe=new Uint8Array(ie),se=Buffer.from(oe).toString("utf-8");return JSON.parse(se)}).catch(function(ie){throw new Error("Incorrect password")})}function keyFromPassword(re,ee){const te=Buffer.from(re,"utf-8"),ne=Buffer.from(ee,"base64");return commonjsGlobal.crypto.subtle.importKey("raw",te,{name:"PBKDF2"},!1,["deriveBits","deriveKey"]).then(function(ie){return commonjsGlobal.crypto.subtle.deriveKey({name:"PBKDF2",salt:ne,iterations:1e4,hash:"SHA-256"},ie,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])})}function serializeBufferFromStorage(re){const ee=re.slice(0,2)==="0x"?re.slice(2):re,te=new Uint8Array(ee.length/2);for(let ne=0;ne<ee.length;ne+=2){const ie=ee.substr(ne,2);te[ne/2]=parseInt(ie,16)}return te}function serializeBufferForStorage(re){let ee="0x";const te=re.length||re.byteLength;for(let ne=0;ne<te;ne++)ee+=unprefixedHex(re[ne]);return ee}function unprefixedHex(re){let ee=re.toString(16);for(;ee.length<2;)ee=`0${ee}`;return ee}function generateSalt(re=32){const ee=new Uint8Array(re);return commonjsGlobal.crypto.getRandomValues(ee),btoa(String.fromCharCode.apply(null,ee))}var dist={encrypt,decrypt,keyFromPassword,encryptWithKey,decryptWithKey,serializeBufferForStorage,serializeBufferFromStorage,generateSalt};async function encryptData(re,ee){return await dist.encrypt(re,ee)}async function decryptData(re,ee){return await dist.decrypt(re,ee)}class TemplateStorage{}var RemoteStatus;(function(re){re.Success="success",re.Timeout="timeout",re.Exists="exists",re.InvalidRoute="invalidroute",re.InvalidData="invaliddata",re.NoData="nodata",re.TooLarge="toolarge"})(RemoteStatus||(RemoteStatus={}));var StorageStatus;(function(re){re[re.Success=0]="Success",re[re.Error=1]="Error",re[re.NoData=2]="NoData",re[re.NotFound=3]="NotFound",re[re.InvalidData=4]="InvalidData"})(StorageStatus||(StorageStatus={}));var SyncStatus;(function(re){re[re.Success=0]="Success",re[re.Error=1]="Error"})(SyncStatus||(SyncStatus={}));class DefaultStorage extends TemplateStorage{async getData(ee){const te=localStorage.getItem("data");return te===null?[StorageStatus.NoData,null]:[StorageStatus.Success,await decryptData(ee,te)]}async setData(ee,te){const ne=await encryptData(ee,te);return localStorage.setItem("data",ne),StorageStatus.Success}async addAccount(ee,te,ne){const[ie,oe]=await this.getData(ee);return ie!==StorageStatus.Success?ie:(oe.push({name:te,key:ne}),await this.setData(ee,oe))}async removeAccount(ee,te){const[ne,ie]=await this.getData(ee);if(ne!==StorageStatus.Success)return ne;const oe=ie.filter(se=>se.name!==te);return await this.setData(ee,oe)}verifyLocalData(){return localStorage.getItem("data")!==null}clearLocalData(){return localStorage.removeItem("data"),StorageStatus.Success}initLocalData(ee){return this.setData(ee,[]),StorageStatus.Success}}class TemplateRemote{}class DefaultRemote extends TemplateRemote{constructor(){super(...arguments);Ee(this,"baseRemoteURL","https://totp.blobbybilb.workers.dev/");Ee(this,"remoteURLs",{get:this.baseRemoteURL+"get/",set:this.baseRemoteURL+"set/",exists:this.baseRemoteURL+"exists/"})}async checkIfExists(){try{await fetch(this.remoteURLs.exists)}catch{return!1}return await(await fetch(this.remoteURLs.exists)).text()===RemoteStatus.Exists}async getData(te,ne){const ie=await(await fetch(this.remoteURLs.get+te)).text();if(!ie.startsWith(RemoteStatus.Success))return[ie,null];const oe=await decryptData(ne,ie.substring(RemoteStatus.Success.length,ie.length));return[RemoteStatus.Success,oe]}async setData(te,ne,ie){const oe=await encryptData(ne,ie);return await(await fetch(this.remoteURLs.set+te,{method:"POST",body:oe})).text()}}class TemplateSync{}class DefaultSync extends TemplateSync{constructor(te,ne){super();Ee(this,"remote");Ee(this,"storage");this.remote=te,this.storage=ne}async syncData(te,ne,ie){let[,oe]=await this.remote.getData(ne,ie);const[,se]=await this.storage.getData(te);oe===null&&(await this.remote.setData(ne,ie,se),oe=se);const ce=[...se,...oe].filter(le=>le.key!=="deleteddeleteddeleted"),ue=[],ae=ce.filter(le=>ue.includes(le.name)?!1:(ue.push(le.name),!0));return await this.storage.setData(te,ae),await this.remote.setData(ne,ie,ae),[SyncStatus.Success,[RemoteStatus.Success,StorageStatus.Success]]}}const storage=readable(new DefaultStorage),sync=readable(new DefaultSync(new DefaultRemote,new DefaultStorage)),currentName=writable(""),IconButton_svelte_svelte_type_style_lang="";function create_fragment$6(re){let ee,te,ne,ie,oe;return{c(){ee=element("button"),te=element("img"),src_url_equal(te.src,ne=re[0])||attr(te,"src",ne),attr(te,"alt",re[1]),set_style(te,"height",re[3]+"px"),attr(te,"class","svelte-1qa37wb"),attr(ee,"class","svelte-1qa37wb")},m(se,ce){insert(se,ee,ce),append(ee,te),ie||(oe=listen(ee,"click",function(){is_function(re[2])&&re[2].apply(this,arguments)}),ie=!0)},p(se,[ce]){re=se,ce&1&&!src_url_equal(te.src,ne=re[0])&&attr(te,"src",ne),ce&2&&attr(te,"alt",re[1]),ce&8&&set_style(te,"height",re[3]+"px")},i:noop,o:noop,d(se){se&&detach(ee),ie=!1,oe()}}}function instance$6(re,ee,te){let{src:ne}=ee,{alt:ie}=ee,{action:oe}=ee,{size:se=23}=ee;return re.$$set=ce=>{"src"in ce&&te(0,ne=ce.src),"alt"in ce&&te(1,ie=ce.alt),"action"in ce&&te(2,oe=ce.action),"size"in ce&&te(3,se=ce.size)},[ne,ie,oe,se]}class IconButton extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$6,create_fragment$6,safe_not_equal,{src:0,alt:1,action:2,size:3})}}const Titlebar_svelte_svelte_type_style_lang="";function create_fragment$5(re){let ee,te,ne,ie,oe,se,ce,ue;return ne=new IconButton({props:{action:re[1],src:syncIcon,alt:"sync"}}),ce=new IconButton({props:{action:re[0],src:settingsIcon,alt:"settings"}}),{c(){ee=element("main"),te=element("div"),create_component(ne.$$.fragment),ie=space(),oe=element("p"),oe.textContent="TOTP[App]",se=space(),create_component(ce.$$.fragment),attr(oe,"class","svelte-19hef0g"),attr(te,"id","grid"),attr(te,"class","svelte-19hef0g"),attr(ee,"class","svelte-19hef0g")},m(ae,le){insert(ae,ee,le),append(ee,te),mount_component(ne,te,null),append(te,ie),append(te,oe),append(te,se),mount_component(ce,te,null),ue=!0},p:noop,i(ae){ue||(transition_in(ne.$$.fragment,ae),transition_in(ce.$$.fragment,ae),ue=!0)},o(ae){transition_out(ne.$$.fragment,ae),transition_out(ce.$$.fragment,ae),ue=!1},d(ae){ae&&detach(ee),destroy_component(ne),destroy_component(ce)}}}function instance$5(re,ee,te){let ne;component_subscribe(re,sync,ue=>te(4,ne=ue));let{PIN:ie}=ee,oe=null;function se(){var ae;const ue=prompt("Enter an existing sync token or use the randomly generated one.",(ae=localStorage.getItem("remoteToken"))!=null?ae:randomSecret());ue&&localStorage.setItem("remoteToken",ue)}function ce(){oe=prompt("Enter your sync encryption password.",oe!=null?oe:""),ne.syncData(ie,localStorage.getItem("remoteToken"),oe)}return re.$$set=ue=>{"PIN"in ue&&te(2,ie=ue.PIN)},[se,ce,ie]}class Titlebar extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$5,create_fragment$5,safe_not_equal,{PIN:2})}}const copyIcon="/assets/copy-outline.dcb3880e.svg",Totpdisplay_svelte_svelte_type_style_lang="";function create_fragment$4(re){let ee,te,ne,ie,oe,se,ce,ue,ae,le,he,fe;return ue=new IconButton({props:{action:re[3],src:copyIcon,alt:"copy",size:25}}),{c(){ee=element("div"),te=element("p"),ne=text(re[2]),ie=space(),oe=element("p"),se=text(re[0]),ce=space(),create_component(ue.$$.fragment),ae=space(),le=element("p"),he=text(re[1]),attr(te,"id","account"),attr(te,"class","svelte-yamkn2"),attr(oe,"id","otp"),attr(oe,"class","svelte-yamkn2"),attr(le,"id","timer"),attr(le,"class","svelte-yamkn2"),attr(ee,"class","svelte-yamkn2")},m(pe,de){insert(pe,ee,de),append(ee,te),append(te,ne),append(ee,ie),append(ee,oe),append(oe,se),append(ee,ce),mount_component(ue,ee,null),append(ee,ae),append(ee,le),append(le,he),fe=!0},p(pe,[de]){(!fe||de&4)&&set_data(ne,pe[2]),(!fe||de&1)&&set_data(se,pe[0]),(!fe||de&2)&&set_data(he,pe[1])},i(pe){fe||(transition_in(ue.$$.fragment,pe),fe=!0)},o(pe){transition_out(ue.$$.fragment,pe),fe=!1},d(pe){pe&&detach(ee),destroy_component(ue)}}}function instance$4(re,ee,te){let ne="123 123",ie=0,oe="-",se;function ce(le){se=newTOTP(le.key),te(2,oe=le.name),ue()}function ue(){if(!se)return;const le=se.generate();te(0,ne=`${le.substring(0,3)} ${le.substring(3,6)}`),te(1,ie=getTimeUntilTOTPChange()),currentName.set(oe)}function ae(){navigator.clipboard.writeText(ne.replace(" ",""))}return setInterval(ue,1e3),[ne,ie,oe,ae,ce]}class Totpdisplay extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$4,create_fragment$4,safe_not_equal,{set:4})}get set(){return this.$$.ctx[4]}}const qrIcon="/assets/qr-code-outline.6d1800dd.svg",plusIcon="/assets/add-outline.fa372d22.svg",trashIcon="/assets/trash-outline.28058320.svg",editIcon="/assets/create-outline.b68008ae.svg",Topbar_svelte_svelte_type_style_lang="";function create_fragment$3(re){let ee,te,ne,ie,oe,se,ce,ue,ae;return te=new IconButton({props:{action:re[4],src:qrIcon,alt:"scan"}}),ie=new IconButton({props:{action:re[0],src:plusIcon,alt:"add"}}),se=new IconButton({props:{action:re[1],src:trashIcon,alt:"delete"}}),ue=new IconButton({props:{action:re[2],src:editIcon,alt:"edit"}}),{c(){ee=element("div"),create_component(te.$$.fragment),ne=space(),create_component(ie.$$.fragment),oe=space(),create_component(se.$$.fragment),ce=space(),create_component(ue.$$.fragment),attr(ee,"class","svelte-kbpegu")},m(le,he){insert(le,ee,he),mount_component(te,ee,null),append(ee,ne),mount_component(ie,ee,null),append(ee,oe),mount_component(se,ee,null),append(ee,ce),mount_component(ue,ee,null),ae=!0},p:noop,i(le){ae||(transition_in(te.$$.fragment,le),transition_in(ie.$$.fragment,le),transition_in(se.$$.fragment,le),transition_in(ue.$$.fragment,le),ae=!0)},o(le){transition_out(te.$$.fragment,le),transition_out(ie.$$.fragment,le),transition_out(se.$$.fragment,le),transition_out(ue.$$.fragment,le),ae=!1},d(le){le&&detach(ee),destroy_component(te),destroy_component(ie),destroy_component(se),destroy_component(ue)}}}function instance$3(re,ee,te){let ne,ie;component_subscribe(re,currentName,le=>te(5,ne=le)),component_subscribe(re,storage,le=>te(6,ie=le));let{PIN:oe}=ee;function se(){const le=prompt("Enter account name");if(!le)return;const he=prompt("Enter account key");!he||(ie.addAccount(oe,le,he),window.location.reload())}async function ce(){confirm("Delete selected account?")&&(await ie.removeAccount(oe,ne),await ie.addAccount(oe,ne,"deleteddeleteddeleted"),window.location.reload())}async function ue(){if(confirm("Edit selected account?")){const le=prompt("Enter new account key");if(!le)return;await ie.removeAccount(oe,ne),await ie.addAccount(oe,ne,le),window.location.reload()}}const ae=()=>alert("QR code scanning is coming soon-ish");return re.$$set=le=>{"PIN"in le&&te(3,oe=le.PIN)},[se,ce,ue,oe,ae]}class Topbar extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$3,create_fragment$3,safe_not_equal,{PIN:3})}}const Account_svelte_svelte_type_style_lang="";function create_fragment$2(re){let ee,te=re[0].name+"",ne,ie,oe,se,ce,ue;return{c(){ee=element("button"),ne=text(te),oe=space(),se=element("br"),attr(ee,"id",re[2]),attr(ee,"class",ie=null_to_empty(re[1]===re[0].name?"selected":"")+" svelte-xtbcxr")},m(ae,le){insert(ae,ee,le),append(ee,ne),insert(ae,oe,le),insert(ae,se,le),ce||(ue=listen(ee,"click",re[3]),ce=!0)},p(ae,[le]){le&1&&te!==(te=ae[0].name+"")&&set_data(ne,te),le&3&&ie!==(ie=null_to_empty(ae[1]===ae[0].name?"selected":"")+" svelte-xtbcxr")&&attr(ee,"class",ie)},i:noop,o:noop,d(ae){ae&&detach(ee),ae&&detach(oe),ae&&detach(se),ce=!1,ue()}}}function instance$2(re,ee,te){let ne;component_subscribe(re,currentName,ue=>te(1,ne=ue));let{token:ie}=ee,{setTOTPDisplay:oe}=ee;const se=`${ie.name}`;function ce(){oe(ie);const ue=document.getElementById(se);ue.style.opacity="0.75",setTimeout(()=>{ue.style.opacity="1"},100)}return re.$$set=ue=>{"token"in ue&&te(0,ie=ue.token),"setTOTPDisplay"in ue&&te(4,oe=ue.setTOTPDisplay)},[ie,ne,se,ce,oe]}class Account extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$2,create_fragment$2,safe_not_equal,{token:0,setTOTPDisplay:4})}}const deletedAccountString="deleteddeleteddeleted",Container_svelte_svelte_type_style_lang="";function get_each_context(re,ee,te){const ne=re.slice();return ne[5]=ee[te],ne}function create_catch_block(re){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_then_block(re){let ee,te,ne=re[4],ie=[];for(let se=0;se<ne.length;se+=1)ie[se]=create_each_block(get_each_context(re,ne,se));const oe=se=>transition_out(ie[se],1,1,()=>{ie[se]=null});return{c(){for(let se=0;se<ie.length;se+=1)ie[se].c();ee=empty()},m(se,ce){for(let ue=0;ue<ie.length;ue+=1)ie[ue].m(se,ce);insert(se,ee,ce),te=!0},p(se,ce){if(ce&6){ne=se[4];let ue;for(ue=0;ue<ne.length;ue+=1){const ae=get_each_context(se,ne,ue);ie[ue]?(ie[ue].p(ae,ce),transition_in(ie[ue],1)):(ie[ue]=create_each_block(ae),ie[ue].c(),transition_in(ie[ue],1),ie[ue].m(ee.parentNode,ee))}for(group_outros(),ue=ne.length;ue<ie.length;ue+=1)oe(ue);check_outros()}},i(se){if(!te){for(let ce=0;ce<ne.length;ce+=1)transition_in(ie[ce]);te=!0}},o(se){ie=ie.filter(Boolean);for(let ce=0;ce<ie.length;ce+=1)transition_out(ie[ce]);te=!1},d(se){destroy_each(ie,se),se&&detach(ee)}}}function create_if_block(re){let ee,te;return ee=new Account({props:{token:re[5],setTOTPDisplay:re[1]}}),{c(){create_component(ee.$$.fragment)},m(ne,ie){mount_component(ee,ne,ie),te=!0},p(ne,ie){const oe={};ie&2&&(oe.setTOTPDisplay=ne[1]),ee.$set(oe)},i(ne){te||(transition_in(ee.$$.fragment,ne),te=!0)},o(ne){transition_out(ee.$$.fragment,ne),te=!1},d(ne){destroy_component(ee,ne)}}}function create_each_block(re){let ee,te,ne=re[5].key!==deletedAccountString&&create_if_block(re);return{c(){ne&&ne.c(),ee=empty()},m(ie,oe){ne&&ne.m(ie,oe),insert(ie,ee,oe),te=!0},p(ie,oe){ie[5].key!==deletedAccountString&&ne.p(ie,oe)},i(ie){te||(transition_in(ne),te=!0)},o(ie){transition_out(ne),te=!1},d(ie){ne&&ne.d(ie),ie&&detach(ee)}}}function create_pending_block(re){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_fragment$1(re){let ee,te,ne,ie,oe,se,ce;te=new Topbar({props:{PIN:re[0]}});let ue={ctx:re,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:4,blocks:[,,,]};return handle_promise(re[2](),ue),{c(){ee=element("main"),create_component(te.$$.fragment),ne=space(),ie=element("div"),ue.block.c(),oe=space(),se=element("div"),attr(se,"id","bottom-padding"),attr(se,"class","svelte-1tpj1j7"),attr(ie,"id","container"),attr(ie,"class","svelte-1tpj1j7"),attr(ee,"class","svelte-1tpj1j7")},m(ae,le){insert(ae,ee,le),mount_component(te,ee,null),append(ee,ne),append(ee,ie),ue.block.m(ie,ue.anchor=null),ue.mount=()=>ie,ue.anchor=oe,append(ie,oe),append(ie,se),ce=!0},p(ae,[le]){re=ae;const he={};le&1&&(he.PIN=re[0]),te.$set(he),update_await_block_branch(ue,re,le)},i(ae){ce||(transition_in(te.$$.fragment,ae),transition_in(ue.block),ce=!0)},o(ae){transition_out(te.$$.fragment,ae);for(let le=0;le<3;le+=1){const he=ue.blocks[le];transition_out(he)}ce=!1},d(ae){ae&&detach(ee),destroy_component(te),ue.block.d(),ue.token=null,ue=null}}}function instance$1(re,ee,te){let ne;component_subscribe(re,storage,ce=>te(3,ne=ce));let{PIN:ie}=ee,{setTOTPDisplay:oe}=ee;async function se(){return console.log("DATA",(await ne.getData(ie))[1]),(await ne.getData(ie))[1]}return re.$$set=ce=>{"PIN"in ce&&te(0,ie=ce.PIN),"setTOTPDisplay"in ce&&te(1,oe=ce.setTOTPDisplay)},[ie,oe,se]}class Container extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance$1,create_fragment$1,safe_not_equal,{PIN:0,setTOTPDisplay:1})}}function create_fragment(re){let ee,te,ne,ie,oe,se,ce,ue;te=new Titlebar({props:{PIN}});function ae(he){re[1](he)}let le={};return re[0]!==void 0&&(le.set=re[0]),ie=new Totpdisplay({props:le}),binding_callbacks.push(()=>bind(ie,"set",ae)),ce=new Container({props:{PIN,setTOTPDisplay:re[0]}}),{c(){ee=element("main"),create_component(te.$$.fragment),ne=space(),create_component(ie.$$.fragment),se=space(),create_component(ce.$$.fragment)},m(he,fe){insert(he,ee,fe),mount_component(te,ee,null),append(ee,ne),mount_component(ie,ee,null),append(ee,se),mount_component(ce,ee,null),ue=!0},p(he,[fe]){const pe={};!oe&&fe&1&&(oe=!0,pe.set=he[0],add_flush_callback(()=>oe=!1)),ie.$set(pe);const de={};fe&1&&(de.setTOTPDisplay=he[0]),ce.$set(de)},i(he){ue||(transition_in(te.$$.fragment,he),transition_in(ie.$$.fragment,he),transition_in(ce.$$.fragment,he),ue=!0)},o(he){transition_out(te.$$.fragment,he),transition_out(ie.$$.fragment,he),transition_out(ce.$$.fragment,he),ue=!1},d(he){he&&detach(ee),destroy_component(te),destroy_component(ie),destroy_component(ce)}}}const PIN="blob";function instance(re,ee,te){let ne;component_subscribe(re,storage,se=>te(2,ne=se));let ie;ne.verifyLocalData()||ne.initLocalData(PIN);function oe(se){ie=se,te(0,ie)}return[ie,oe]}class App extends SvelteComponent{constructor(ee){super(),init$1(this,ee,instance,create_fragment,safe_not_equal,{})}}new App({target:document.getElementById("app")});
